<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GARCH(1,1) â€” Diagnostic Plots</title>
<style>* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
    background: #fff;
    color: #333;
    padding: 20px;
}
.figure-title {
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 16px;
    color: #222;
}
.figure-source {
    font-size: 11px;
    color: #888;
    text-align: center;
    margin-top: 8px;
}
.panel-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
}
.panel {
    width: calc(100% - 16px);
    min-width: 300px;
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    padding: 12px;
}
.panel-title {
    font-size: 13px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 8px;
    color: #444;
}
.axis text { font-size: 11px; fill: #666; }
.axis line, .axis path { stroke: #ccc; }
.grid line { stroke: #f0f0f0; stroke-dasharray: 2,2; }
.grid .domain { stroke: none; }
.tooltip {
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 6px 10px;
    border-radius: 4px;
    font-size: 11px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s;
    z-index: 1000;
}
.legend { font-size: 11px; }
.legend rect { rx: 2; }
svg { overflow: visible; }
</style>
</head>
<body>
<div class="figure-title">GARCH(1,1) â€” Diagnostic Plots</div>
<div class="panel-grid">
<div class="panel">
<div class="panel-title">Returns</div>
<div id="vol_ret_81"></div>
</div>
<div class="panel">
<div class="panel-title">Conditional Volatility</div>
<div id="vol_sig_82"></div>
</div>
<div class="panel">
<div class="panel-title">Standardized Residuals</div>
<div id="vol_zr_83"></div>
</div>
</div>

<div class="tooltip" id="tooltip"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<script>
// Shared utilities
const tooltip = d3.select('#tooltip');
function fmt(v) {
    if (v === null || v === undefined) return '';
    return Math.abs(v) >= 1000 ? v.toFixed(1) : (Math.abs(v) >= 1 ? v.toFixed(3) : v.toFixed(4));
}
function showTip(evt, html) {
    tooltip.html(html).style('opacity',1)
        .style('left',(evt.pageX+12)+'px').style('top',(evt.pageY-28)+'px');
}
function hideTip() { tooltip.style('opacity',0); }

(function() {
    const data = [{"x":1,"ret":0.060157482811844076,"vol":0.034295873785641987,"std_resid":1.7540734838203507},
{"x":2,"ret":0.04046593256171338,"vol":0.03820108901630406,"std_resid":1.0592874078653278},
{"x":3,"ret":-0.011000454689821915,"vol":0.0373099381532831,"std_resid":-0.2948397996434075},
{"x":4,"ret":-0.0006915629597887829,"vol":0.034922809488628796,"std_resid":-0.019802615251042804},
{"x":5,"ret":0.04166563717009453,"vol":0.032144564834812775,"std_resid":1.2961954029929927},
{"x":6,"ret":0.028456539914007983,"vol":0.03270646058103063,"std_resid":0.8700586797983407},
{"x":7,"ret":0.06037799163713675,"vol":0.031207869036490723,"std_resid":1.934704082695874},
{"x":8,"ret":-0.033022596320249065,"vol":0.03610751375774889,"std_resid":-0.914563005966098},
{"x":9,"ret":-0.12874658752038393,"vol":0.03717348938350646,"std_resid":-3.4633979660114345},
{"x":10,"ret":-0.13424542335817957,"vol":0.06650101104292505,"std_resid":-2.01869747922369},
{"x":11,"ret":-0.01646127705407263,"vol":0.08420073139639425,"std_resid":-0.19550040458172976},
{"x":12,"ret":0.03866198703426438,"vol":0.07587319767298008,"std_resid":0.5095605328366524},
{"x":13,"ret":0.02988818619964917,"vol":0.06901302631483279,"std_resid":0.43308035881952595},
{"x":14,"ret":0.02902074604119953,"vol":0.062436221776014066,"std_resid":0.4648062489320637},
{"x":15,"ret":-0.011735890897072387,"vol":0.05665431480413996,"std_resid":-0.20714911013652923},
{"x":16,"ret":-0.025063968663215697,"vol":0.05156295896060292,"std_resid":-0.4860847625592243},
{"x":17,"ret":0.05544320341477604,"vol":0.04845155455120693,"std_resid":1.1443018480692886},
{"x":18,"ret":-0.00592813888739574,"vol":0.04797466393279968,"std_resid":-0.12356811703151391},
{"x":19,"ret":-0.020270964373619194,"vol":0.04367871776569034,"std_resid":-0.4640924782261362},
{"x":20,"ret":0.016174887151615636,"vol":0.041273722335598756,"std_resid":0.3918931038033545},
{"x":21,"ret":0.03447352736987419,"vol":0.03758924434236521,"std_resid":0.9171114762480226},
{"x":22,"ret":-0.023341687001029676,"vol":0.03597085271103931,"std_resid":-0.6489055788734808},
{"x":23,"ret":0.02009200008268852,"vol":0.03537309089439708,"std_resid":0.5680023875400437},
{"x":24,"ret":0.031680884080346416,"vol":0.032708728091417644,"std_resid":0.9685758489844514},
{"x":25,"ret":0.02968806229594545,"vol":0.03160406713778899,"std_resid":0.9393747382737151},
{"x":26,"ret":-0.004431573640840902,"vol":0.03044711149633063,"std_resid":-0.1455498871009481},
{"x":27,"ret":0.03227170808757229,"vol":0.028572388018957746,"std_resid":1.1294718546507228},
{"x":28,"ret":0.03765456206249507,"vol":0.028350615216970868,"std_resid":1.328174424939985},
{"x":29,"ret":0.030742697084290782,"vol":0.029057889260718704,"std_resid":1.0579810807473085},
{"x":30,"ret":0.025016557793730243,"vol":0.02851873298092301,"std_resid":0.8771973779643201},
{"x":31,"ret":0.043337658555576475,"vol":0.02737191919576341,"std_resid":1.5832889994167534},
{"x":32,"ret":0.002017582468522683,"vol":0.029423010434970368,"std_resid":0.06857158525575986},
{"x":33,"ret":0.0002878940569761568,"vol":0.027331494045010347,"std_resid":0.010533418206192606},
{"x":34,"ret":-0.020943173845243024,"vol":0.025642912913100783,"std_resid":-0.8167236661535167},
{"x":35,"ret":0.024391453124159135,"vol":0.026903890629283337,"std_resid":0.9066143428939769},
{"x":36,"ret":-0.02506775466279354,"vol":0.02598036228600708,"std_resid":-0.9648731756252273},
{"x":37,"ret":-0.028402016506665184,"vol":0.02797201491176531,"std_resid":-1.0153725641951883},
{"x":38,"ret":0.023950555063477985,"vol":0.030130296840507904,"std_resid":0.7948994060781465},
{"x":39,"ret":-0.0008276188696560993,"vol":0.028595239685785846,"std_resid":-0.02894254004338677},
{"x":40,"ret":0.0350688871068332,"vol":0.02676917017616389,"std_resid":1.3100475986386624},
{"x":41,"ret":0.028539593184277123,"vol":0.027386721781738652,"std_resid":1.0420959986275977},
{"x":42,"ret":-0.0009994170899343402,"vol":0.026875632180495823,"std_resid":-0.03718673790526263},
{"x":43,"ret":-0.08482455831639424,"vol":0.025335153459910366,"std_resid":-3.34809727719306},
{"x":44,"ret":-0.047489423198293856,"vol":0.04553970912055532,"std_resid":-1.0428134943193674},
{"x":45,"ret":-0.02663482910422932,"vol":0.04726660092704969,"std_resid":-0.5635021046962309},
{"x":46,"ret":0.02625429952931846,"vol":0.045068771002155894,"std_resid":0.5825386169962915},
{"x":47,"ret":0.041804733270113914,"vol":0.041445160301864035,"std_resid":1.0086758735068448},
{"x":48,"ret":-0.009965844281485836,"vol":0.04014168158589693,"std_resid":-0.24826673641363245},
{"x":49,"ret":0.10703044685428154,"vol":0.037227967874133204,"std_resid":2.8750010534055663},
{"x":50,"ret":0.027284073252739738,"vol":0.05349988046542198,"std_resid":0.5099838170736469},
{"x":51,"ret":0.0196825333699433,"vol":0.04878634125149278,"std_resid":0.4034435226138432},
{"x":52,"ret":-0.004461052444260538,"vol":0.04425860625470669,"std_resid":-0.10079514069167342},
{"x":53,"ret":0.000793356999352568,"vol":0.0403805297227642,"std_resid":0.019647018124809772},
{"x":54,"ret":0.005115235537913598,"vol":0.03678796174433716,"std_resid":0.13904645148493436},
{"x":55,"ret":0.023830760157640185,"vol":0.033568433999274526,"std_resid":0.709915754728243},
{"x":56,"ret":-0.005665737535677451,"vol":0.03146138442423885,"std_resid":-0.18008544885622985},
{"x":57,"ret":-0.0008267879759937813,"vol":0.02952286462697888,"std_resid":-0.02800500515245521},
{"x":58,"ret":-0.0024844733276614406,"vol":0.02755216270513078,"std_resid":-0.09017344134654011},
{"x":59,"ret":0.0066888154034066005,"vol":0.026000666678865185,"std_resid":0.25725553448380034},
{"x":60,"ret":0.06855863996264411,"vol":0.024315256561554126,"std_resid":2.819572961901009},
{"x":61,"ret":-0.00849589972211362,"vol":0.03410368959845303,"std_resid":-0.2491196648265002},
{"x":62,"ret":-0.012684334373661343,"vol":0.03198927078180699,"std_resid":-0.39651839706440595},
{"x":63,"ret":0.00012273402325213567,"vol":0.030666481943625902,"std_resid":0.004002220518080856},
{"x":64,"ret":0.018000534676342106,"vol":0.028471446420428523,"std_resid":0.6322311276544966},
{"x":65,"ret":-0.015891863828300323,"vol":0.026724569410407156,"std_resid":-0.5946536905515742},
{"x":66,"ret":0.016470274660708384,"vol":0.02686379652719772,"std_resid":0.6131030155783596},
{"x":67,"ret":0.006914959485198935,"vol":0.02528095898735437,"std_resid":0.2735244137161815},
{"x":68,"ret":0.0013151446761119345,"vol":0.023706729960750007,"std_resid":0.055475583443577024},
{"x":69,"ret":-0.014392893287619835,"vol":0.022560412007852287,"std_resid":-0.6379712073791162},
{"x":70,"ret":0.02475765112572681,"vol":0.02339987579268068,"std_resid":1.0580248948787512},
{"x":71,"ret":0.029822357307023317,"vol":0.023195205022141115,"std_resid":1.2857121667411957},
{"x":72,"ret":-0.000941587218050266,"vol":0.023758745472234787,"std_resid":-0.03963118419491611},
{"x":73,"ret":0.014756291613045924,"vol":0.02274130766736624,"std_resid":0.6488761257217056},
{"x":74,"ret":0.01897215652254225,"vol":0.02175498696509201,"std_resid":0.8720831022783382},
{"x":75,"ret":-0.015852734476291097,"vol":0.02125018997317144,"std_resid":-0.7460043649635755},
{"x":76,"ret":0.0048855815210391285,"vol":0.022674255068253824,"std_resid":0.21546822624745987},
{"x":77,"ret":0.00629122984901187,"vol":0.02156256617653406,"std_resid":0.2917662859561883},
{"x":78,"ret":-0.0017199981902722428,"vol":0.02061329588200298,"std_resid":-0.08344120222782693},
{"x":79,"ret":0.01517634683666369,"vol":0.02023896696105778,"std_resid":0.7498577800865438},
{"x":80,"ret":0.011189448560436688,"vol":0.01973400699468174,"std_resid":0.5670135093928067},
{"x":81,"ret":0.010096062532086059,"vol":0.0191421482931433,"std_resid":0.5274257819694386},
{"x":82,"ret":-0.0021795668918187516,"vol":0.01863589186384605,"std_resid":-0.1169553304849954},
{"x":83,"ret":0.006588887365786,"vol":0.0187081993764029,"std_resid":0.35219249235160077},
{"x":84,"ret":0.014995914387731624,"vol":0.018276833850614134,"std_resid":0.820487536862285},
{"x":85,"ret":-0.002985487676494536,"vol":0.018148389220768897,"std_resid":-0.16450427859889424},
{"x":86,"ret":-0.016613773336225712,"vol":0.01840814017739965,"std_resid":-0.9025231868140081},
{"x":87,"ret":-0.03640198193711086,"vol":0.02077669160781126,"std_resid":-1.752058634947687},
{"x":88,"ret":0.008172581757473374,"vol":0.027283772968550547,"std_resid":0.29954001475139613},
{"x":89,"ret":0.008678137334561242,"vol":0.025393425295972404,"std_resid":0.34174741034001677},
{"x":90,"ret":-0.0075698583781642625,"vol":0.02379741784790728,"std_resid":-0.31809578780959835},
{"x":91,"ret":0.02804779549891734,"vol":0.02339366511793567,"std_resid":1.1989483203046023},
{"x":92,"ret":0.00584194101318225,"vol":0.023639893970519396,"std_resid":0.24712213263170976},
{"x":93,"ret":-0.006768615288859081,"vol":0.022345337226711753,"std_resid":-0.30290951620850176},
{"x":94,"ret":-0.006055250871325413,"vol":0.02213865081196049,"std_resid":-0.27351490037749004},
{"x":95,"ret":-0.012704820530091254,"vol":0.021891661667302775,"std_resid":-0.5803497570523429},
{"x":96,"ret":0.02185998131710054,"vol":0.02261234718452556,"std_resid":0.9667276527604401},
{"x":97,"ret":0.03520322964911404,"vol":0.022226524689980914,"std_resid":1.5838386855405542},
{"x":98,"ret":0.023035262228528808,"vol":0.023993694402170383,"std_resid":0.960054831174524},
{"x":99,"ret":0.029490879128513114,"vol":0.023467185803251828,"std_resid":1.2566857984491089},
{"x":100,"ret":0.030824756619064253,"vol":0.02391636800787888,"std_resid":1.2888560925684667},
{"x":101,"ret":0.0292356876738582,"vol":0.024475979804981337,"std_resid":1.194464446645285},
{"x":102,"ret":0.03286458146475013,"vol":0.024662816608915443,"std_resid":1.3325558871029275},
{"x":103,"ret":0.0031169414744951496,"vol":0.025389373505181487,"std_resid":0.12276559222144813},
{"x":104,"ret":0.03455892827809404,"vol":0.023883939311603607,"std_resid":1.446952608077687},
{"x":105,"ret":0.007144793626718382,"vol":0.025099032063948208,"std_resid":0.28466411009454956},
{"x":106,"ret":0.021401809694691742,"vol":0.023551887274446206,"std_resid":0.9087089049510144},
{"x":107,"ret":0.03147107090924006,"vol":0.022936252347984503,"std_resid":1.372110422913338},
{"x":108,"ret":-0.0002441028824398117,"vol":0.023833826212028373,"std_resid":-0.010241867179371254},
{"x":109,"ret":0.055585686662594114,"vol":0.02275665766030735,"std_resid":2.4426120695020983},
{"x":110,"ret":-0.0038099397471897944,"vol":0.029331353401544434,"std_resid":-0.12989307704393835},
{"x":111,"ret":0.00015453084466354738,"vol":0.027588040537527447,"std_resid":0.005601370798819229},
{"x":112,"ret":0.02149272582134909,"vol":0.025865864154646187,"std_resid":0.8309301283285536},
{"x":113,"ret":0.010934659573592853,"vol":0.024833807791917115,"std_resid":0.44031344952069157},
{"x":114,"ret":-0.03722898069241509,"vol":0.023355618835265577,"std_resid":-1.594005320732567},
{"x":115,"ret":0.02848480322075364,"vol":0.029106577197041364,"std_resid":0.9786380249357892},
{"x":116,"ret":0.01824267822007286,"vol":0.028258926096967504,"std_resid":0.6455545464634802},
{"x":117,"ret":0.038628979956373044,"vol":0.026561978771056614,"std_resid":1.454296017978348},
{"x":118,"ret":0.04761777136918699,"vol":0.027876582690587254,"std_resid":1.708163869930352},
{"x":119,"ret":0.01025081326223809,"vol":0.030718973651285928,"std_resid":0.3336964762756317},
{"x":120,"ret":0.030436872892877886,"vol":0.028334416231123895,"std_resid":1.0742015167916024},
{"x":121,"ret":0.041127865097629446,"vol":0.027895392001449082,"std_resid":1.4743605358007865},
{"x":122,"ret":-0.00783380825560176,"vol":0.02936263302413408,"std_resid":-0.266795155909993},
{"x":123,"ret":-0.03628722968088827,"vol":0.027966808065818572,"std_resid":-1.2975105916802507},
{"x":124,"ret":0.086665517615657,"vol":0.0319239495059027,"std_resid":2.714749238643942},
{"x":125,"ret":0.05055540683178439,"vol":0.04405474696467712,"std_resid":1.1475586699503566},
{"x":126,"ret":0.054410115511180024,"vol":0.0436339139369527,"std_resid":1.246968483959473},
{"x":127,"ret":0.0021052298426464944,"vol":0.043984417681003495,"std_resid":0.047863083192658154},
{"x":128,"ret":0.010492194994316861,"vol":0.03987715392592044,"std_resid":0.2631129346344062},
{"x":129,"ret":0.014977665619887226,"vol":0.036237232995810366,"std_resid":0.41332255201766915},
{"x":130,"ret":-0.012952013787010053,"vol":0.03319358845123138,"std_resid":-0.3901962514851139},
{"x":131,"ret":0.02466871354409772,"vol":0.0316911306207476,"std_resid":0.7784106486862785},
{"x":132,"ret":0.0010281816113533182,"vol":0.029964812599902853,"std_resid":0.034312966514486114},
{"x":133,"ret":0.06079069339366594,"vol":0.02783296441184941,"std_resid":2.18412571848744},
{"x":134,"ret":0.05055895171946201,"vol":0.033972274335005354,"std_resid":1.4882415943334588},
{"x":135,"ret":0.032318495924197777,"vol":0.035822753089479124,"std_resid":0.9021778935714876},
{"x":136,"ret":-0.0034044579000047648,"vol":0.034242118982337096,"std_resid":-0.09942310818325424},
{"x":137,"ret":-2.7065919047331022e-5,"vol":0.03171367801833511,"std_resid":-0.0008534462332525098},
{"x":138,"ret":0.04255886257725372,"vol":0.029369802413693108,"std_resid":1.449068739986193},
{"x":139,"ret":-0.0735002638137372,"vol":0.03075167544267032,"std_resid":-2.3901222536886535},
{"x":140,"ret":-0.05153722920428283,"vol":0.0443618077786128,"std_resid":-1.1617477236608325},
{"x":141,"ret":0.011524108229345131,"vol":0.047245524162056296,"std_resid":0.24391957616591212},
{"x":142,"ret":0.10295270671964385,"vol":0.0426694100095179,"std_resid":2.4127989277723567},
{"x":143,"ret":0.039088626586982755,"vol":0.05538130709714254,"std_resid":0.7058090289999597},
{"x":144,"ret":0.04816374382090771,"vol":0.051432323381485213,"std_resid":0.9364489226680719},
{"x":145,"ret":-0.001755265243172488,"vol":0.04924657106112449,"std_resid":-0.035642384948870155},
{"x":146,"ret":0.02775231109028642,"vol":0.04458659082245496,"std_resid":0.6224362656655426},
{"x":147,"ret":0.04059538769429949,"vol":0.04115209528195079,"std_resid":0.9864719503627445},
{"x":148,"ret":-0.0020173771198876977,"vol":0.03972730020950614,"std_resid":-0.050780624639702295},
{"x":149,"ret":-0.007172432070904122,"vol":0.03634051370098654,"std_resid":-0.19736738258351622},
{"x":150,"ret":0.04323894205231227,"vol":0.03376772919191058,"std_resid":1.2804811897943855},
{"x":151,"ret":-0.03951069212242242,"vol":0.03424942332233548,"std_resid":-1.1536162740776965},
{"x":152,"ret":-0.007045530078172213,"vol":0.03714020578999652,"std_resid":-0.18970088959684445},
{"x":153,"ret":-0.013872454325128736,"vol":0.03443758092402874,"std_resid":-0.40282894305881006},
{"x":154,"ret":0.06765095619570793,"vol":0.03282731631880337,"std_resid":2.0608128772609327},
{"x":155,"ret":0.026728028109572755,"vol":0.03908682809228612,"std_resid":0.6838116422869216},
{"x":156,"ret":-0.002165177931421347,"vol":0.03638076273761997,"std_resid":-0.0595143633198877},
{"x":157,"ret":-0.026095296239902588,"vol":0.033469473247512406,"std_resid":-0.7796745424382232},
{"x":158,"ret":0.037686192447988986,"vol":0.03384990542915107,"std_resid":1.1133322817361304},
{"x":159,"ret":0.013190849658747617,"vol":0.03338515215319473,"std_resid":0.39511126378033723},
{"x":160,"ret":-0.02978163321969518,"vol":0.030682372682473386,"std_resid":-0.970643096213588},
{"x":161,"ret":0.030192125405583248,"vol":0.032422346852098285,"std_resid":0.9312134480366678},
{"x":162,"ret":0.007523136308313916,"vol":0.03118032021080745,"std_resid":0.24127835305893722},
{"x":163,"ret":0.008423351116875644,"vol":0.02871622895765451,"std_resid":0.293330685212772},
{"x":164,"ret":-0.011789499039568163,"vol":0.026610785838341054,"std_resid":-0.4430346067639141},
{"x":165,"ret":-0.0545305280626005,"vol":0.026180055566908157,"std_resid":-2.082903450041856},
{"x":166,"ret":-0.008742261748827751,"vol":0.035835725398970966,"std_resid":-0.24395381010143546},
{"x":167,"ret":-0.03478425375247074,"vol":0.033471334375836825,"std_resid":-1.0392251877947751},
{"x":168,"ret":0.0035251446561126443,"vol":0.03553911311331615,"std_resid":0.09919056350316766},
{"x":169,"ret":-0.02262550231574334,"vol":0.032521947002049134,"std_resid":-0.6956995014572085},
{"x":170,"ret":-0.09631777130550478,"vol":0.03251293488295727,"std_resid":-2.962444690159083},
{"x":171,"ret":0.0033590272734391746,"vol":0.05289674705704625,"std_resid":0.06350158488605448},
{"x":172,"ret":0.0654893523201272,"vol":0.04763480369418818,"std_resid":1.3748215011142664},
{"x":173,"ret":-0.025237681097165066,"vol":0.049230237502726155,"std_resid":-0.512645934234372},
{"x":174,"ret":-0.028047484314399185,"vol":0.04651950467455059,"std_resid":-0.6029188081562509},
{"x":175,"ret":-0.021780587816719432,"vol":0.04464774994439216,"std_resid":-0.4878317013476983},
{"x":176,"ret":-0.12057011493786263,"vol":0.042266158645373884,"std_resid":-2.8526395301139877},
{"x":177,"ret":0.03012631014455902,"vol":0.06604516378201304,"std_resid":0.45614710327607244},
{"x":178,"ret":0.04813576817811427,"vol":0.05986528524504669,"std_resid":0.8040681336617713},
{"x":179,"ret":0.01340909298732118,"vol":0.05626146731604319,"std_resid":0.2383352874889831},
{"x":180,"ret":-0.00413104379813678,"vol":0.05059495949276131,"std_resid":-0.08164931525892048},
{"x":181,"ret":-0.0352933706752081,"vol":0.04586238859645439,"std_resid":-0.7695493356387596},
{"x":182,"ret":0.04713309049691006,"vol":0.045236132355366006,"std_resid":1.0419345784613487},
{"x":183,"ret":-0.03695493158305485,"vol":0.044027103671504995,"std_resid":-0.8393677644294516},
{"x":184,"ret":-0.029830888753241247,"vol":0.04406636294550618,"std_resid":-0.6769537297673294},
{"x":185,"ret":-0.06234372661309351,"vol":0.042909140348406864,"std_resid":-1.4529241580438284},
{"x":186,"ret":-0.11530219013361975,"vol":0.048763921356093504,"std_resid":-2.364497910076538},
{"x":187,"ret":0.009867160787155882,"vol":0.06779712979162333,"std_resid":0.14553950613370978},
{"x":188,"ret":-0.05027008178568604,"vol":0.06070082554702965,"std_resid":-0.8281614184429484},
{"x":189,"ret":-0.0153041699542662,"vol":0.05966896763661091,"std_resid":-0.25648457750215986},
{"x":190,"ret":0.06269904673916393,"vol":0.05442791883690616,"std_resid":1.1519648018702},
{"x":191,"ret":-0.011884436576053758,"vol":0.05400003882994135,"std_resid":-0.22008200056078858},
{"x":192,"ret":-0.0037214112986045933,"vol":0.049275161573866515,"std_resid":-0.0755230663835768},
{"x":193,"ret":-0.06790191345952046,"vol":0.04469496931913525,"std_resid":-1.5192294455933237},
{"x":194,"ret":0.011403851179016655,"vol":0.05141677966095345,"std_resid":0.22179240423485494},
{"x":195,"ret":0.049991406703177255,"vol":0.04631675701184333,"std_resid":1.0793373700666111},
{"x":196,"ret":0.050317570498433106,"vol":0.04535291393845646,"std_resid":1.1094672013073656},
{"x":197,"ret":0.05410995722617873,"vol":0.044631515306029344,"std_resid":1.2123710533948402},
{"x":198,"ret":0.004584616268365593,"vol":0.044713054889408736,"std_resid":0.10253417664494134},
{"x":199,"ret":-0.003037231090607939,"vol":0.04046051694666451,"std_resid":-0.07506654189840554},
{"x":200,"ret":0.02977865297839788,"vol":0.03702448678236315,"std_resid":0.8042961717050223},
{"x":201,"ret":0.018745356169324268,"vol":0.03494584521332857,"std_resid":0.5364115835485549},
{"x":202,"ret":0.010696108447547203,"vol":0.032261861127390434,"std_resid":0.3315403412503741},
{"x":203,"ret":0.028858536676307445,"vol":0.02966270806345714,"std_resid":0.9728894817887384},
{"x":204,"ret":0.04689178004819983,"vol":0.02875833994845578,"std_resid":1.6305454394184442},
{"x":205,"ret":0.009526057589642534,"vol":0.031194803990855415,"std_resid":0.3053732151173332},
{"x":206,"ret":-0.01709533813402242,"vol":0.028733784959839713,"std_resid":-0.5949560128578961},
{"x":207,"ret":0.008310714370073136,"vol":0.028634426407170534,"std_resid":0.290235056637698},
{"x":208,"ret":-0.027352407740604434,"vol":0.026540949692767286,"std_resid":-1.0305738135684828},
{"x":209,"ret":0.026822868251062282,"vol":0.028863090213397412,"std_resid":0.929313807106208},
{"x":210,"ret":-0.024042862566822976,"vol":0.02785798291226175,"std_resid":-0.8630510917658888},
{"x":211,"ret":-0.015409524018366483,"vol":0.029163092048785366,"std_resid":-0.5283912965260583},
{"x":212,"ret":0.02603246797633041,"vol":0.028725997324950764,"std_resid":0.9062337394886264},
{"x":213,"ret":-0.00040270799293207205,"vol":0.027654525613297426,"std_resid":-0.014562100922043427},
{"x":214,"ret":0.045262849255496285,"vol":0.025952722724540137,"std_resid":1.744050122829581},
{"x":215,"ret":0.02556565141095568,"vol":0.028816225779679076,"std_resid":0.8871963874250434},
{"x":216,"ret":-0.014954366275299336,"vol":0.027676346876889257,"std_resid":-0.5403302083840685},
{"x":217,"ret":0.015304535527348229,"vol":0.027473671629780726,"std_resid":0.557061893058317},
{"x":218,"ret":-0.003950676042554946,"vol":0.02573129377465512,"std_resid":-0.15353584927184244},
{"x":219,"ret":-0.0258308029739851,"vol":0.024602631406363585,"std_resid":-1.0499203336153646},
{"x":220,"ret":0.011824051087475418,"vol":0.027136732826645752,"std_resid":0.4357212477644065},
{"x":221,"ret":0.02013905318857301,"vol":0.025316668295665416,"std_resid":0.7954859207133945},
{"x":222,"ret":0.01649043963527763,"vol":0.02425946492806861,"std_resid":0.679752817474466},
{"x":223,"ret":0.0016595071885090462,"vol":0.023111437015986204,"std_resid":0.07180458693940854},
{"x":224,"ret":0.0013468345307261487,"vol":0.0220496269457913,"std_resid":0.061081964517464296},
{"x":225,"ret":-0.028092571497019492,"vol":0.021191358532965544,"std_resid":-1.3256616584216785},
{"x":226,"ret":0.03738914840433871,"vol":0.0253156874860699,"std_resid":1.476916177959311},
{"x":227,"ret":0.019765070655174632,"vol":0.02670440183458817,"std_resid":0.740142796592225},
{"x":228,"ret":0.013114167795042597,"vol":0.025375776586504428,"std_resid":0.5167986780754167},
{"x":229,"ret":-0.0016279382787409702,"vol":0.023873506727390786,"std_resid":-0.06819016147607625},
{"x":230,"ret":0.013297788924127474,"vol":0.02288521491504205,"std_resid":0.5810646294340487},
{"x":231,"ret":0.006494855086375928,"vol":0.021804541274644446,"std_resid":0.29786708211690344},
{"x":232,"ret":-0.009382133337926923,"vol":0.02081023085257052,"std_resid":-0.4508423479006252},
{"x":233,"ret":-0.028973629189040118,"vol":0.02127525691897894,"std_resid":-1.3618462657996726},
{"x":234,"ret":0.005625837923097343,"vol":0.02559263513970112,"std_resid":0.21982253458418363},
{"x":235,"ret":0.02112829292352636,"vol":0.02398635371465146,"std_resid":0.8808463835260076},
{"x":236,"ret":0.02348767609243385,"vol":0.02326173304974394,"std_resid":1.0097130786518245},
{"x":237,"ret":0.0340487625980872,"vol":0.022930694543812087,"std_resid":1.4848552682533271},
{"x":238,"ret":0.018357940284173146,"vol":0.024291512053852132,"std_resid":0.7557347703788557},
{"x":239,"ret":0.019807710547122603,"vol":0.023269165946266983,"std_resid":0.851242824640232},
{"x":240,"ret":0.005449604767564509,"vol":0.022553443780496372,"std_resid":0.24163071593869778},
{"x":241,"ret":0.014388737452099676,"vol":0.021448877875393207,"std_resid":0.6708387047420725},
{"x":242,"ret":-0.026546662782473085,"vol":0.020673328761000614,"std_resid":-1.2841019987333764},
{"x":243,"ret":0.039502242762899265,"vol":0.024589090901572002,"std_resid":1.606494641100125},
{"x":244,"ret":0.031937849209096036,"vol":0.02658831797061085,"std_resid":1.2011985581185782},
{"x":245,"ret":0.0020163096477512354,"vol":0.026732115057821,"std_resid":0.07542649144633713},
{"x":246,"ret":0.004296688543782068,"vol":0.02505576067245908,"std_resid":0.17148505686777749},
{"x":247,"ret":-0.04443263293346522,"vol":0.0235658889502896,"std_resid":-1.8854639019640798},
{"x":248,"ret":0.028798564417291672,"vol":0.03127696460417217,"std_resid":0.9207595680000901},
{"x":249,"ret":0.028018350283972815,"vol":0.03007028456444868,"std_resid":0.9317620597810433},
{"x":250,"ret":-0.05080595078666139,"vol":0.028987505278929734,"std_resid":-1.7526844858771244},
{"x":251,"ret":0.01075925977866099,"vol":0.0364313485999673,"std_resid":0.2953297144391368}];
    const series = [{"name":"Returns","color":"#1f77b4","key":"ret","dash":""}];
    const bands = [];
    const refLines = [{"value":0,"color":"#999","dash":"4,3"}];

    const container = d3.select('#vol_ret_81');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('');
    if('Returns') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Returns');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"ret":0.060157482811844076,"vol":0.034295873785641987,"std_resid":1.7540734838203507},
{"x":2,"ret":0.04046593256171338,"vol":0.03820108901630406,"std_resid":1.0592874078653278},
{"x":3,"ret":-0.011000454689821915,"vol":0.0373099381532831,"std_resid":-0.2948397996434075},
{"x":4,"ret":-0.0006915629597887829,"vol":0.034922809488628796,"std_resid":-0.019802615251042804},
{"x":5,"ret":0.04166563717009453,"vol":0.032144564834812775,"std_resid":1.2961954029929927},
{"x":6,"ret":0.028456539914007983,"vol":0.03270646058103063,"std_resid":0.8700586797983407},
{"x":7,"ret":0.06037799163713675,"vol":0.031207869036490723,"std_resid":1.934704082695874},
{"x":8,"ret":-0.033022596320249065,"vol":0.03610751375774889,"std_resid":-0.914563005966098},
{"x":9,"ret":-0.12874658752038393,"vol":0.03717348938350646,"std_resid":-3.4633979660114345},
{"x":10,"ret":-0.13424542335817957,"vol":0.06650101104292505,"std_resid":-2.01869747922369},
{"x":11,"ret":-0.01646127705407263,"vol":0.08420073139639425,"std_resid":-0.19550040458172976},
{"x":12,"ret":0.03866198703426438,"vol":0.07587319767298008,"std_resid":0.5095605328366524},
{"x":13,"ret":0.02988818619964917,"vol":0.06901302631483279,"std_resid":0.43308035881952595},
{"x":14,"ret":0.02902074604119953,"vol":0.062436221776014066,"std_resid":0.4648062489320637},
{"x":15,"ret":-0.011735890897072387,"vol":0.05665431480413996,"std_resid":-0.20714911013652923},
{"x":16,"ret":-0.025063968663215697,"vol":0.05156295896060292,"std_resid":-0.4860847625592243},
{"x":17,"ret":0.05544320341477604,"vol":0.04845155455120693,"std_resid":1.1443018480692886},
{"x":18,"ret":-0.00592813888739574,"vol":0.04797466393279968,"std_resid":-0.12356811703151391},
{"x":19,"ret":-0.020270964373619194,"vol":0.04367871776569034,"std_resid":-0.4640924782261362},
{"x":20,"ret":0.016174887151615636,"vol":0.041273722335598756,"std_resid":0.3918931038033545},
{"x":21,"ret":0.03447352736987419,"vol":0.03758924434236521,"std_resid":0.9171114762480226},
{"x":22,"ret":-0.023341687001029676,"vol":0.03597085271103931,"std_resid":-0.6489055788734808},
{"x":23,"ret":0.02009200008268852,"vol":0.03537309089439708,"std_resid":0.5680023875400437},
{"x":24,"ret":0.031680884080346416,"vol":0.032708728091417644,"std_resid":0.9685758489844514},
{"x":25,"ret":0.02968806229594545,"vol":0.03160406713778899,"std_resid":0.9393747382737151},
{"x":26,"ret":-0.004431573640840902,"vol":0.03044711149633063,"std_resid":-0.1455498871009481},
{"x":27,"ret":0.03227170808757229,"vol":0.028572388018957746,"std_resid":1.1294718546507228},
{"x":28,"ret":0.03765456206249507,"vol":0.028350615216970868,"std_resid":1.328174424939985},
{"x":29,"ret":0.030742697084290782,"vol":0.029057889260718704,"std_resid":1.0579810807473085},
{"x":30,"ret":0.025016557793730243,"vol":0.02851873298092301,"std_resid":0.8771973779643201},
{"x":31,"ret":0.043337658555576475,"vol":0.02737191919576341,"std_resid":1.5832889994167534},
{"x":32,"ret":0.002017582468522683,"vol":0.029423010434970368,"std_resid":0.06857158525575986},
{"x":33,"ret":0.0002878940569761568,"vol":0.027331494045010347,"std_resid":0.010533418206192606},
{"x":34,"ret":-0.020943173845243024,"vol":0.025642912913100783,"std_resid":-0.8167236661535167},
{"x":35,"ret":0.024391453124159135,"vol":0.026903890629283337,"std_resid":0.9066143428939769},
{"x":36,"ret":-0.02506775466279354,"vol":0.02598036228600708,"std_resid":-0.9648731756252273},
{"x":37,"ret":-0.028402016506665184,"vol":0.02797201491176531,"std_resid":-1.0153725641951883},
{"x":38,"ret":0.023950555063477985,"vol":0.030130296840507904,"std_resid":0.7948994060781465},
{"x":39,"ret":-0.0008276188696560993,"vol":0.028595239685785846,"std_resid":-0.02894254004338677},
{"x":40,"ret":0.0350688871068332,"vol":0.02676917017616389,"std_resid":1.3100475986386624},
{"x":41,"ret":0.028539593184277123,"vol":0.027386721781738652,"std_resid":1.0420959986275977},
{"x":42,"ret":-0.0009994170899343402,"vol":0.026875632180495823,"std_resid":-0.03718673790526263},
{"x":43,"ret":-0.08482455831639424,"vol":0.025335153459910366,"std_resid":-3.34809727719306},
{"x":44,"ret":-0.047489423198293856,"vol":0.04553970912055532,"std_resid":-1.0428134943193674},
{"x":45,"ret":-0.02663482910422932,"vol":0.04726660092704969,"std_resid":-0.5635021046962309},
{"x":46,"ret":0.02625429952931846,"vol":0.045068771002155894,"std_resid":0.5825386169962915},
{"x":47,"ret":0.041804733270113914,"vol":0.041445160301864035,"std_resid":1.0086758735068448},
{"x":48,"ret":-0.009965844281485836,"vol":0.04014168158589693,"std_resid":-0.24826673641363245},
{"x":49,"ret":0.10703044685428154,"vol":0.037227967874133204,"std_resid":2.8750010534055663},
{"x":50,"ret":0.027284073252739738,"vol":0.05349988046542198,"std_resid":0.5099838170736469},
{"x":51,"ret":0.0196825333699433,"vol":0.04878634125149278,"std_resid":0.4034435226138432},
{"x":52,"ret":-0.004461052444260538,"vol":0.04425860625470669,"std_resid":-0.10079514069167342},
{"x":53,"ret":0.000793356999352568,"vol":0.0403805297227642,"std_resid":0.019647018124809772},
{"x":54,"ret":0.005115235537913598,"vol":0.03678796174433716,"std_resid":0.13904645148493436},
{"x":55,"ret":0.023830760157640185,"vol":0.033568433999274526,"std_resid":0.709915754728243},
{"x":56,"ret":-0.005665737535677451,"vol":0.03146138442423885,"std_resid":-0.18008544885622985},
{"x":57,"ret":-0.0008267879759937813,"vol":0.02952286462697888,"std_resid":-0.02800500515245521},
{"x":58,"ret":-0.0024844733276614406,"vol":0.02755216270513078,"std_resid":-0.09017344134654011},
{"x":59,"ret":0.0066888154034066005,"vol":0.026000666678865185,"std_resid":0.25725553448380034},
{"x":60,"ret":0.06855863996264411,"vol":0.024315256561554126,"std_resid":2.819572961901009},
{"x":61,"ret":-0.00849589972211362,"vol":0.03410368959845303,"std_resid":-0.2491196648265002},
{"x":62,"ret":-0.012684334373661343,"vol":0.03198927078180699,"std_resid":-0.39651839706440595},
{"x":63,"ret":0.00012273402325213567,"vol":0.030666481943625902,"std_resid":0.004002220518080856},
{"x":64,"ret":0.018000534676342106,"vol":0.028471446420428523,"std_resid":0.6322311276544966},
{"x":65,"ret":-0.015891863828300323,"vol":0.026724569410407156,"std_resid":-0.5946536905515742},
{"x":66,"ret":0.016470274660708384,"vol":0.02686379652719772,"std_resid":0.6131030155783596},
{"x":67,"ret":0.006914959485198935,"vol":0.02528095898735437,"std_resid":0.2735244137161815},
{"x":68,"ret":0.0013151446761119345,"vol":0.023706729960750007,"std_resid":0.055475583443577024},
{"x":69,"ret":-0.014392893287619835,"vol":0.022560412007852287,"std_resid":-0.6379712073791162},
{"x":70,"ret":0.02475765112572681,"vol":0.02339987579268068,"std_resid":1.0580248948787512},
{"x":71,"ret":0.029822357307023317,"vol":0.023195205022141115,"std_resid":1.2857121667411957},
{"x":72,"ret":-0.000941587218050266,"vol":0.023758745472234787,"std_resid":-0.03963118419491611},
{"x":73,"ret":0.014756291613045924,"vol":0.02274130766736624,"std_resid":0.6488761257217056},
{"x":74,"ret":0.01897215652254225,"vol":0.02175498696509201,"std_resid":0.8720831022783382},
{"x":75,"ret":-0.015852734476291097,"vol":0.02125018997317144,"std_resid":-0.7460043649635755},
{"x":76,"ret":0.0048855815210391285,"vol":0.022674255068253824,"std_resid":0.21546822624745987},
{"x":77,"ret":0.00629122984901187,"vol":0.02156256617653406,"std_resid":0.2917662859561883},
{"x":78,"ret":-0.0017199981902722428,"vol":0.02061329588200298,"std_resid":-0.08344120222782693},
{"x":79,"ret":0.01517634683666369,"vol":0.02023896696105778,"std_resid":0.7498577800865438},
{"x":80,"ret":0.011189448560436688,"vol":0.01973400699468174,"std_resid":0.5670135093928067},
{"x":81,"ret":0.010096062532086059,"vol":0.0191421482931433,"std_resid":0.5274257819694386},
{"x":82,"ret":-0.0021795668918187516,"vol":0.01863589186384605,"std_resid":-0.1169553304849954},
{"x":83,"ret":0.006588887365786,"vol":0.0187081993764029,"std_resid":0.35219249235160077},
{"x":84,"ret":0.014995914387731624,"vol":0.018276833850614134,"std_resid":0.820487536862285},
{"x":85,"ret":-0.002985487676494536,"vol":0.018148389220768897,"std_resid":-0.16450427859889424},
{"x":86,"ret":-0.016613773336225712,"vol":0.01840814017739965,"std_resid":-0.9025231868140081},
{"x":87,"ret":-0.03640198193711086,"vol":0.02077669160781126,"std_resid":-1.752058634947687},
{"x":88,"ret":0.008172581757473374,"vol":0.027283772968550547,"std_resid":0.29954001475139613},
{"x":89,"ret":0.008678137334561242,"vol":0.025393425295972404,"std_resid":0.34174741034001677},
{"x":90,"ret":-0.0075698583781642625,"vol":0.02379741784790728,"std_resid":-0.31809578780959835},
{"x":91,"ret":0.02804779549891734,"vol":0.02339366511793567,"std_resid":1.1989483203046023},
{"x":92,"ret":0.00584194101318225,"vol":0.023639893970519396,"std_resid":0.24712213263170976},
{"x":93,"ret":-0.006768615288859081,"vol":0.022345337226711753,"std_resid":-0.30290951620850176},
{"x":94,"ret":-0.006055250871325413,"vol":0.02213865081196049,"std_resid":-0.27351490037749004},
{"x":95,"ret":-0.012704820530091254,"vol":0.021891661667302775,"std_resid":-0.5803497570523429},
{"x":96,"ret":0.02185998131710054,"vol":0.02261234718452556,"std_resid":0.9667276527604401},
{"x":97,"ret":0.03520322964911404,"vol":0.022226524689980914,"std_resid":1.5838386855405542},
{"x":98,"ret":0.023035262228528808,"vol":0.023993694402170383,"std_resid":0.960054831174524},
{"x":99,"ret":0.029490879128513114,"vol":0.023467185803251828,"std_resid":1.2566857984491089},
{"x":100,"ret":0.030824756619064253,"vol":0.02391636800787888,"std_resid":1.2888560925684667},
{"x":101,"ret":0.0292356876738582,"vol":0.024475979804981337,"std_resid":1.194464446645285},
{"x":102,"ret":0.03286458146475013,"vol":0.024662816608915443,"std_resid":1.3325558871029275},
{"x":103,"ret":0.0031169414744951496,"vol":0.025389373505181487,"std_resid":0.12276559222144813},
{"x":104,"ret":0.03455892827809404,"vol":0.023883939311603607,"std_resid":1.446952608077687},
{"x":105,"ret":0.007144793626718382,"vol":0.025099032063948208,"std_resid":0.28466411009454956},
{"x":106,"ret":0.021401809694691742,"vol":0.023551887274446206,"std_resid":0.9087089049510144},
{"x":107,"ret":0.03147107090924006,"vol":0.022936252347984503,"std_resid":1.372110422913338},
{"x":108,"ret":-0.0002441028824398117,"vol":0.023833826212028373,"std_resid":-0.010241867179371254},
{"x":109,"ret":0.055585686662594114,"vol":0.02275665766030735,"std_resid":2.4426120695020983},
{"x":110,"ret":-0.0038099397471897944,"vol":0.029331353401544434,"std_resid":-0.12989307704393835},
{"x":111,"ret":0.00015453084466354738,"vol":0.027588040537527447,"std_resid":0.005601370798819229},
{"x":112,"ret":0.02149272582134909,"vol":0.025865864154646187,"std_resid":0.8309301283285536},
{"x":113,"ret":0.010934659573592853,"vol":0.024833807791917115,"std_resid":0.44031344952069157},
{"x":114,"ret":-0.03722898069241509,"vol":0.023355618835265577,"std_resid":-1.594005320732567},
{"x":115,"ret":0.02848480322075364,"vol":0.029106577197041364,"std_resid":0.9786380249357892},
{"x":116,"ret":0.01824267822007286,"vol":0.028258926096967504,"std_resid":0.6455545464634802},
{"x":117,"ret":0.038628979956373044,"vol":0.026561978771056614,"std_resid":1.454296017978348},
{"x":118,"ret":0.04761777136918699,"vol":0.027876582690587254,"std_resid":1.708163869930352},
{"x":119,"ret":0.01025081326223809,"vol":0.030718973651285928,"std_resid":0.3336964762756317},
{"x":120,"ret":0.030436872892877886,"vol":0.028334416231123895,"std_resid":1.0742015167916024},
{"x":121,"ret":0.041127865097629446,"vol":0.027895392001449082,"std_resid":1.4743605358007865},
{"x":122,"ret":-0.00783380825560176,"vol":0.02936263302413408,"std_resid":-0.266795155909993},
{"x":123,"ret":-0.03628722968088827,"vol":0.027966808065818572,"std_resid":-1.2975105916802507},
{"x":124,"ret":0.086665517615657,"vol":0.0319239495059027,"std_resid":2.714749238643942},
{"x":125,"ret":0.05055540683178439,"vol":0.04405474696467712,"std_resid":1.1475586699503566},
{"x":126,"ret":0.054410115511180024,"vol":0.0436339139369527,"std_resid":1.246968483959473},
{"x":127,"ret":0.0021052298426464944,"vol":0.043984417681003495,"std_resid":0.047863083192658154},
{"x":128,"ret":0.010492194994316861,"vol":0.03987715392592044,"std_resid":0.2631129346344062},
{"x":129,"ret":0.014977665619887226,"vol":0.036237232995810366,"std_resid":0.41332255201766915},
{"x":130,"ret":-0.012952013787010053,"vol":0.03319358845123138,"std_resid":-0.3901962514851139},
{"x":131,"ret":0.02466871354409772,"vol":0.0316911306207476,"std_resid":0.7784106486862785},
{"x":132,"ret":0.0010281816113533182,"vol":0.029964812599902853,"std_resid":0.034312966514486114},
{"x":133,"ret":0.06079069339366594,"vol":0.02783296441184941,"std_resid":2.18412571848744},
{"x":134,"ret":0.05055895171946201,"vol":0.033972274335005354,"std_resid":1.4882415943334588},
{"x":135,"ret":0.032318495924197777,"vol":0.035822753089479124,"std_resid":0.9021778935714876},
{"x":136,"ret":-0.0034044579000047648,"vol":0.034242118982337096,"std_resid":-0.09942310818325424},
{"x":137,"ret":-2.7065919047331022e-5,"vol":0.03171367801833511,"std_resid":-0.0008534462332525098},
{"x":138,"ret":0.04255886257725372,"vol":0.029369802413693108,"std_resid":1.449068739986193},
{"x":139,"ret":-0.0735002638137372,"vol":0.03075167544267032,"std_resid":-2.3901222536886535},
{"x":140,"ret":-0.05153722920428283,"vol":0.0443618077786128,"std_resid":-1.1617477236608325},
{"x":141,"ret":0.011524108229345131,"vol":0.047245524162056296,"std_resid":0.24391957616591212},
{"x":142,"ret":0.10295270671964385,"vol":0.0426694100095179,"std_resid":2.4127989277723567},
{"x":143,"ret":0.039088626586982755,"vol":0.05538130709714254,"std_resid":0.7058090289999597},
{"x":144,"ret":0.04816374382090771,"vol":0.051432323381485213,"std_resid":0.9364489226680719},
{"x":145,"ret":-0.001755265243172488,"vol":0.04924657106112449,"std_resid":-0.035642384948870155},
{"x":146,"ret":0.02775231109028642,"vol":0.04458659082245496,"std_resid":0.6224362656655426},
{"x":147,"ret":0.04059538769429949,"vol":0.04115209528195079,"std_resid":0.9864719503627445},
{"x":148,"ret":-0.0020173771198876977,"vol":0.03972730020950614,"std_resid":-0.050780624639702295},
{"x":149,"ret":-0.007172432070904122,"vol":0.03634051370098654,"std_resid":-0.19736738258351622},
{"x":150,"ret":0.04323894205231227,"vol":0.03376772919191058,"std_resid":1.2804811897943855},
{"x":151,"ret":-0.03951069212242242,"vol":0.03424942332233548,"std_resid":-1.1536162740776965},
{"x":152,"ret":-0.007045530078172213,"vol":0.03714020578999652,"std_resid":-0.18970088959684445},
{"x":153,"ret":-0.013872454325128736,"vol":0.03443758092402874,"std_resid":-0.40282894305881006},
{"x":154,"ret":0.06765095619570793,"vol":0.03282731631880337,"std_resid":2.0608128772609327},
{"x":155,"ret":0.026728028109572755,"vol":0.03908682809228612,"std_resid":0.6838116422869216},
{"x":156,"ret":-0.002165177931421347,"vol":0.03638076273761997,"std_resid":-0.0595143633198877},
{"x":157,"ret":-0.026095296239902588,"vol":0.033469473247512406,"std_resid":-0.7796745424382232},
{"x":158,"ret":0.037686192447988986,"vol":0.03384990542915107,"std_resid":1.1133322817361304},
{"x":159,"ret":0.013190849658747617,"vol":0.03338515215319473,"std_resid":0.39511126378033723},
{"x":160,"ret":-0.02978163321969518,"vol":0.030682372682473386,"std_resid":-0.970643096213588},
{"x":161,"ret":0.030192125405583248,"vol":0.032422346852098285,"std_resid":0.9312134480366678},
{"x":162,"ret":0.007523136308313916,"vol":0.03118032021080745,"std_resid":0.24127835305893722},
{"x":163,"ret":0.008423351116875644,"vol":0.02871622895765451,"std_resid":0.293330685212772},
{"x":164,"ret":-0.011789499039568163,"vol":0.026610785838341054,"std_resid":-0.4430346067639141},
{"x":165,"ret":-0.0545305280626005,"vol":0.026180055566908157,"std_resid":-2.082903450041856},
{"x":166,"ret":-0.008742261748827751,"vol":0.035835725398970966,"std_resid":-0.24395381010143546},
{"x":167,"ret":-0.03478425375247074,"vol":0.033471334375836825,"std_resid":-1.0392251877947751},
{"x":168,"ret":0.0035251446561126443,"vol":0.03553911311331615,"std_resid":0.09919056350316766},
{"x":169,"ret":-0.02262550231574334,"vol":0.032521947002049134,"std_resid":-0.6956995014572085},
{"x":170,"ret":-0.09631777130550478,"vol":0.03251293488295727,"std_resid":-2.962444690159083},
{"x":171,"ret":0.0033590272734391746,"vol":0.05289674705704625,"std_resid":0.06350158488605448},
{"x":172,"ret":0.0654893523201272,"vol":0.04763480369418818,"std_resid":1.3748215011142664},
{"x":173,"ret":-0.025237681097165066,"vol":0.049230237502726155,"std_resid":-0.512645934234372},
{"x":174,"ret":-0.028047484314399185,"vol":0.04651950467455059,"std_resid":-0.6029188081562509},
{"x":175,"ret":-0.021780587816719432,"vol":0.04464774994439216,"std_resid":-0.4878317013476983},
{"x":176,"ret":-0.12057011493786263,"vol":0.042266158645373884,"std_resid":-2.8526395301139877},
{"x":177,"ret":0.03012631014455902,"vol":0.06604516378201304,"std_resid":0.45614710327607244},
{"x":178,"ret":0.04813576817811427,"vol":0.05986528524504669,"std_resid":0.8040681336617713},
{"x":179,"ret":0.01340909298732118,"vol":0.05626146731604319,"std_resid":0.2383352874889831},
{"x":180,"ret":-0.00413104379813678,"vol":0.05059495949276131,"std_resid":-0.08164931525892048},
{"x":181,"ret":-0.0352933706752081,"vol":0.04586238859645439,"std_resid":-0.7695493356387596},
{"x":182,"ret":0.04713309049691006,"vol":0.045236132355366006,"std_resid":1.0419345784613487},
{"x":183,"ret":-0.03695493158305485,"vol":0.044027103671504995,"std_resid":-0.8393677644294516},
{"x":184,"ret":-0.029830888753241247,"vol":0.04406636294550618,"std_resid":-0.6769537297673294},
{"x":185,"ret":-0.06234372661309351,"vol":0.042909140348406864,"std_resid":-1.4529241580438284},
{"x":186,"ret":-0.11530219013361975,"vol":0.048763921356093504,"std_resid":-2.364497910076538},
{"x":187,"ret":0.009867160787155882,"vol":0.06779712979162333,"std_resid":0.14553950613370978},
{"x":188,"ret":-0.05027008178568604,"vol":0.06070082554702965,"std_resid":-0.8281614184429484},
{"x":189,"ret":-0.0153041699542662,"vol":0.05966896763661091,"std_resid":-0.25648457750215986},
{"x":190,"ret":0.06269904673916393,"vol":0.05442791883690616,"std_resid":1.1519648018702},
{"x":191,"ret":-0.011884436576053758,"vol":0.05400003882994135,"std_resid":-0.22008200056078858},
{"x":192,"ret":-0.0037214112986045933,"vol":0.049275161573866515,"std_resid":-0.0755230663835768},
{"x":193,"ret":-0.06790191345952046,"vol":0.04469496931913525,"std_resid":-1.5192294455933237},
{"x":194,"ret":0.011403851179016655,"vol":0.05141677966095345,"std_resid":0.22179240423485494},
{"x":195,"ret":0.049991406703177255,"vol":0.04631675701184333,"std_resid":1.0793373700666111},
{"x":196,"ret":0.050317570498433106,"vol":0.04535291393845646,"std_resid":1.1094672013073656},
{"x":197,"ret":0.05410995722617873,"vol":0.044631515306029344,"std_resid":1.2123710533948402},
{"x":198,"ret":0.004584616268365593,"vol":0.044713054889408736,"std_resid":0.10253417664494134},
{"x":199,"ret":-0.003037231090607939,"vol":0.04046051694666451,"std_resid":-0.07506654189840554},
{"x":200,"ret":0.02977865297839788,"vol":0.03702448678236315,"std_resid":0.8042961717050223},
{"x":201,"ret":0.018745356169324268,"vol":0.03494584521332857,"std_resid":0.5364115835485549},
{"x":202,"ret":0.010696108447547203,"vol":0.032261861127390434,"std_resid":0.3315403412503741},
{"x":203,"ret":0.028858536676307445,"vol":0.02966270806345714,"std_resid":0.9728894817887384},
{"x":204,"ret":0.04689178004819983,"vol":0.02875833994845578,"std_resid":1.6305454394184442},
{"x":205,"ret":0.009526057589642534,"vol":0.031194803990855415,"std_resid":0.3053732151173332},
{"x":206,"ret":-0.01709533813402242,"vol":0.028733784959839713,"std_resid":-0.5949560128578961},
{"x":207,"ret":0.008310714370073136,"vol":0.028634426407170534,"std_resid":0.290235056637698},
{"x":208,"ret":-0.027352407740604434,"vol":0.026540949692767286,"std_resid":-1.0305738135684828},
{"x":209,"ret":0.026822868251062282,"vol":0.028863090213397412,"std_resid":0.929313807106208},
{"x":210,"ret":-0.024042862566822976,"vol":0.02785798291226175,"std_resid":-0.8630510917658888},
{"x":211,"ret":-0.015409524018366483,"vol":0.029163092048785366,"std_resid":-0.5283912965260583},
{"x":212,"ret":0.02603246797633041,"vol":0.028725997324950764,"std_resid":0.9062337394886264},
{"x":213,"ret":-0.00040270799293207205,"vol":0.027654525613297426,"std_resid":-0.014562100922043427},
{"x":214,"ret":0.045262849255496285,"vol":0.025952722724540137,"std_resid":1.744050122829581},
{"x":215,"ret":0.02556565141095568,"vol":0.028816225779679076,"std_resid":0.8871963874250434},
{"x":216,"ret":-0.014954366275299336,"vol":0.027676346876889257,"std_resid":-0.5403302083840685},
{"x":217,"ret":0.015304535527348229,"vol":0.027473671629780726,"std_resid":0.557061893058317},
{"x":218,"ret":-0.003950676042554946,"vol":0.02573129377465512,"std_resid":-0.15353584927184244},
{"x":219,"ret":-0.0258308029739851,"vol":0.024602631406363585,"std_resid":-1.0499203336153646},
{"x":220,"ret":0.011824051087475418,"vol":0.027136732826645752,"std_resid":0.4357212477644065},
{"x":221,"ret":0.02013905318857301,"vol":0.025316668295665416,"std_resid":0.7954859207133945},
{"x":222,"ret":0.01649043963527763,"vol":0.02425946492806861,"std_resid":0.679752817474466},
{"x":223,"ret":0.0016595071885090462,"vol":0.023111437015986204,"std_resid":0.07180458693940854},
{"x":224,"ret":0.0013468345307261487,"vol":0.0220496269457913,"std_resid":0.061081964517464296},
{"x":225,"ret":-0.028092571497019492,"vol":0.021191358532965544,"std_resid":-1.3256616584216785},
{"x":226,"ret":0.03738914840433871,"vol":0.0253156874860699,"std_resid":1.476916177959311},
{"x":227,"ret":0.019765070655174632,"vol":0.02670440183458817,"std_resid":0.740142796592225},
{"x":228,"ret":0.013114167795042597,"vol":0.025375776586504428,"std_resid":0.5167986780754167},
{"x":229,"ret":-0.0016279382787409702,"vol":0.023873506727390786,"std_resid":-0.06819016147607625},
{"x":230,"ret":0.013297788924127474,"vol":0.02288521491504205,"std_resid":0.5810646294340487},
{"x":231,"ret":0.006494855086375928,"vol":0.021804541274644446,"std_resid":0.29786708211690344},
{"x":232,"ret":-0.009382133337926923,"vol":0.02081023085257052,"std_resid":-0.4508423479006252},
{"x":233,"ret":-0.028973629189040118,"vol":0.02127525691897894,"std_resid":-1.3618462657996726},
{"x":234,"ret":0.005625837923097343,"vol":0.02559263513970112,"std_resid":0.21982253458418363},
{"x":235,"ret":0.02112829292352636,"vol":0.02398635371465146,"std_resid":0.8808463835260076},
{"x":236,"ret":0.02348767609243385,"vol":0.02326173304974394,"std_resid":1.0097130786518245},
{"x":237,"ret":0.0340487625980872,"vol":0.022930694543812087,"std_resid":1.4848552682533271},
{"x":238,"ret":0.018357940284173146,"vol":0.024291512053852132,"std_resid":0.7557347703788557},
{"x":239,"ret":0.019807710547122603,"vol":0.023269165946266983,"std_resid":0.851242824640232},
{"x":240,"ret":0.005449604767564509,"vol":0.022553443780496372,"std_resid":0.24163071593869778},
{"x":241,"ret":0.014388737452099676,"vol":0.021448877875393207,"std_resid":0.6708387047420725},
{"x":242,"ret":-0.026546662782473085,"vol":0.020673328761000614,"std_resid":-1.2841019987333764},
{"x":243,"ret":0.039502242762899265,"vol":0.024589090901572002,"std_resid":1.606494641100125},
{"x":244,"ret":0.031937849209096036,"vol":0.02658831797061085,"std_resid":1.2011985581185782},
{"x":245,"ret":0.0020163096477512354,"vol":0.026732115057821,"std_resid":0.07542649144633713},
{"x":246,"ret":0.004296688543782068,"vol":0.02505576067245908,"std_resid":0.17148505686777749},
{"x":247,"ret":-0.04443263293346522,"vol":0.0235658889502896,"std_resid":-1.8854639019640798},
{"x":248,"ret":0.028798564417291672,"vol":0.03127696460417217,"std_resid":0.9207595680000901},
{"x":249,"ret":0.028018350283972815,"vol":0.03007028456444868,"std_resid":0.9317620597810433},
{"x":250,"ret":-0.05080595078666139,"vol":0.028987505278929734,"std_resid":-1.7526844858771244},
{"x":251,"ret":0.01075925977866099,"vol":0.0364313485999673,"std_resid":0.2953297144391368}];
    const series = [{"name":"Cond. Volatility (Ïƒ)","color":"#ff7f0e","key":"vol","dash":""}];
    const bands = [];
    const refLines = [];

    const container = d3.select('#vol_sig_82');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('');
    if('Ïƒâ‚œ') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Ïƒâ‚œ');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"ret":0.060157482811844076,"vol":0.034295873785641987,"std_resid":1.7540734838203507},
{"x":2,"ret":0.04046593256171338,"vol":0.03820108901630406,"std_resid":1.0592874078653278},
{"x":3,"ret":-0.011000454689821915,"vol":0.0373099381532831,"std_resid":-0.2948397996434075},
{"x":4,"ret":-0.0006915629597887829,"vol":0.034922809488628796,"std_resid":-0.019802615251042804},
{"x":5,"ret":0.04166563717009453,"vol":0.032144564834812775,"std_resid":1.2961954029929927},
{"x":6,"ret":0.028456539914007983,"vol":0.03270646058103063,"std_resid":0.8700586797983407},
{"x":7,"ret":0.06037799163713675,"vol":0.031207869036490723,"std_resid":1.934704082695874},
{"x":8,"ret":-0.033022596320249065,"vol":0.03610751375774889,"std_resid":-0.914563005966098},
{"x":9,"ret":-0.12874658752038393,"vol":0.03717348938350646,"std_resid":-3.4633979660114345},
{"x":10,"ret":-0.13424542335817957,"vol":0.06650101104292505,"std_resid":-2.01869747922369},
{"x":11,"ret":-0.01646127705407263,"vol":0.08420073139639425,"std_resid":-0.19550040458172976},
{"x":12,"ret":0.03866198703426438,"vol":0.07587319767298008,"std_resid":0.5095605328366524},
{"x":13,"ret":0.02988818619964917,"vol":0.06901302631483279,"std_resid":0.43308035881952595},
{"x":14,"ret":0.02902074604119953,"vol":0.062436221776014066,"std_resid":0.4648062489320637},
{"x":15,"ret":-0.011735890897072387,"vol":0.05665431480413996,"std_resid":-0.20714911013652923},
{"x":16,"ret":-0.025063968663215697,"vol":0.05156295896060292,"std_resid":-0.4860847625592243},
{"x":17,"ret":0.05544320341477604,"vol":0.04845155455120693,"std_resid":1.1443018480692886},
{"x":18,"ret":-0.00592813888739574,"vol":0.04797466393279968,"std_resid":-0.12356811703151391},
{"x":19,"ret":-0.020270964373619194,"vol":0.04367871776569034,"std_resid":-0.4640924782261362},
{"x":20,"ret":0.016174887151615636,"vol":0.041273722335598756,"std_resid":0.3918931038033545},
{"x":21,"ret":0.03447352736987419,"vol":0.03758924434236521,"std_resid":0.9171114762480226},
{"x":22,"ret":-0.023341687001029676,"vol":0.03597085271103931,"std_resid":-0.6489055788734808},
{"x":23,"ret":0.02009200008268852,"vol":0.03537309089439708,"std_resid":0.5680023875400437},
{"x":24,"ret":0.031680884080346416,"vol":0.032708728091417644,"std_resid":0.9685758489844514},
{"x":25,"ret":0.02968806229594545,"vol":0.03160406713778899,"std_resid":0.9393747382737151},
{"x":26,"ret":-0.004431573640840902,"vol":0.03044711149633063,"std_resid":-0.1455498871009481},
{"x":27,"ret":0.03227170808757229,"vol":0.028572388018957746,"std_resid":1.1294718546507228},
{"x":28,"ret":0.03765456206249507,"vol":0.028350615216970868,"std_resid":1.328174424939985},
{"x":29,"ret":0.030742697084290782,"vol":0.029057889260718704,"std_resid":1.0579810807473085},
{"x":30,"ret":0.025016557793730243,"vol":0.02851873298092301,"std_resid":0.8771973779643201},
{"x":31,"ret":0.043337658555576475,"vol":0.02737191919576341,"std_resid":1.5832889994167534},
{"x":32,"ret":0.002017582468522683,"vol":0.029423010434970368,"std_resid":0.06857158525575986},
{"x":33,"ret":0.0002878940569761568,"vol":0.027331494045010347,"std_resid":0.010533418206192606},
{"x":34,"ret":-0.020943173845243024,"vol":0.025642912913100783,"std_resid":-0.8167236661535167},
{"x":35,"ret":0.024391453124159135,"vol":0.026903890629283337,"std_resid":0.9066143428939769},
{"x":36,"ret":-0.02506775466279354,"vol":0.02598036228600708,"std_resid":-0.9648731756252273},
{"x":37,"ret":-0.028402016506665184,"vol":0.02797201491176531,"std_resid":-1.0153725641951883},
{"x":38,"ret":0.023950555063477985,"vol":0.030130296840507904,"std_resid":0.7948994060781465},
{"x":39,"ret":-0.0008276188696560993,"vol":0.028595239685785846,"std_resid":-0.02894254004338677},
{"x":40,"ret":0.0350688871068332,"vol":0.02676917017616389,"std_resid":1.3100475986386624},
{"x":41,"ret":0.028539593184277123,"vol":0.027386721781738652,"std_resid":1.0420959986275977},
{"x":42,"ret":-0.0009994170899343402,"vol":0.026875632180495823,"std_resid":-0.03718673790526263},
{"x":43,"ret":-0.08482455831639424,"vol":0.025335153459910366,"std_resid":-3.34809727719306},
{"x":44,"ret":-0.047489423198293856,"vol":0.04553970912055532,"std_resid":-1.0428134943193674},
{"x":45,"ret":-0.02663482910422932,"vol":0.04726660092704969,"std_resid":-0.5635021046962309},
{"x":46,"ret":0.02625429952931846,"vol":0.045068771002155894,"std_resid":0.5825386169962915},
{"x":47,"ret":0.041804733270113914,"vol":0.041445160301864035,"std_resid":1.0086758735068448},
{"x":48,"ret":-0.009965844281485836,"vol":0.04014168158589693,"std_resid":-0.24826673641363245},
{"x":49,"ret":0.10703044685428154,"vol":0.037227967874133204,"std_resid":2.8750010534055663},
{"x":50,"ret":0.027284073252739738,"vol":0.05349988046542198,"std_resid":0.5099838170736469},
{"x":51,"ret":0.0196825333699433,"vol":0.04878634125149278,"std_resid":0.4034435226138432},
{"x":52,"ret":-0.004461052444260538,"vol":0.04425860625470669,"std_resid":-0.10079514069167342},
{"x":53,"ret":0.000793356999352568,"vol":0.0403805297227642,"std_resid":0.019647018124809772},
{"x":54,"ret":0.005115235537913598,"vol":0.03678796174433716,"std_resid":0.13904645148493436},
{"x":55,"ret":0.023830760157640185,"vol":0.033568433999274526,"std_resid":0.709915754728243},
{"x":56,"ret":-0.005665737535677451,"vol":0.03146138442423885,"std_resid":-0.18008544885622985},
{"x":57,"ret":-0.0008267879759937813,"vol":0.02952286462697888,"std_resid":-0.02800500515245521},
{"x":58,"ret":-0.0024844733276614406,"vol":0.02755216270513078,"std_resid":-0.09017344134654011},
{"x":59,"ret":0.0066888154034066005,"vol":0.026000666678865185,"std_resid":0.25725553448380034},
{"x":60,"ret":0.06855863996264411,"vol":0.024315256561554126,"std_resid":2.819572961901009},
{"x":61,"ret":-0.00849589972211362,"vol":0.03410368959845303,"std_resid":-0.2491196648265002},
{"x":62,"ret":-0.012684334373661343,"vol":0.03198927078180699,"std_resid":-0.39651839706440595},
{"x":63,"ret":0.00012273402325213567,"vol":0.030666481943625902,"std_resid":0.004002220518080856},
{"x":64,"ret":0.018000534676342106,"vol":0.028471446420428523,"std_resid":0.6322311276544966},
{"x":65,"ret":-0.015891863828300323,"vol":0.026724569410407156,"std_resid":-0.5946536905515742},
{"x":66,"ret":0.016470274660708384,"vol":0.02686379652719772,"std_resid":0.6131030155783596},
{"x":67,"ret":0.006914959485198935,"vol":0.02528095898735437,"std_resid":0.2735244137161815},
{"x":68,"ret":0.0013151446761119345,"vol":0.023706729960750007,"std_resid":0.055475583443577024},
{"x":69,"ret":-0.014392893287619835,"vol":0.022560412007852287,"std_resid":-0.6379712073791162},
{"x":70,"ret":0.02475765112572681,"vol":0.02339987579268068,"std_resid":1.0580248948787512},
{"x":71,"ret":0.029822357307023317,"vol":0.023195205022141115,"std_resid":1.2857121667411957},
{"x":72,"ret":-0.000941587218050266,"vol":0.023758745472234787,"std_resid":-0.03963118419491611},
{"x":73,"ret":0.014756291613045924,"vol":0.02274130766736624,"std_resid":0.6488761257217056},
{"x":74,"ret":0.01897215652254225,"vol":0.02175498696509201,"std_resid":0.8720831022783382},
{"x":75,"ret":-0.015852734476291097,"vol":0.02125018997317144,"std_resid":-0.7460043649635755},
{"x":76,"ret":0.0048855815210391285,"vol":0.022674255068253824,"std_resid":0.21546822624745987},
{"x":77,"ret":0.00629122984901187,"vol":0.02156256617653406,"std_resid":0.2917662859561883},
{"x":78,"ret":-0.0017199981902722428,"vol":0.02061329588200298,"std_resid":-0.08344120222782693},
{"x":79,"ret":0.01517634683666369,"vol":0.02023896696105778,"std_resid":0.7498577800865438},
{"x":80,"ret":0.011189448560436688,"vol":0.01973400699468174,"std_resid":0.5670135093928067},
{"x":81,"ret":0.010096062532086059,"vol":0.0191421482931433,"std_resid":0.5274257819694386},
{"x":82,"ret":-0.0021795668918187516,"vol":0.01863589186384605,"std_resid":-0.1169553304849954},
{"x":83,"ret":0.006588887365786,"vol":0.0187081993764029,"std_resid":0.35219249235160077},
{"x":84,"ret":0.014995914387731624,"vol":0.018276833850614134,"std_resid":0.820487536862285},
{"x":85,"ret":-0.002985487676494536,"vol":0.018148389220768897,"std_resid":-0.16450427859889424},
{"x":86,"ret":-0.016613773336225712,"vol":0.01840814017739965,"std_resid":-0.9025231868140081},
{"x":87,"ret":-0.03640198193711086,"vol":0.02077669160781126,"std_resid":-1.752058634947687},
{"x":88,"ret":0.008172581757473374,"vol":0.027283772968550547,"std_resid":0.29954001475139613},
{"x":89,"ret":0.008678137334561242,"vol":0.025393425295972404,"std_resid":0.34174741034001677},
{"x":90,"ret":-0.0075698583781642625,"vol":0.02379741784790728,"std_resid":-0.31809578780959835},
{"x":91,"ret":0.02804779549891734,"vol":0.02339366511793567,"std_resid":1.1989483203046023},
{"x":92,"ret":0.00584194101318225,"vol":0.023639893970519396,"std_resid":0.24712213263170976},
{"x":93,"ret":-0.006768615288859081,"vol":0.022345337226711753,"std_resid":-0.30290951620850176},
{"x":94,"ret":-0.006055250871325413,"vol":0.02213865081196049,"std_resid":-0.27351490037749004},
{"x":95,"ret":-0.012704820530091254,"vol":0.021891661667302775,"std_resid":-0.5803497570523429},
{"x":96,"ret":0.02185998131710054,"vol":0.02261234718452556,"std_resid":0.9667276527604401},
{"x":97,"ret":0.03520322964911404,"vol":0.022226524689980914,"std_resid":1.5838386855405542},
{"x":98,"ret":0.023035262228528808,"vol":0.023993694402170383,"std_resid":0.960054831174524},
{"x":99,"ret":0.029490879128513114,"vol":0.023467185803251828,"std_resid":1.2566857984491089},
{"x":100,"ret":0.030824756619064253,"vol":0.02391636800787888,"std_resid":1.2888560925684667},
{"x":101,"ret":0.0292356876738582,"vol":0.024475979804981337,"std_resid":1.194464446645285},
{"x":102,"ret":0.03286458146475013,"vol":0.024662816608915443,"std_resid":1.3325558871029275},
{"x":103,"ret":0.0031169414744951496,"vol":0.025389373505181487,"std_resid":0.12276559222144813},
{"x":104,"ret":0.03455892827809404,"vol":0.023883939311603607,"std_resid":1.446952608077687},
{"x":105,"ret":0.007144793626718382,"vol":0.025099032063948208,"std_resid":0.28466411009454956},
{"x":106,"ret":0.021401809694691742,"vol":0.023551887274446206,"std_resid":0.9087089049510144},
{"x":107,"ret":0.03147107090924006,"vol":0.022936252347984503,"std_resid":1.372110422913338},
{"x":108,"ret":-0.0002441028824398117,"vol":0.023833826212028373,"std_resid":-0.010241867179371254},
{"x":109,"ret":0.055585686662594114,"vol":0.02275665766030735,"std_resid":2.4426120695020983},
{"x":110,"ret":-0.0038099397471897944,"vol":0.029331353401544434,"std_resid":-0.12989307704393835},
{"x":111,"ret":0.00015453084466354738,"vol":0.027588040537527447,"std_resid":0.005601370798819229},
{"x":112,"ret":0.02149272582134909,"vol":0.025865864154646187,"std_resid":0.8309301283285536},
{"x":113,"ret":0.010934659573592853,"vol":0.024833807791917115,"std_resid":0.44031344952069157},
{"x":114,"ret":-0.03722898069241509,"vol":0.023355618835265577,"std_resid":-1.594005320732567},
{"x":115,"ret":0.02848480322075364,"vol":0.029106577197041364,"std_resid":0.9786380249357892},
{"x":116,"ret":0.01824267822007286,"vol":0.028258926096967504,"std_resid":0.6455545464634802},
{"x":117,"ret":0.038628979956373044,"vol":0.026561978771056614,"std_resid":1.454296017978348},
{"x":118,"ret":0.04761777136918699,"vol":0.027876582690587254,"std_resid":1.708163869930352},
{"x":119,"ret":0.01025081326223809,"vol":0.030718973651285928,"std_resid":0.3336964762756317},
{"x":120,"ret":0.030436872892877886,"vol":0.028334416231123895,"std_resid":1.0742015167916024},
{"x":121,"ret":0.041127865097629446,"vol":0.027895392001449082,"std_resid":1.4743605358007865},
{"x":122,"ret":-0.00783380825560176,"vol":0.02936263302413408,"std_resid":-0.266795155909993},
{"x":123,"ret":-0.03628722968088827,"vol":0.027966808065818572,"std_resid":-1.2975105916802507},
{"x":124,"ret":0.086665517615657,"vol":0.0319239495059027,"std_resid":2.714749238643942},
{"x":125,"ret":0.05055540683178439,"vol":0.04405474696467712,"std_resid":1.1475586699503566},
{"x":126,"ret":0.054410115511180024,"vol":0.0436339139369527,"std_resid":1.246968483959473},
{"x":127,"ret":0.0021052298426464944,"vol":0.043984417681003495,"std_resid":0.047863083192658154},
{"x":128,"ret":0.010492194994316861,"vol":0.03987715392592044,"std_resid":0.2631129346344062},
{"x":129,"ret":0.014977665619887226,"vol":0.036237232995810366,"std_resid":0.41332255201766915},
{"x":130,"ret":-0.012952013787010053,"vol":0.03319358845123138,"std_resid":-0.3901962514851139},
{"x":131,"ret":0.02466871354409772,"vol":0.0316911306207476,"std_resid":0.7784106486862785},
{"x":132,"ret":0.0010281816113533182,"vol":0.029964812599902853,"std_resid":0.034312966514486114},
{"x":133,"ret":0.06079069339366594,"vol":0.02783296441184941,"std_resid":2.18412571848744},
{"x":134,"ret":0.05055895171946201,"vol":0.033972274335005354,"std_resid":1.4882415943334588},
{"x":135,"ret":0.032318495924197777,"vol":0.035822753089479124,"std_resid":0.9021778935714876},
{"x":136,"ret":-0.0034044579000047648,"vol":0.034242118982337096,"std_resid":-0.09942310818325424},
{"x":137,"ret":-2.7065919047331022e-5,"vol":0.03171367801833511,"std_resid":-0.0008534462332525098},
{"x":138,"ret":0.04255886257725372,"vol":0.029369802413693108,"std_resid":1.449068739986193},
{"x":139,"ret":-0.0735002638137372,"vol":0.03075167544267032,"std_resid":-2.3901222536886535},
{"x":140,"ret":-0.05153722920428283,"vol":0.0443618077786128,"std_resid":-1.1617477236608325},
{"x":141,"ret":0.011524108229345131,"vol":0.047245524162056296,"std_resid":0.24391957616591212},
{"x":142,"ret":0.10295270671964385,"vol":0.0426694100095179,"std_resid":2.4127989277723567},
{"x":143,"ret":0.039088626586982755,"vol":0.05538130709714254,"std_resid":0.7058090289999597},
{"x":144,"ret":0.04816374382090771,"vol":0.051432323381485213,"std_resid":0.9364489226680719},
{"x":145,"ret":-0.001755265243172488,"vol":0.04924657106112449,"std_resid":-0.035642384948870155},
{"x":146,"ret":0.02775231109028642,"vol":0.04458659082245496,"std_resid":0.6224362656655426},
{"x":147,"ret":0.04059538769429949,"vol":0.04115209528195079,"std_resid":0.9864719503627445},
{"x":148,"ret":-0.0020173771198876977,"vol":0.03972730020950614,"std_resid":-0.050780624639702295},
{"x":149,"ret":-0.007172432070904122,"vol":0.03634051370098654,"std_resid":-0.19736738258351622},
{"x":150,"ret":0.04323894205231227,"vol":0.03376772919191058,"std_resid":1.2804811897943855},
{"x":151,"ret":-0.03951069212242242,"vol":0.03424942332233548,"std_resid":-1.1536162740776965},
{"x":152,"ret":-0.007045530078172213,"vol":0.03714020578999652,"std_resid":-0.18970088959684445},
{"x":153,"ret":-0.013872454325128736,"vol":0.03443758092402874,"std_resid":-0.40282894305881006},
{"x":154,"ret":0.06765095619570793,"vol":0.03282731631880337,"std_resid":2.0608128772609327},
{"x":155,"ret":0.026728028109572755,"vol":0.03908682809228612,"std_resid":0.6838116422869216},
{"x":156,"ret":-0.002165177931421347,"vol":0.03638076273761997,"std_resid":-0.0595143633198877},
{"x":157,"ret":-0.026095296239902588,"vol":0.033469473247512406,"std_resid":-0.7796745424382232},
{"x":158,"ret":0.037686192447988986,"vol":0.03384990542915107,"std_resid":1.1133322817361304},
{"x":159,"ret":0.013190849658747617,"vol":0.03338515215319473,"std_resid":0.39511126378033723},
{"x":160,"ret":-0.02978163321969518,"vol":0.030682372682473386,"std_resid":-0.970643096213588},
{"x":161,"ret":0.030192125405583248,"vol":0.032422346852098285,"std_resid":0.9312134480366678},
{"x":162,"ret":0.007523136308313916,"vol":0.03118032021080745,"std_resid":0.24127835305893722},
{"x":163,"ret":0.008423351116875644,"vol":0.02871622895765451,"std_resid":0.293330685212772},
{"x":164,"ret":-0.011789499039568163,"vol":0.026610785838341054,"std_resid":-0.4430346067639141},
{"x":165,"ret":-0.0545305280626005,"vol":0.026180055566908157,"std_resid":-2.082903450041856},
{"x":166,"ret":-0.008742261748827751,"vol":0.035835725398970966,"std_resid":-0.24395381010143546},
{"x":167,"ret":-0.03478425375247074,"vol":0.033471334375836825,"std_resid":-1.0392251877947751},
{"x":168,"ret":0.0035251446561126443,"vol":0.03553911311331615,"std_resid":0.09919056350316766},
{"x":169,"ret":-0.02262550231574334,"vol":0.032521947002049134,"std_resid":-0.6956995014572085},
{"x":170,"ret":-0.09631777130550478,"vol":0.03251293488295727,"std_resid":-2.962444690159083},
{"x":171,"ret":0.0033590272734391746,"vol":0.05289674705704625,"std_resid":0.06350158488605448},
{"x":172,"ret":0.0654893523201272,"vol":0.04763480369418818,"std_resid":1.3748215011142664},
{"x":173,"ret":-0.025237681097165066,"vol":0.049230237502726155,"std_resid":-0.512645934234372},
{"x":174,"ret":-0.028047484314399185,"vol":0.04651950467455059,"std_resid":-0.6029188081562509},
{"x":175,"ret":-0.021780587816719432,"vol":0.04464774994439216,"std_resid":-0.4878317013476983},
{"x":176,"ret":-0.12057011493786263,"vol":0.042266158645373884,"std_resid":-2.8526395301139877},
{"x":177,"ret":0.03012631014455902,"vol":0.06604516378201304,"std_resid":0.45614710327607244},
{"x":178,"ret":0.04813576817811427,"vol":0.05986528524504669,"std_resid":0.8040681336617713},
{"x":179,"ret":0.01340909298732118,"vol":0.05626146731604319,"std_resid":0.2383352874889831},
{"x":180,"ret":-0.00413104379813678,"vol":0.05059495949276131,"std_resid":-0.08164931525892048},
{"x":181,"ret":-0.0352933706752081,"vol":0.04586238859645439,"std_resid":-0.7695493356387596},
{"x":182,"ret":0.04713309049691006,"vol":0.045236132355366006,"std_resid":1.0419345784613487},
{"x":183,"ret":-0.03695493158305485,"vol":0.044027103671504995,"std_resid":-0.8393677644294516},
{"x":184,"ret":-0.029830888753241247,"vol":0.04406636294550618,"std_resid":-0.6769537297673294},
{"x":185,"ret":-0.06234372661309351,"vol":0.042909140348406864,"std_resid":-1.4529241580438284},
{"x":186,"ret":-0.11530219013361975,"vol":0.048763921356093504,"std_resid":-2.364497910076538},
{"x":187,"ret":0.009867160787155882,"vol":0.06779712979162333,"std_resid":0.14553950613370978},
{"x":188,"ret":-0.05027008178568604,"vol":0.06070082554702965,"std_resid":-0.8281614184429484},
{"x":189,"ret":-0.0153041699542662,"vol":0.05966896763661091,"std_resid":-0.25648457750215986},
{"x":190,"ret":0.06269904673916393,"vol":0.05442791883690616,"std_resid":1.1519648018702},
{"x":191,"ret":-0.011884436576053758,"vol":0.05400003882994135,"std_resid":-0.22008200056078858},
{"x":192,"ret":-0.0037214112986045933,"vol":0.049275161573866515,"std_resid":-0.0755230663835768},
{"x":193,"ret":-0.06790191345952046,"vol":0.04469496931913525,"std_resid":-1.5192294455933237},
{"x":194,"ret":0.011403851179016655,"vol":0.05141677966095345,"std_resid":0.22179240423485494},
{"x":195,"ret":0.049991406703177255,"vol":0.04631675701184333,"std_resid":1.0793373700666111},
{"x":196,"ret":0.050317570498433106,"vol":0.04535291393845646,"std_resid":1.1094672013073656},
{"x":197,"ret":0.05410995722617873,"vol":0.044631515306029344,"std_resid":1.2123710533948402},
{"x":198,"ret":0.004584616268365593,"vol":0.044713054889408736,"std_resid":0.10253417664494134},
{"x":199,"ret":-0.003037231090607939,"vol":0.04046051694666451,"std_resid":-0.07506654189840554},
{"x":200,"ret":0.02977865297839788,"vol":0.03702448678236315,"std_resid":0.8042961717050223},
{"x":201,"ret":0.018745356169324268,"vol":0.03494584521332857,"std_resid":0.5364115835485549},
{"x":202,"ret":0.010696108447547203,"vol":0.032261861127390434,"std_resid":0.3315403412503741},
{"x":203,"ret":0.028858536676307445,"vol":0.02966270806345714,"std_resid":0.9728894817887384},
{"x":204,"ret":0.04689178004819983,"vol":0.02875833994845578,"std_resid":1.6305454394184442},
{"x":205,"ret":0.009526057589642534,"vol":0.031194803990855415,"std_resid":0.3053732151173332},
{"x":206,"ret":-0.01709533813402242,"vol":0.028733784959839713,"std_resid":-0.5949560128578961},
{"x":207,"ret":0.008310714370073136,"vol":0.028634426407170534,"std_resid":0.290235056637698},
{"x":208,"ret":-0.027352407740604434,"vol":0.026540949692767286,"std_resid":-1.0305738135684828},
{"x":209,"ret":0.026822868251062282,"vol":0.028863090213397412,"std_resid":0.929313807106208},
{"x":210,"ret":-0.024042862566822976,"vol":0.02785798291226175,"std_resid":-0.8630510917658888},
{"x":211,"ret":-0.015409524018366483,"vol":0.029163092048785366,"std_resid":-0.5283912965260583},
{"x":212,"ret":0.02603246797633041,"vol":0.028725997324950764,"std_resid":0.9062337394886264},
{"x":213,"ret":-0.00040270799293207205,"vol":0.027654525613297426,"std_resid":-0.014562100922043427},
{"x":214,"ret":0.045262849255496285,"vol":0.025952722724540137,"std_resid":1.744050122829581},
{"x":215,"ret":0.02556565141095568,"vol":0.028816225779679076,"std_resid":0.8871963874250434},
{"x":216,"ret":-0.014954366275299336,"vol":0.027676346876889257,"std_resid":-0.5403302083840685},
{"x":217,"ret":0.015304535527348229,"vol":0.027473671629780726,"std_resid":0.557061893058317},
{"x":218,"ret":-0.003950676042554946,"vol":0.02573129377465512,"std_resid":-0.15353584927184244},
{"x":219,"ret":-0.0258308029739851,"vol":0.024602631406363585,"std_resid":-1.0499203336153646},
{"x":220,"ret":0.011824051087475418,"vol":0.027136732826645752,"std_resid":0.4357212477644065},
{"x":221,"ret":0.02013905318857301,"vol":0.025316668295665416,"std_resid":0.7954859207133945},
{"x":222,"ret":0.01649043963527763,"vol":0.02425946492806861,"std_resid":0.679752817474466},
{"x":223,"ret":0.0016595071885090462,"vol":0.023111437015986204,"std_resid":0.07180458693940854},
{"x":224,"ret":0.0013468345307261487,"vol":0.0220496269457913,"std_resid":0.061081964517464296},
{"x":225,"ret":-0.028092571497019492,"vol":0.021191358532965544,"std_resid":-1.3256616584216785},
{"x":226,"ret":0.03738914840433871,"vol":0.0253156874860699,"std_resid":1.476916177959311},
{"x":227,"ret":0.019765070655174632,"vol":0.02670440183458817,"std_resid":0.740142796592225},
{"x":228,"ret":0.013114167795042597,"vol":0.025375776586504428,"std_resid":0.5167986780754167},
{"x":229,"ret":-0.0016279382787409702,"vol":0.023873506727390786,"std_resid":-0.06819016147607625},
{"x":230,"ret":0.013297788924127474,"vol":0.02288521491504205,"std_resid":0.5810646294340487},
{"x":231,"ret":0.006494855086375928,"vol":0.021804541274644446,"std_resid":0.29786708211690344},
{"x":232,"ret":-0.009382133337926923,"vol":0.02081023085257052,"std_resid":-0.4508423479006252},
{"x":233,"ret":-0.028973629189040118,"vol":0.02127525691897894,"std_resid":-1.3618462657996726},
{"x":234,"ret":0.005625837923097343,"vol":0.02559263513970112,"std_resid":0.21982253458418363},
{"x":235,"ret":0.02112829292352636,"vol":0.02398635371465146,"std_resid":0.8808463835260076},
{"x":236,"ret":0.02348767609243385,"vol":0.02326173304974394,"std_resid":1.0097130786518245},
{"x":237,"ret":0.0340487625980872,"vol":0.022930694543812087,"std_resid":1.4848552682533271},
{"x":238,"ret":0.018357940284173146,"vol":0.024291512053852132,"std_resid":0.7557347703788557},
{"x":239,"ret":0.019807710547122603,"vol":0.023269165946266983,"std_resid":0.851242824640232},
{"x":240,"ret":0.005449604767564509,"vol":0.022553443780496372,"std_resid":0.24163071593869778},
{"x":241,"ret":0.014388737452099676,"vol":0.021448877875393207,"std_resid":0.6708387047420725},
{"x":242,"ret":-0.026546662782473085,"vol":0.020673328761000614,"std_resid":-1.2841019987333764},
{"x":243,"ret":0.039502242762899265,"vol":0.024589090901572002,"std_resid":1.606494641100125},
{"x":244,"ret":0.031937849209096036,"vol":0.02658831797061085,"std_resid":1.2011985581185782},
{"x":245,"ret":0.0020163096477512354,"vol":0.026732115057821,"std_resid":0.07542649144633713},
{"x":246,"ret":0.004296688543782068,"vol":0.02505576067245908,"std_resid":0.17148505686777749},
{"x":247,"ret":-0.04443263293346522,"vol":0.0235658889502896,"std_resid":-1.8854639019640798},
{"x":248,"ret":0.028798564417291672,"vol":0.03127696460417217,"std_resid":0.9207595680000901},
{"x":249,"ret":0.028018350283972815,"vol":0.03007028456444868,"std_resid":0.9317620597810433},
{"x":250,"ret":-0.05080595078666139,"vol":0.028987505278929734,"std_resid":-1.7526844858771244},
{"x":251,"ret":0.01075925977866099,"vol":0.0364313485999673,"std_resid":0.2953297144391368}];
    const series = [{"name":"Std. Residuals","color":"#2ca02c","key":"std_resid","dash":""}];
    const bands = [];
    const refLines = [{"value":2,"color":"#d62728","dash":"4,3"},{"value":-2,"color":"#d62728","dash":"4,3"},{"value":0,"color":"#999","dash":"4,3"}];

    const container = d3.select('#vol_zr_83');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('zâ‚œ = Îµâ‚œ/Ïƒâ‚œ') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('zâ‚œ = Îµâ‚œ/Ïƒâ‚œ');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

</script>
</body>
</html>