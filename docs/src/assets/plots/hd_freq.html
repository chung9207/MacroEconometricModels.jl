<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Historical Decomposition (cholesky)</title>
<style>* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
    background: #fff;
    color: #333;
    padding: 20px;
}
.figure-title {
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 16px;
    color: #222;
}
.figure-source {
    font-size: 11px;
    color: #888;
    text-align: center;
    margin-top: 8px;
}
.panel-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
}
.panel {
    width: calc(100% - 16px);
    min-width: 300px;
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    padding: 12px;
}
.panel-title {
    font-size: 13px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 8px;
    color: #444;
}
.axis text { font-size: 11px; fill: #666; }
.axis line, .axis path { stroke: #ccc; }
.grid line { stroke: #f0f0f0; stroke-dasharray: 2,2; }
.grid .domain { stroke: none; }
.tooltip {
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 6px 10px;
    border-radius: 4px;
    font-size: 11px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s;
    z-index: 1000;
}
.legend { font-size: 11px; }
.legend rect { rx: 2; }
svg { overflow: visible; }
</style>
</head>
<body>
<div class="figure-title">Historical Decomposition (cholesky)</div>
<div class="panel-grid">
<div class="panel">
<div class="panel-title">INDPRO — Shock Contributions</div>
<div id="hd_bar_49"></div>
</div>
<div class="panel">
<div class="panel-title">INDPRO — Actual vs Decomposition</div>
<div id="hd_line_50"></div>
</div>
<div class="panel">
<div class="panel-title">UNRATE — Shock Contributions</div>
<div id="hd_bar_51"></div>
</div>
<div class="panel">
<div class="panel-title">UNRATE — Actual vs Decomposition</div>
<div id="hd_line_52"></div>
</div>
<div class="panel">
<div class="panel-title">CPI — Shock Contributions</div>
<div id="hd_bar_53"></div>
</div>
<div class="panel">
<div class="panel-title">CPI — Actual vs Decomposition</div>
<div id="hd_line_54"></div>
</div>
</div>

<div class="tooltip" id="tooltip"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<script>
// Shared utilities
const tooltip = d3.select('#tooltip');
function fmt(v) {
    if (v === null || v === undefined) return '';
    return Math.abs(v) >= 1000 ? v.toFixed(1) : (Math.abs(v) >= 1 ? v.toFixed(3) : v.toFixed(4));
}
function showTip(evt, html) {
    tooltip.html(html).style('opacity',1)
        .style('left',(evt.pageX+12)+'px').style('top',(evt.pageY-28)+'px');
}
function hideTip() { tooltip.style('opacity',0); }

(function() {
    const data = [{"x":1,"s1":0.0019000245941260046,"s2":0.0,"s3":0.0},
{"x":2,"s1":0.0033474706584051867,"s2":3.922047887162488e-5,"s3":-0.00016682113708318535},
{"x":3,"s1":0.0008348228494368903,"s2":4.301788080283812e-5,"s3":-2.4851786932684404e-5},
{"x":4,"s1":0.008980782631558841,"s2":0.00014842511482191358,"s3":1.6509364744868857e-5},
{"x":5,"s1":0.0030810291197846005,"s2":-0.0004930793388863467,"s3":-0.0008303775646223733},
{"x":6,"s1":0.0012001633921604968,"s2":0.0008276917814522017,"s3":0.0007356884030395733},
{"x":7,"s1":-0.0013281453265699252,"s2":-0.001020222750948148,"s3":-0.0006939376830885488},
{"x":8,"s1":0.0022977608617302655,"s2":0.0002235485425756828,"s3":-0.00021500899815542673},
{"x":9,"s1":-0.0002065681934239705,"s2":2.6923162178999813e-5,"s3":-2.8370816444186063e-5},
{"x":10,"s1":0.004258106983057682,"s2":-0.0003036381463777138,"s3":-0.0007191273064288866},
{"x":11,"s1":-0.005773977603807676,"s2":0.0004029655496604336,"s3":0.0009045403460296551},
{"x":12,"s1":0.0019976464397468943,"s2":-0.0008733492432689053,"s3":-0.0006473020148633943},
{"x":13,"s1":-0.004239121343371397,"s2":0.0017100975924569546,"s3":0.0002649920038850063},
{"x":14,"s1":0.002246384605711708,"s2":-0.0007456416050550492,"s3":0.0011225025463558352},
{"x":15,"s1":-0.004411229493432888,"s2":0.0001800133491210012,"s3":-0.0012398064740674409},
{"x":16,"s1":-0.00017106315688111132,"s2":0.0012899758455654203,"s3":0.000863657312425316},
{"x":17,"s1":0.0013916169561102895,"s2":-0.0010231870930160023,"s3":-0.0002629456229803689},
{"x":18,"s1":0.000875717001510556,"s2":0.001189081181694127,"s3":0.00014961850933410974},
{"x":19,"s1":0.0008317495358224845,"s2":6.080752494733644e-5,"s3":-0.00024116944200306073},
{"x":20,"s1":-0.00691886506492183,"s2":0.00027913262549965904,"s3":-7.826459839187715e-5},
{"x":21,"s1":-0.0007069544773821224,"s2":0.0009197849003950747,"s3":7.575104595668435e-6},
{"x":22,"s1":-0.002385835444568305,"s2":1.1968303691748496e-5,"s3":-5.069703775036044e-5},
{"x":23,"s1":-0.008910525654296522,"s2":0.00041951149146286825,"s3":0.0005173347834693665},
{"x":24,"s1":-0.0036930271476584525,"s2":0.0016117790521514976,"s3":-0.00026360435875909266},
{"x":25,"s1":-0.012037770495014725,"s2":-0.0005562862973046622,"s3":0.0006343757084127873},
{"x":26,"s1":0.005632605781691028,"s2":0.0012898487928229819,"s3":0.0005639610059974001},
{"x":27,"s1":-0.003991338220608263,"s2":-8.991217383963636e-5,"s3":-0.001321157126444742},
{"x":28,"s1":-0.0041780704222795445,"s2":0.000974802475471176,"s3":-0.0004079707312938716},
{"x":29,"s1":0.00045049807181914625,"s2":0.0004269847268468342,"s3":0.00023452878144990485},
{"x":30,"s1":0.004122908270978711,"s2":-0.00015317976451560691,"s3":-0.0007610084576682713},
{"x":31,"s1":-0.008431942069122867,"s2":0.0005243570604597877,"s3":0.0005768547963010966},
{"x":32,"s1":0.005881578962253994,"s2":7.7068523208841e-5,"s3":0.0008221679660591878},
{"x":33,"s1":0.002545255899877113,"s2":0.00015113459591659567,"s3":1.3326657988089764e-5},
{"x":34,"s1":-0.005231327427641773,"s2":0.0003496075163796264,"s3":-6.721280833231568e-7},
{"x":35,"s1":-0.0008117874759731675,"s2":-4.302686072475969e-5,"s3":0.0016328025259506821},
{"x":36,"s1":0.0026109663728814837,"s2":0.0006786204399258326,"s3":-0.002162548483766246},
{"x":37,"s1":-0.004843478901367786,"s2":-6.228721909387462e-5,"s3":0.0008981935341123076},
{"x":38,"s1":0.0031516801084149485,"s2":-0.0009584292943562698,"s3":-0.0009650868179297835},
{"x":39,"s1":-0.00281833692289693,"s2":0.00048788906775583656,"s3":0.00014821374036239537},
{"x":40,"s1":-0.008782092734781878,"s2":-0.0011900063645453208,"s3":0.0018540230591701486},
{"x":41,"s1":-0.013553945326143638,"s2":-0.0008612886067951683,"s3":-0.000640296375205944},
{"x":42,"s1":-0.009197452479145338,"s2":-0.0015746838143521748,"s3":0.001147187157655205},
{"x":43,"s1":-0.00472209740797203,"s2":5.389309767758777e-5,"s3":-0.0008513030604699055},
{"x":44,"s1":-0.00884726267335853,"s2":-0.0013234696405376872,"s3":0.0004965089439931895},
{"x":45,"s1":-0.0057149610428521595,"s2":-0.000699000350539792,"s3":-0.0016153476394144201},
{"x":46,"s1":0.0002862762282592493,"s2":-0.00040144491392286516,"s3":0.0004920541786210619},
{"x":47,"s1":0.007300525541407647,"s2":3.2507762245583634e-5,"s3":-0.0002211292846911993},
{"x":48,"s1":0.008045605571503828,"s2":-0.001466993088240656,"s3":-0.0007664346088025189},
{"x":49,"s1":4.087796260692033e-5,"s2":0.000612889379096359,"s3":-0.00011530257268494214},
{"x":50,"s1":-0.0021734820427563952,"s2":-0.0007127884635031725,"s3":0.0006167088269109672},
{"x":51,"s1":0.006056156230891137,"s2":-0.000845503220766459,"s3":0.0004327877635045018},
{"x":52,"s1":-0.0026169630692545885,"s2":0.00015948492585084382,"s3":-0.0003473380885578134},
{"x":53,"s1":-0.0023510082983603637,"s2":-0.0008683469976886418,"s3":-0.0006224714208579641},
{"x":54,"s1":-0.007415410304886903,"s2":-0.0004560494741855914,"s3":0.0007388668278559492},
{"x":55,"s1":-0.006418823906999544,"s2":-0.0012712319733600124,"s3":0.00018058474210086838},
{"x":56,"s1":0.005327279553225994,"s2":0.0001600393294497572,"s3":-0.0007106351442607758},
{"x":57,"s1":0.007061404731415651,"s2":-0.0017612610776285135,"s3":0.0009311737018103841},
{"x":58,"s1":0.005783579146698067,"s2":-8.396326104254963e-5,"s3":-0.0003963528590806133},
{"x":59,"s1":0.002247060657500074,"s2":-0.0008852510385447476,"s3":-0.000334321408719083},
{"x":60,"s1":-0.0012683698672101378,"s2":-0.0010371388862480528,"s3":0.0005590287674165933},
{"x":61,"s1":0.007433720613240571,"s2":-0.0008087265842716978,"s3":0.0002817419721812126},
{"x":62,"s1":-0.006214679931482981,"s2":-0.0010676829201348684,"s3":-0.0005833934193189539},
{"x":63,"s1":0.002273678607369587,"s2":-0.0013066375142174879,"s3":6.787268040487496e-5},
{"x":64,"s1":0.005002115819976039,"s2":-0.0008171161216796956,"s3":0.0002856897898196501},
{"x":65,"s1":0.0004319526552488082,"s2":0.0006900676616995189,"s3":0.0004048234332820111},
{"x":66,"s1":0.0007723671102068892,"s2":-0.0011711029787535854,"s3":-0.00017196868108912866},
{"x":67,"s1":0.0005815543650664246,"s2":0.0011141258150792332,"s3":-0.00012133849317553822},
{"x":68,"s1":0.0019217215581666955,"s2":-7.741086054306873e-6,"s3":0.000632212693985574},
{"x":69,"s1":-0.0029126085193107946,"s2":0.0003207753769540232,"s3":-0.000540281242834204},
{"x":70,"s1":0.000740614298176829,"s2":0.0003383564776924481,"s3":-0.0005977663779057084},
{"x":71,"s1":-0.0072841913677673285,"s2":0.00047673985668458943,"s3":0.000757670605387021},
{"x":72,"s1":-0.0005198273909179144,"s2":0.0009083510046778874,"s3":-0.0003940767929928585},
{"x":73,"s1":0.0007757289857044838,"s2":3.2379200110282893e-5,"s3":-0.0003731921915640584},
{"x":74,"s1":-0.004564536494635007,"s2":0.0006576720984952679,"s3":0.0004421955586471973},
{"x":75,"s1":0.0025316418765781203,"s2":0.0009330089140564189,"s3":-0.0004313629445897584},
{"x":76,"s1":0.004738450695260032,"s2":0.0007538225395864917,"s3":-0.0004468212691516602},
{"x":77,"s1":0.0013588101107408156,"s2":0.0004662915086372228,"s3":0.0004757034877917573},
{"x":78,"s1":0.002036755792787441,"s2":0.0015688422118630932,"s3":4.147240394985881e-5},
{"x":79,"s1":0.0011636626867678002,"s2":-0.00015495040185396362,"s3":-0.00039323325073689164},
{"x":80,"s1":-0.0030967075093946595,"s2":0.0007217338837488873,"s3":0.0006995050279055919},
{"x":81,"s1":0.007868496807248875,"s2":0.0007356983899124137,"s3":-0.0007125050145077956},
{"x":82,"s1":0.003791108979695608,"s2":-0.00022332157497094478,"s3":7.015021710279001e-5},
{"x":83,"s1":0.0029650831269985695,"s2":0.00014916692536075886,"s3":-0.0007819545123379415},
{"x":84,"s1":0.0028806316159598437,"s2":0.0008615587693312712,"s3":0.0007280588850854851},
{"x":85,"s1":-0.0007619274599289892,"s2":-0.00016334375877238288,"s3":-3.423517073342006e-6},
{"x":86,"s1":0.00379137772512184,"s2":0.0011221026288266676,"s3":-0.0004898232550593405},
{"x":87,"s1":8.802232652049726e-5,"s2":0.00030061210170226365,"s3":0.0004937144202358253},
{"x":88,"s1":0.0054315949078499615,"s2":0.0003255264164495061,"s3":-2.3904988366191373e-6},
{"x":89,"s1":0.004127128522618138,"s2":0.00045229194478625255,"s3":-2.4997922562977247e-5},
{"x":90,"s1":0.0068416395461786406,"s2":0.0008851736639699006,"s3":0.0001814123007030949},
{"x":91,"s1":-7.463820584686291e-5,"s2":0.00013203734006504857,"s3":-0.0006150633472855186},
{"x":92,"s1":-0.0034309753286219527,"s2":0.00040874369124617384,"s3":-0.00036465607835744845},
{"x":93,"s1":-0.002159082192096916,"s2":0.0011173473664336056,"s3":0.000443835573442287},
{"x":94,"s1":-0.0029429519515267247,"s2":-0.0006421867581927844,"s3":-0.0004007874908325203},
{"x":95,"s1":0.002503935620494581,"s2":-8.925542023028254e-5,"s3":0.00022602637466191311},
{"x":96,"s1":-7.019178400776387e-5,"s2":0.00120285358817687,"s3":-8.201078204457647e-5},
{"x":97,"s1":-0.004454463937944988,"s2":-0.0018990258319404297,"s3":-9.460338021390562e-5},
{"x":98,"s1":0.00989170735776104,"s2":0.0004735810584865442,"s3":0.0005458341662759513},
{"x":99,"s1":0.0026722069117843675,"s2":-5.445963147661086e-5,"s3":-0.0008507715027023933},
{"x":100,"s1":-0.004004992741939669,"s2":-0.0001956572127900911,"s3":0.00018334213399410945},
{"x":101,"s1":0.0010377033785181338,"s2":-0.0003629262804814505,"s3":-0.0003009716131996356},
{"x":102,"s1":0.0010415908552187682,"s2":-9.330079718704486e-5,"s3":0.0002583339552825388},
{"x":103,"s1":-0.008039457508741304,"s2":0.0004618425919008412,"s3":-0.00042066428427615465},
{"x":104,"s1":0.012090981363032214,"s2":-0.00041972905692481266,"s3":0.0005997072106255357},
{"x":105,"s1":-0.0030866817136172087,"s2":-5.948465012919038e-5,"s3":-0.0003370766750131821},
{"x":106,"s1":0.007247767053879497,"s2":0.00019358711388358358,"s3":0.00020166368304922475},
{"x":107,"s1":0.0043067163224006335,"s2":-0.0002681676805903039,"s3":0.0011488345714129045},
{"x":108,"s1":0.006219499814364207,"s2":0.00012479124910619646,"s3":-0.001009113231980675},
{"x":109,"s1":-0.002410210318107387,"s2":-9.172798721144116e-5,"s3":0.0003974839313393086},
{"x":110,"s1":0.004105198478223242,"s2":-0.0012180232571121334,"s3":-4.014034622096284e-5},
{"x":111,"s1":0.0028241066486065424,"s2":0.0019080155729462823,"s3":-0.0007506905130202699},
{"x":112,"s1":-0.00037826517399936843,"s2":-0.001891131702442251,"s3":0.0003072905167801371},
{"x":113,"s1":0.005593142317086249,"s2":0.0014097704615473681,"s3":-0.00011632801624248356},
{"x":114,"s1":0.005356049088067154,"s2":-0.0010781656148576991,"s3":-0.0001494357904293291},
{"x":115,"s1":-0.0014507567474877352,"s2":0.00020488784018098355,"s3":0.0005715388715001767},
{"x":116,"s1":0.010886309379532097,"s2":-0.0009849777227605425,"s3":-0.00029171526684889683},
{"x":117,"s1":0.004718683136882041,"s2":-0.0006169519626096164,"s3":-3.385142383532921e-5},
{"x":118,"s1":-0.0005414614394567569,"s2":-0.00028844321628099495,"s3":-0.00025678123856636694},
{"x":119,"s1":0.0037960581582453905,"s2":-0.00015340854941732563,"s3":-0.00037648904093278915},
{"x":120,"s1":0.0026170492998467696,"s2":-0.0002500629809511022,"s3":-3.975018080348935e-5},
{"x":121,"s1":0.007297852482073671,"s2":-0.0005155383151717089,"s3":-0.0005345719168625477},
{"x":122,"s1":0.007063404346408199,"s2":0.0007977567040989152,"s3":-0.0001644153665929185},
{"x":123,"s1":0.007711466517048441,"s2":-0.0007034606796209316,"s3":-0.00014863079052463218},
{"x":124,"s1":0.006308429886615859,"s2":-0.0005085328528583546,"s3":0.000769752538567788},
{"x":125,"s1":0.005499827332533404,"s2":0.0005552625391173969,"s3":-0.00046900138629311764},
{"x":126,"s1":0.0027894652928178686,"s2":-0.0010802732528114325,"s3":0.0002820511332398131},
{"x":127,"s1":0.0026732670321829694,"s2":-0.00034140314610989285,"s3":-0.00021628001979695125},
{"x":128,"s1":-0.0005093898774517315,"s2":0.00015331839537364612,"s3":-0.000284639309324192},
{"x":129,"s1":-0.0005369891626705228,"s2":-0.0011209989266875258,"s3":-0.0002486213081866418},
{"x":130,"s1":0.002051233635827522,"s2":-0.0004976615503826338,"s3":-0.00038638931450174393},
{"x":131,"s1":0.0033983202712139747,"s2":0.0007976797647143518,"s3":0.00011551208781302384},
{"x":132,"s1":-0.006345059773549607,"s2":-0.0016721210778737551,"s3":-0.0002576748443920634},
{"x":133,"s1":-0.007561140972001327,"s2":0.0013534226306690011,"s3":9.653123814831925e-5},
{"x":134,"s1":0.018082110721540243,"s2":-0.00019151130457283435,"s3":0.00034310123163993337},
{"x":135,"s1":-0.0027350986497909863,"s2":-0.0005335581250463051,"s3":0.0004781284502063386},
{"x":136,"s1":0.005184615949773588,"s2":0.00011301831646712895,"s3":-0.0007428355810596106},
{"x":137,"s1":-0.003299315067431308,"s2":-0.00015496680954093118,"s3":0.00043765430276956836},
{"x":138,"s1":0.0026455561543160043,"s2":-0.0004024518262589127,"s3":1.8844855723510024e-5},
{"x":139,"s1":0.00280679769612969,"s2":-0.00038170904214521536,"s3":-0.0003720439586761972},
{"x":140,"s1":0.002788635913393359,"s2":0.0005638697611100751,"s3":0.0004523735661741568},
{"x":141,"s1":0.0012811860009666188,"s2":-0.0007149349833036799,"s3":-0.0005583987378877932},
{"x":142,"s1":-0.001342486820426657,"s2":0.0009204806814502335,"s3":0.0004597918208126047},
{"x":143,"s1":0.004927981660836185,"s2":-0.0010599476702613387,"s3":0.00017641285814031508},
{"x":144,"s1":-0.003485653694347578,"s2":0.0010076966993569794,"s3":-0.0005649213266882498},
{"x":145,"s1":0.004544573651376639,"s2":-0.0008728045636897508,"s3":-0.00016046717934598416},
{"x":146,"s1":-0.0006633358429598844,"s2":0.00032235008001196765,"s3":0.002090028516902603},
{"x":147,"s1":-0.004283276717175436,"s2":-0.00015239483062641347,"s3":-0.0018677899073207915},
{"x":148,"s1":0.010043434238225972,"s2":-0.0003735039648471259,"s3":0.00022075321575027438},
{"x":149,"s1":0.0009478120974501006,"s2":0.00042085124769612454,"s3":0.0012088123466081242},
{"x":150,"s1":0.006360268550950807,"s2":-0.0001095267424578769,"s3":-0.0008254083830162624},
{"x":151,"s1":-0.004668217208779354,"s2":0.0002674548156397798,"s3":0.0007735765981553275},
{"x":152,"s1":0.001680450580646619,"s2":-5.6885058067650957e-5,"s3":-0.0007633402212585302},
{"x":153,"s1":0.001303438663322865,"s2":-0.0001721288950714446,"s3":0.00015990235175771263},
{"x":154,"s1":0.0029815692100589905,"s2":0.000384046738812052,"s3":0.0003107650525059502},
{"x":155,"s1":0.00086678240341591,"s2":-0.00027716927412823976,"s3":-0.0001437814855512311},
{"x":156,"s1":-0.0015790152376207046,"s2":-0.0006040115938965899,"s3":0.00031528314822948166},
{"x":157,"s1":-0.0061036558923358636,"s2":0.0011024105216862938,"s3":0.0007903125073907494},
{"x":158,"s1":-0.0021620855706011048,"s2":-0.0008656101989290584,"s3":-0.0019571380328951794},
{"x":159,"s1":0.0021166477159978055,"s2":-0.0004140364295883882,"s3":0.0006432713288011878},
{"x":160,"s1":-0.007971280416122464,"s2":0.0007813543033520593,"s3":0.0010383409853930365},
{"x":161,"s1":-0.0006338581269441036,"s2":-0.0005014595337066661,"s3":-0.000843278274174219},
{"x":162,"s1":-0.0054592487045750406,"s2":0.0005991672651354356,"s3":-0.0006664896905377617},
{"x":163,"s1":-0.009415185110539211,"s2":0.0007183930764562328,"s3":0.0016677222734893724},
{"x":164,"s1":-0.007109928349309019,"s2":-0.00036183972892379576,"s3":-0.0013211974658077271},
{"x":165,"s1":-0.005773419238038164,"s2":0.0010830737016645834,"s3":0.00037973337146109766},
{"x":166,"s1":-0.004842331316180989,"s2":-0.0007974415032926374,"s3":-0.00021480826253548487},
{"x":167,"s1":-0.008532348132617888,"s2":0.0003954439221052741,"s3":0.0010913590152118208},
{"x":168,"s1":-0.007135722587964645,"s2":0.0005211539971635585,"s3":-0.0009378757362071227},
{"x":169,"s1":-0.008157636876963416,"s2":-0.000498705549487714,"s3":-2.6661254671965134e-5},
{"x":170,"s1":-0.004449778641905225,"s2":0.0010883611101827455,"s3":-4.522244303841819e-5},
{"x":171,"s1":-0.007356410434323933,"s2":-0.0006543616869831939,"s3":0.0006746957068730937},
{"x":172,"s1":-0.004832451024044203,"s2":0.0005121662564094472,"s3":-0.0006831350963772386},
{"x":173,"s1":-0.005717126663653502,"s2":-0.0013906576238454722,"s3":-0.0012158762074899409},
{"x":174,"s1":-0.002889689044005061,"s2":-0.00013941321077287335,"s3":0.00034339203770681953},
{"x":175,"s1":0.004605385083579154,"s2":-0.001297236316865198,"s3":0.001066715664786393},
{"x":176,"s1":0.0006124294384682134,"s2":-0.0007630070125635556,"s3":-0.001992398152965361},
{"x":177,"s1":0.004541082534198867,"s2":-0.0009354234165245852,"s3":0.001348473167578683},
{"x":178,"s1":0.003170865936225231,"s2":-0.000511714143523429,"s3":-4.6350036693183765e-5},
{"x":179,"s1":0.0013058142165221782,"s2":-0.000821853409165216,"s3":0.0012674672503335898},
{"x":180,"s1":0.005978030324113988,"s2":0.00012297988327730005,"s3":-0.00014419138061363528},
{"x":181,"s1":-0.0014364763118284846,"s2":-0.0014809014929965249,"s3":0.0003372067556549108},
{"x":182,"s1":-0.003941932071511818,"s2":3.328282803906924e-5,"s3":0.000539295310239047},
{"x":183,"s1":-0.00019146968852665636,"s2":-0.0003138850166073923,"s3":-0.0009041970079370846},
{"x":184,"s1":-0.003925590414498164,"s2":-0.000613099691265864,"s3":0.00019565335915903913},
{"x":185,"s1":0.0026440666296831928,"s2":0.00024722532047735435,"s3":0.0004370835574876257},
{"x":186,"s1":-0.007295130172333387,"s2":-0.0006103788059063997,"s3":7.068127765035527e-5},
{"x":187,"s1":0.00622779972857937,"s2":0.0002580672115295646,"s3":-0.0002586616258799122},
{"x":188,"s1":-0.0011470830706343197,"s2":-0.0004014739012004098,"s3":0.0004777774900915399},
{"x":189,"s1":-0.004246285781097897,"s2":-0.000772685701017389,"s3":0.00012879972481692891},
{"x":190,"s1":-0.008774803638931194,"s2":0.0006790549408077525,"s3":-0.00013716702063264189},
{"x":191,"s1":-0.002503912118906381,"s2":-0.0005301521210391178,"s3":0.000503084399465805},
{"x":192,"s1":-0.000745320240366282,"s2":-0.00012504801932908548,"s3":-0.00011071743842348722},
{"x":193,"s1":0.004501499297389393,"s2":-0.00047324340747125247,"s3":-0.0011613207489895433},
{"x":194,"s1":-0.0031476099202020213,"s2":9.703096858645873e-5,"s3":-0.0013917792780292436},
{"x":195,"s1":0.003525530772908244,"s2":-0.0006912055652686754,"s3":0.0013342260848292556},
{"x":196,"s1":-0.0017315744438996163,"s2":-5.519880322618309e-5,"s3":0.0007594295958732115},
{"x":197,"s1":0.003220378062438343,"s2":0.0008173980392880365,"s3":0.00038661553780028313},
{"x":198,"s1":-0.002279116474167823,"s2":0.0002543699385078326,"s3":6.2492155399649e-5},
{"x":199,"s1":-0.0014387776079843987,"s2":0.0007237118250711254,"s3":-2.2508407722775005e-5},
{"x":200,"s1":0.004010152846865652,"s2":0.0008556504169458546,"s3":-0.0011096975643210482},
{"x":201,"s1":-0.008060865336914224,"s2":0.0010451380444464785,"s3":0.0007487710340293021},
{"x":202,"s1":0.0013316116895863174,"s2":-0.00015915159283253394,"s3":0.0002768386693828386},
{"x":203,"s1":0.0030844420368141734,"s2":0.0014481150685600197,"s3":0.0004069931916929484},
{"x":204,"s1":-0.009003126314121297,"s2":-0.0006078379865562535,"s3":-0.00048007491518120413},
{"x":205,"s1":0.0038103620274607458,"s2":0.0011627444240937567,"s3":0.00021257282244196776},
{"x":206,"s1":-0.0015508356594199817,"s2":0.00026513148507081174,"s3":-0.00030152951595296544},
{"x":207,"s1":-0.0024758653760193145,"s2":0.0006907224021672135,"s3":0.0007971269223363092},
{"x":208,"s1":0.006189293400757904,"s2":0.0004527330569135993,"s3":-0.00040491413010833343},
{"x":209,"s1":0.00010288892604322231,"s2":0.0005282919373716113,"s3":-0.00040902582209079765},
{"x":210,"s1":0.004718932328129454,"s2":0.0008206002501612543,"s3":0.0001385080129746954},
{"x":211,"s1":0.0014312547740690652,"s2":-0.0005775543518243984,"s3":0.0004781782839554187},
{"x":212,"s1":0.0040978618123435435,"s2":0.0007749101082040798,"s3":0.0001018737325532622},
{"x":213,"s1":-0.0029590686704978673,"s2":-0.0005736539275188237,"s3":-7.765759127115991e-5},
{"x":214,"s1":0.00010004805676820769,"s2":0.0009617741823384981,"s3":-0.001169827204954569},
{"x":215,"s1":-0.00029657020558582307,"s2":-0.0010531749831029702,"s3":-8.734694129459475e-6},
{"x":216,"s1":-2.4432104787598086e-5,"s2":0.00114702658174973,"s3":0.0011067342708314292},
{"x":217,"s1":-0.004765445400668555,"s2":6.322895309209088e-5,"s3":-0.0007274502503106941},
{"x":218,"s1":4.685937381688591e-5,"s2":0.0004994271715520322,"s3":0.00044930139152308906},
{"x":219,"s1":-0.021930555147456413,"s2":0.0008506740912469149,"s3":-0.0007421481230068032},
{"x":220,"s1":0.008132330431515756,"s2":0.00046847859828374783,"s3":0.0012053199677407728},
{"x":221,"s1":0.00655711688405097,"s2":0.0008412255025783135,"s3":0.0015209738251954301},
{"x":222,"s1":0.0033199177636977235,"s2":0.0006128504069271537,"s3":-0.0010392750160635638},
{"x":223,"s1":-0.0033556239466916216,"s2":0.0006619245429832066,"s3":0.0020120991949538736},
{"x":224,"s1":0.0009222880478398732,"s2":0.0006581869905287859,"s3":-0.0034171752677005954},
{"x":225,"s1":0.0015416816855221864,"s2":-0.00011024028450961669,"s3":-0.0014375271509367024},
{"x":226,"s1":-0.0014282651399367618,"s2":0.0013192774350901109,"s3":0.0008828657384471457},
{"x":227,"s1":-0.0031777398895690995,"s2":-0.00034452564624546164,"s3":0.0015181796825558106},
{"x":228,"s1":0.0015706108002635773,"s2":0.0008198793481485716,"s3":-0.00148728134165763},
{"x":229,"s1":-0.0035566491941874147,"s2":0.00013865601378760617,"s3":0.000647046265197934},
{"x":230,"s1":0.000601980941600175,"s2":0.0005990064222407692,"s3":0.0009199511048227145},
{"x":231,"s1":-0.0035745088312205955,"s2":0.000260741974751,"s3":-0.0006073959101401248},
{"x":232,"s1":-0.003381782763307523,"s2":0.0005230482461105126,"s3":-0.000546941848599706},
{"x":233,"s1":-0.0028977095362123766,"s2":0.0001108486906768089,"s3":0.00010822780752857136},
{"x":234,"s1":0.0075824314348311335,"s2":0.0007752082944052197,"s3":-0.0004740930422171923},
{"x":235,"s1":-0.004188995370464979,"s2":0.0009391982467489493,"s3":-0.002397269280270592},
{"x":236,"s1":0.007000381288635782,"s2":-0.0005097893032663267,"s3":0.0006296769126347321},
{"x":237,"s1":-0.0025420942241699846,"s2":0.00092383644734184,"s3":0.0011386728164608604},
{"x":238,"s1":0.0027917217345563806,"s2":-6.62695258327561e-5,"s3":0.0017166672833587519},
{"x":239,"s1":0.0003491089831228756,"s2":-0.0002908410885933653,"s3":-0.001360546829389211},
{"x":240,"s1":-0.0038520594949966376,"s2":0.0009354987180303447,"s3":0.0012352081510039064},
{"x":241,"s1":-0.0026039993536791273,"s2":-0.001044981038934965,"s3":0.00019052327295120914},
{"x":242,"s1":-4.526109054582005e-5,"s2":0.0003397417156350958,"s3":-0.0006286416499104982},
{"x":243,"s1":0.00016376364740851459,"s2":-0.00034815930737458456,"s3":0.00014632203471383773},
{"x":244,"s1":-0.003570683310852003,"s2":-0.000993457706156622,"s3":-0.0005181206071763017},
{"x":245,"s1":0.0025555310250217882,"s2":0.00035285498505067953,"s3":0.0001541253769715612},
{"x":246,"s1":-0.0012401558451329187,"s2":-0.0006492753070934441,"s3":-2.0008551130987597e-5}];
    const series = [{"name":"INDPRO","color":"#1f77b4","key":"s1","dash":""},{"name":"UNRATE","color":"#ff7f0e","key":"s2","dash":""},{"name":"CPI","color":"#2ca02c","key":"s3","dash":""}];
    const mode = 'stacked';

    const container = d3.select('#hd_bar_49');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    const keys = series.map(s => s.key);
    const x = d3.scaleBand().domain(data.map(d=>d.x)).range([0,w]).padding(0.15);

    let yMin = 0, yMax = 0;
    if(mode === 'stacked') {
        const stack = d3.stack().keys(keys).order(d3.stackOrderNone).offset(d3.stackOffsetDiverging);
        const stacked = stack(data);
        stacked.forEach(layer => layer.forEach(d => {
            yMin = Math.min(yMin, d[0], d[1]);
            yMax = Math.max(yMax, d[0], d[1]);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.layer').data(stacked).join('g').attr('class','layer')
            .attr('fill', (d,i) => series[i].color)
            .selectAll('rect').data(d => d).join('rect')
            .attr('x', d => x(d.data.x))
            .attr('y', d => y(Math.max(d[0], d[1])))
            .attr('height', d => Math.abs(y(d[0]) - y(d[1])))
            .attr('width', x.bandwidth());

        // Zero line
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    } else {
        // Grouped
        data.forEach(d => keys.forEach(k => {
            yMin = Math.min(yMin, d[k]||0);
            yMax = Math.max(yMax, d[k]||0);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);
        const x1 = d3.scaleBand().domain(keys).range([0, x.bandwidth()]).padding(0.05);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.group').data(data).join('g').attr('class','group')
            .attr('transform', d => 'translate('+x(d.x)+',0)')
            .selectAll('rect').data(d => keys.map(k => ({key:k, val:d[k]||0})))
            .join('rect')
            .attr('x', d => x1(d.key))
            .attr('y', d => y(Math.max(0, d.val)))
            .attr('height', d => Math.abs(y(0) - y(d.val)))
            .attr('width', x1.bandwidth())
            .attr('fill', d => series.find(s=>s.key===d.key).color);

        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    }

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Contribution') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Contribution');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*90)+',0)');
            gi.append('rect').attr('width',12).attr('height',12).attr('y',-6).attr('fill',s.color);
            gi.append('text').attr('x',16).attr('y',4).attr('font-size','10px').attr('fill','#555').text(s.name);
        });
    }

    // Tooltip
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const bands = x.domain();
            const idx = Math.min(Math.floor(mx / (w / bands.length)), bands.length-1);
            const d = data[Math.max(0,idx)];
            if(!d) return;
            let html = '<b>'+d.x+'</b>';
            series.forEach(s => { if(d[s.key]!==undefined) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"actual":0.006797065473966413,"recon":0.006797065473966413},
{"x":2,"actual":0.007478081537837689,"recon":0.007478081537837689},
{"x":3,"actual":0.003931774012906786,"recon":0.003931774012906786},
{"x":4,"actual":0.01323349510920746,"recon":0.01323349510920746},
{"x":5,"actual":0.004865946043528524,"recon":0.004865946043528524},
{"x":6,"actual":0.005592546578943036,"recon":0.005592546578943036},
{"x":7,"actual":-0.00019700828905744316,"recon":-0.00019700828905744316},
{"x":8,"actual":0.004999271340642153,"recon":0.004999271340642153},
{"x":9,"actual":0.002464822424946611,"recon":0.002464822424946611},
{"x":10,"actual":0.005784379012641949,"recon":0.005784379012641949},
{"x":11,"actual":-0.002018273083187694,"recon":-0.002018273083187694},
{"x":12,"actual":0.00289692739416747,"recon":0.00289692739416747},
{"x":13,"actual":0.0001469114322585341,"recon":0.0001469114322585341},
{"x":14,"actual":0.005001679278237248,"recon":0.005001679278237248},
{"x":15,"actual":-0.003129633358873285,"recon":-0.003129633358873285},
{"x":16,"actual":0.0043015363906127035,"recon":0.0043015363906127035},
{"x":17,"actual":0.0024157555877204473,"recon":0.0024157555877204473},
{"x":18,"actual":0.00451930917807708,"recon":0.00451930917807708},
{"x":19,"actual":0.0029453491324780146,"recon":0.0029453491324780146},
{"x":20,"actual":-0.004434996841930605,"recon":-0.004434996841930605},
{"x":21,"actual":0.002497608429581355,"recon":0.002497608429581355},
{"x":22,"actual":-0.00014968072164389667,"recon":-0.00014968072164389667},
{"x":23,"actual":-0.005701295487130054,"recon":-0.005701295487130054},
{"x":24,"actual":-7.60861911217603e-5,"recon":-7.60861911217603e-5},
{"x":25,"actual":-0.009693959689255571,"recon":-0.009693959689255571},
{"x":26,"actual":0.009750620169152846,"recon":0.009750620169152846},
{"x":27,"actual":-0.003138966589546932,"recon":-0.003138966589546932},
{"x":28,"actual":-0.0013487581284179484,"recon":-0.0013487581284179484},
{"x":29,"actual":0.0033733524412147275,"recon":0.0033733524412147275},
{"x":30,"actual":0.005469228290109207,"recon":0.005469228290109207},
{"x":31,"actual":-0.005070632766924987,"recon":-0.005070632766924987},
{"x":32,"actual":0.009040640973159597,"recon":0.009040640973159597},
{"x":33,"actual":0.004969202991748745,"recon":0.004969202991748745},
{"x":34,"actual":-0.002623250205882499,"recon":-0.002623250205882499},
{"x":35,"actual":0.0030369033197290562,"recon":0.0030369033197290562},
{"x":36,"actual":0.0033858350269504456,"recon":0.0033858350269504456},
{"x":37,"actual":-0.0017488731555337367,"recon":-0.0017488731555337367},
{"x":38,"actual":0.003486749997004601,"recon":0.003486749997004601},
{"x":39,"actual":7.625111401843299e-5,"recon":7.625111401843299e-5},
{"x":40,"actual":-0.005859653143676979,"recon":-0.005859653143676979},
{"x":41,"actual":-0.01279714376480623,"recon":-0.01279714376480623},
{"x":42,"actual":-0.007366596588133767,"recon":-0.007366596588133767},
{"x":43,"actual":-0.003261191076563641,"recon":-0.003261191076563641},
{"x":44,"actual":-0.007415936065028106,"recon":-0.007415936065028106},
{"x":45,"actual":-0.005771039266291744,"recon":-0.005771039266291744},
{"x":46,"actual":0.0026351435941132095,"recon":0.0026351435941132095},
{"x":47,"actual":0.009370150601197835,"recon":0.009370150601197835},
{"x":48,"actual":0.008070413249054553,"recon":0.008070413249054553},
{"x":49,"actual":0.0027966918655684125,"recon":0.0027966918655684125},
{"x":50,"actual":-1.1339677612909327e-5,"recon":-1.1339677612909327e-5},
{"x":51,"actual":0.007901658951122492,"recon":0.007901658951122492},
{"x":52,"actual":-0.0005466018382946913,"recon":-0.0005466018382946913},
{"x":53,"actual":-0.0015836157055426625,"recon":-0.0015836157055426625},
{"x":54,"actual":-0.004874384309522917,"recon":-0.004874384309522917},
{"x":55,"actual":-0.0052512640267554644,"recon":-0.0052512640267554644},
{"x":56,"actual":0.007034889592290483,"recon":0.007034889592290483},
{"x":57,"actual":0.008489522000498795,"recon":0.008489522000498795},
{"x":58,"actual":0.00756146666679669,"recon":0.00756146666679669},
{"x":59,"actual":0.0032856911647831666,"recon":0.0032856911647831666},
{"x":60,"actual":0.0005117224959834132,"recon":0.0005117224959834132},
{"x":61,"actual":0.009164938072931506,"recon":0.009164938072931506},
{"x":62,"actual":-0.005607554576631202,"recon":-0.005607554576631202},
{"x":63,"actual":0.0032931151719015617,"recon":0.0032931151719015617},
{"x":64,"actual":0.00672889068479865,"recon":0.00672889068479865},
{"x":65,"actual":0.0037850447982945568,"recon":0.0037850447982945568},
{"x":66,"actual":0.0016874963663999765,"recon":0.0016874963663999765},
{"x":67,"actual":0.003832542487244517,"recon":0.003832542487244517},
{"x":68,"actual":0.004804393879324742,"recon":0.004804393879324742},
{"x":69,"actual":-0.0008739137323683366,"recon":-0.0008739137323683366},
{"x":70,"actual":0.0027394050036360085,"recon":0.0027394050036360085},
{"x":71,"actual":-0.0037915803418799854,"recon":-0.0037915803418799854},
{"x":72,"actual":0.0022526473495334542,"recon":0.0022526473495334542},
{"x":73,"actual":0.002693116497312964,"recon":0.002693116497312964},
{"x":74,"actual":-0.0012064683528301146,"recon":-0.0012064683528301146},
{"x":75,"actual":0.005291488315735116,"recon":0.005291488315735116},
{"x":76,"actual":0.007303652422303131,"recon":0.007303652422303131},
{"x":77,"actual":0.0045590055532489515,"recon":0.0045590055532489515},
{"x":78,"actual":0.00590527084702952,"recon":0.00590527084702952},
{"x":79,"actual":0.0028736794669281807,"recon":0.0028736794669281807},
{"x":80,"actual":0.0005827318302769058,"recon":0.0005827318302769058},
{"x":81,"actual":0.010149890606631295,"recon":0.010149890606631295},
{"x":82,"actual":0.005896138042652765,"recon":0.005896138042652765},
{"x":83,"actual":0.004590495958547436,"recon":0.004590495958547436},
{"x":84,"actual":0.006728449687136262,"recon":0.006728449687136262},
{"x":85,"actual":0.0013295056794984106,"recon":0.0013295056794984106},
{"x":86,"actual":0.006681857512926825,"recon":0.006681857512926825},
{"x":87,"actual":0.0031405492615519393,"recon":0.0031405492615519393},
{"x":88,"actual":0.00801293123785829,"recon":0.00801293123785829},
{"x":89,"actual":0.006812622956685388,"recon":0.006812622956685388},
{"x":90,"actual":0.010166425922232492,"recon":0.010166425922232492},
{"x":91,"actual":0.001700536197938085,"recon":0.0017005361979380853},
{"x":92,"actual":-0.0011286873050115886,"recon":-0.0011286873050115886},
{"x":93,"actual":0.0016603011582869698,"recon":0.0016603011582869696},
{"x":94,"actual":-0.0017277257902161836,"recon":-0.0017277257902161836},
{"x":95,"actual":0.004898906985118856,"recon":0.004898906985118856},
{"x":96,"actual":0.0033088514322034968,"recon":0.0033088514322034968},
{"x":97,"actual":-0.00418989274010606,"recon":-0.00418989274010606},
{"x":98,"actual":0.013169322992450994,"recon":0.013169322992450994},
{"x":99,"actual":0.004025176187479218,"recon":0.004025176187479218},
{"x":100,"actual":-0.0017591074109057914,"recon":-0.0017591074109057914},
{"x":101,"actual":0.0026320058946325275,"recon":0.0026320058946325275},
{"x":102,"actual":0.003464824423083712,"recon":0.003464824423083712},
{"x":103,"actual":-0.005740078791367509,"recon":-0.005740078791367509},
{"x":104,"actual":0.014529159926465418,"recon":0.014529159926465418},
{"x":105,"actual":-0.0012250426290405514,"recon":-0.0012250426290405514},
{"x":106,"actual":0.009901218260520928,"recon":0.009901218260520928},
{"x":107,"actual":0.0074455836229239125,"recon":0.0074455836229239125},
{"x":108,"actual":0.007593378241184112,"recon":0.007593378241184112},
{"x":109,"actual":0.00015374603570972312,"recon":0.00015374603570972312},
{"x":110,"actual":0.0051052352845752935,"recon":0.0051052352845752935},
{"x":111,"actual":0.006239632118214544,"recon":0.006239632118214544},
{"x":112,"actual":0.00029609405001806977,"recon":0.00029609405001806977},
{"x":113,"actual":0.009144785172068737,"recon":0.009144785172068737},
{"x":114,"actual":0.006386648092456149,"recon":0.006386648092456149},
{"x":115,"actual":0.0015838703738682014,"recon":0.0015838703738682014},
{"x":116,"actual":0.011867816799596476,"recon":0.011867816799596476},
{"x":117,"actual":0.006326080160110159,"recon":0.006326080160110159},
{"x":118,"actual":0.0011715145153683437,"recon":0.001171514515368344},
{"x":119,"actual":0.005524360977567255,"recon":0.005524360977567255},
{"x":120,"actual":0.004585436547763777,"recon":0.004585436547763777},
{"x":121,"actual":0.008505942659710719,"recon":0.008505942659710719},
{"x":122,"actual":0.00995494609358527,"recon":0.00995494609358527},
{"x":123,"actual":0.009117575456573768,"recon":0.009117575456573768},
{"x":124,"actual":0.008827849981996039,"recon":0.008827849981996039},
{"x":125,"actual":0.007844288895028306,"recon":0.007844288895028306},
{"x":126,"actual":0.00424944358291679,"recon":0.00424944358291679},
{"x":127,"actual":0.004373784275946591,"recon":0.004373784275946591},
{"x":128,"actual":0.0016174896182681309,"recon":0.0016174896182681307},
{"x":129,"actual":0.0003515910121256738,"recon":0.0003515910121256738},
{"x":130,"actual":0.0034253831806134727,"recon":0.0034253831806134727},
{"x":131,"actual":0.0065697125334116535,"recon":0.0065697125334116535},
{"x":132,"actual":-0.006016655286145145,"recon":-0.006016655286145145},
{"x":133,"actual":-0.003852986693513749,"recon":-0.003852986693513749},
{"x":134,"actual":0.020491901058277584,"recon":0.020491901058277584},
{"x":135,"actual":-0.0005323279149607174,"recon":-0.0005323279149607174},
{"x":136,"actual":0.006812999094851335,"recon":0.006812999094851335},
{"x":137,"actual":-0.0007584271645324492,"recon":-0.0007584271645324492},
{"x":138,"actual":0.004520149593450817,"recon":0.004520149593450817},
{"x":139,"actual":0.0043112451049784895,"recon":0.0043112451049784895},
{"x":140,"actual":0.006063079650347802,"recon":0.006063079650347802},
{"x":141,"actual":0.0022660526894453525,"recon":0.0022660526894453525},
{"x":142,"actual":0.0022959860915063857,"recon":0.0022959860915063857},
{"x":143,"actual":0.006302647258385363,"recon":0.006302647258385363},
{"x":144,"actual":-0.0007846779120086467,"recon":-0.0007846779120086467},
{"x":145,"actual":0.005769502318011099,"recon":0.005769502318011099},
{"x":146,"actual":0.004007243163624885,"recon":0.004007243163624885},
{"x":147,"actual":-0.004045261045452442,"recon":-0.004045261045452442},
{"x":148,"actual":0.012148883898799312,"recon":0.012148883898799312},
{"x":149,"actual":0.004835676101424546,"recon":0.004835676101424546},
{"x":150,"actual":0.007683533835146861,"recon":0.007683533835146861},
{"x":151,"actual":-0.0013689853853140477,"recon":-0.0013689853853140477},
{"x":152,"actual":0.0031184257109906355,"recon":0.0031184257109906355},
{"x":153,"actual":0.00354941252967933,"recon":0.00354941252967933},
{"x":154,"actual":0.005934581411047191,"recon":0.005934581411047191},
{"x":155,"actual":0.0027040320534066353,"recon":0.0027040320534066353},
{"x":156,"actual":0.00039045672638238216,"recon":0.00039045672638238216},
{"x":157,"actual":-0.0019527324535886237,"recon":-0.0019527324535886237},
{"x":158,"actual":-0.00272663339275514,"recon":-0.00272663339275514},
{"x":159,"actual":0.004604083024880801,"recon":0.004604083024880801},
{"x":160,"actual":-0.003893384717707171,"recon":-0.003893384717707171},
{"x":161,"actual":0.00027960447484520756,"recon":0.00027960447484520756},
{"x":162,"actual":-0.0032683707203071677,"recon":-0.0032683707203071677},
{"x":163,"actual":-0.004770869350923412,"recon":-0.004770869350923412},
{"x":164,"actual":-0.006534765134370346,"recon":-0.006534765134370346},
{"x":165,"actual":-0.0020524117552422894,"recon":-0.0020524117552422894},
{"x":166,"actual":-0.003596380672338917,"recon":-0.003596380672338917},
{"x":167,"actual":-0.004787344785630587,"recon":-0.004787344785630587},
{"x":168,"actual":-0.005294243917338015,"recon":-0.005294243917338015},
{"x":169,"actual":-0.006424803271452895,"recon":-0.006424803271452895},
{"x":170,"actual":-0.0011484395650906976,"recon":-0.0011484395650906976},
{"x":171,"actual":-0.005077876004763837,"recon":-0.005077876004763837},
{"x":172,"actual":-0.0027452194543418074,"recon":-0.0027452194543418074},
{"x":173,"actual":-0.006065460085318719,"recon":-0.006065460085318719},
{"x":174,"actual":-0.0004275098074009165,"recon":-0.0004275098074009165},
{"x":175,"actual":0.006633064841170544,"recon":0.006633064841170544},
{"x":176,"actual":0.00011522468260949381,"recon":0.00011522468260949381},
{"x":177,"actual":0.0072123326949231625,"recon":0.0072123326949231625},
{"x":178,"actual":0.004871002165678817,"recon":0.004871002165678817},
{"x":179,"actual":0.0040096284673607485,"recon":0.0040096284673607485},
{"x":180,"actual":0.008215019236447851,"recon":0.008215019236447851},
{"x":181,"actual":-0.00032197063949990223,"recon":-0.00032197063949990223},
{"x":182,"actual":-0.0011111535235635017,"recon":-0.0011111535235635017},
{"x":183,"actual":0.0008486486965990636,"recon":0.0008486486965990636},
{"x":184,"actual":-0.002084836336934792,"recon":-0.002084836336934792},
{"x":185,"actual":0.0055865759173183704,"recon":0.0055865759173183704},
{"x":186,"actual":-0.005576627290919234,"recon":-0.005576627290919234},
{"x":187,"actual":0.00848540572389922,"recon":0.00848540572389922},
{"x":188,"actual":0.0011874209279270076,"recon":0.0011874209279270076},
{"x":189,"actual":-0.002631971347628159,"recon":-0.002631971347628159},
{"x":190,"actual":-0.005974715309085887,"recon":-0.005974715309085887},
{"x":191,"actual":-0.00027277943080949996,"recon":-0.00027277943080949996},
{"x":192,"actual":0.0012771147115513415,"recon":0.0012771147115513417},
{"x":193,"actual":0.005125135550598792,"recon":0.005125135550598792},
{"x":194,"actual":-0.002184157819974608,"recon":-0.002184157819974608},
{"x":195,"actual":0.006426751702139022,"recon":0.006426751702139022},
{"x":196,"actual":0.0012308567584176089,"recon":0.0012308567584176089},
{"x":197,"actual":0.006682592049196856,"recon":0.006682592049196856},
{"x":198,"actual":0.0002959460294098548,"recon":0.0002959460294098548},
{"x":199,"actual":0.001520626219034149,"recon":0.0015206262190341489},
{"x":200,"actual":0.00601430610916065,"recon":0.00601430610916065},
{"x":201,"actual":-0.004008755848768253,"recon":-0.004008755848768253},
{"x":202,"actual":0.0037074991758068165,"recon":0.0037074991758068165},
{"x":203,"actual":0.007197750706737338,"recon":0.007197750706737338},
{"x":204,"actual":-0.007832838806188569,"recon":-0.007832838806188569},
{"x":205,"actual":0.007443879683666665,"recon":0.007443879683666665},
{"x":206,"actual":0.0006709667193680602,"recon":0.00067096671936806},
{"x":207,"actual":0.0012701843581544026,"recon":0.0012701843581544026},
{"x":208,"actual":0.008495312737233363,"recon":0.008495312737233363},
{"x":209,"actual":0.0024803554509942316,"recon":0.0024803554509942316},
{"x":210,"actual":0.007936241000935595,"recon":0.007936241000935595},
{"x":211,"actual":0.0035900791158702816,"recon":0.0035900791158702816},
{"x":212,"actual":0.007232846062771081,"recon":0.007232846062771081},
{"x":213,"actual":-0.0013521797796176571,"recon":-0.0013521797796176571},
{"x":214,"actual":0.0021501954438223336,"recon":0.0021501954438223336},
{"x":215,"actual":0.0008997205268519437,"recon":0.0008997205268519437},
{"x":216,"actual":0.004487529157463754,"recon":0.004487529157463754},
{"x":217,"actual":-0.003171466288216962,"recon":-0.003171466288216962},
{"x":218,"actual":0.003253788346562203,"recon":0.003253788346562203},
{"x":219,"actual":-0.0195638287695461,"recon":-0.0195638287695461},
{"x":220,"actual":0.012064329407210472,"recon":0.012064329407210472},
{"x":221,"actual":0.01117751662149491,"recon":0.01117751662149491},
{"x":222,"actual":0.005151693564231508,"recon":0.005151693564231508},
{"x":223,"actual":0.0015766002009156566,"recon":0.0015766002009156566},
{"x":224,"actual":0.0004215001803382634,"recon":0.0004215001803382634},
{"x":225,"actual":0.002252114659746063,"recon":0.002252114659746063},
{"x":226,"actual":0.0030320784432706915,"recon":0.0030320784432706915},
{"x":227,"actual":0.0002541145564114444,"recon":0.0002541145564114444},
{"x":228,"actual":0.0031614092164247154,"recon":0.0031614092164247154},
{"x":229,"actual":-0.0005127465055316804,"recon":-0.0005127465055316804},
{"x":230,"actual":0.004379138878333855,"recon":0.004379138878333855},
{"x":231,"actual":-0.0016629623569395235,"recon":-0.0016629623569395235},
{"x":232,"actual":-0.0011474759561265202,"recon":-0.0011474759561265202},
{"x":233,"actual":-0.0004204326283367976,"recon":-0.0004204326283367976},
{"x":234,"actual":0.010141747096689357,"recon":0.010141747096689357},
{"x":235,"actual":-0.0033888659943164257,"recon":-0.0033888659943164257},
{"x":236,"actual":0.009378469307674386,"recon":0.009378469307674386},
{"x":237,"actual":0.0017786154493029116,"recon":0.0017786154493029114},
{"x":238,"actual":0.006700319901752572,"recon":0.006700319901752572},
{"x":239,"actual":0.0009559214748104949,"recon":0.0009559214748104947},
{"x":240,"actual":0.0005768477837078123,"recon":0.0005768477837078125},
{"x":241,"actual":-0.0012002567099926864,"recon":-0.0012002567099926864},
{"x":242,"actual":0.0019240393848489745,"recon":0.0019240393848489747},
{"x":243,"actual":0.002220126784417964,"recon":0.002220126784417964},
{"x":244,"actual":-0.002824061214514728,"recon":-0.002824061214514728},
{"x":245,"actual":0.005320711796714228,"recon":0.005320711796714228},
{"x":246,"actual":0.00034876070631284506,"recon":0.00034876070631284506}];
    const series = [{"name":"Actual","color":"#1f77b4","key":"actual","dash":""},{"name":"Reconstructed","color":"#ff7f0e","key":"recon","dash":"6,3"}];
    const bands = [];
    const refLines = [];

    const container = d3.select('#hd_line_50');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Value') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Value');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"s1":-0.012733686992001269,"s2":-0.015118211149828904,"s3":0.0},
{"x":2,"s1":-0.026540589446470027,"s2":-0.02410819580115328,"s3":-0.010744166578260725},
{"x":3,"s1":-0.020178185573627543,"s2":-0.04230136035947759,"s3":0.005506319091592576},
{"x":4,"s1":-0.07911008071500152,"s2":0.21818241901614596,"s3":-0.004233559529427175},
{"x":5,"s1":-0.05213567332261748,"s2":-0.11909174218550364,"s3":-0.0012052428710885776},
{"x":6,"s1":-0.054667214644893186,"s2":-0.021315714835398635,"s3":0.0003382291364825976},
{"x":7,"s1":-0.02807867790273658,"s2":0.056246203722385785,"s3":-0.010687009479098352},
{"x":8,"s1":-0.0329249520406725,"s2":0.04275460309442304,"s3":0.004921060457270336},
{"x":9,"s1":-0.0077610975180047925,"s2":0.024641914010893315,"s3":-0.003707540510968365},
{"x":10,"s1":-0.039840263982379956,"s2":-0.2531827997889279,"s3":0.004340451848662328},
{"x":11,"s1":0.02360752065625212,"s2":0.16632287203786425,"s3":0.019600373730889145},
{"x":12,"s1":-0.019131948408183778,"s2":-0.16643695708685155,"s3":-0.006489409885328803},
{"x":13,"s1":0.0369629126685095,"s2":-0.03953084263557803,"s3":0.009663774300702276},
{"x":14,"s1":-0.005312457605995423,"s2":0.21401205187977837,"s3":-0.0021280634602948716},
{"x":15,"s1":0.03901627156084218,"s2":-0.23212623463459417,"s3":-0.0009195283151377408},
{"x":16,"s1":0.010210191133247585,"s2":-0.0039965057681090686,"s3":-0.0008357173127050387},
{"x":17,"s1":0.0078023329826769515,"s2":-0.10010927640889866,"s3":-0.0027366502049827523},
{"x":18,"s1":0.001259110270445245,"s2":0.0073572694412518775,"s3":-0.003908860198791052},
{"x":19,"s1":-0.008429890056094387,"s2":0.11544820285185299,"s3":-0.0024934124580345495},
{"x":20,"s1":0.03912874761158873,"s2":-0.23550530480415424,"s3":0.0007072705800081607},
{"x":21,"s1":0.015236578946530752,"s2":-0.20755950104254742,"s3":-0.003525968373497755},
{"x":22,"s1":0.04183330676536687,"s2":0.1512150804352163,"s3":0.010983346955959976},
{"x":23,"s1":0.08141264257326304,"s2":-0.09514804114430465,"s3":0.017693947711806195},
{"x":24,"s1":0.059217462639079656,"s2":0.04833554161633002,"s3":-0.0036566892138284123},
{"x":25,"s1":0.13130916919003377,"s2":-0.21860664342033378,"s3":-0.008868953837280603},
{"x":26,"s1":0.02722255956433822,"s2":-0.011038774607550933,"s3":-0.012402624641940928},
{"x":27,"s1":0.07827291685177767,"s2":0.04777528309444236,"s3":-0.022301284079061012},
{"x":28,"s1":0.04856740543820771,"s2":-0.04697072828510557,"s3":0.0021274769948830467},
{"x":29,"s1":0.023563394545937352,"s2":0.06985504345960533,"s3":0.010285107671042673},
{"x":30,"s1":-0.0005614163263291108,"s2":-0.0034479353251353415,"s3":0.007693220823975246},
{"x":31,"s1":0.061358588259278535,"s2":-0.06731566028129625,"s3":0.009625689681990398},
{"x":32,"s1":-0.03447315217947178,"s2":-0.0916945150667443,"s3":0.029826321568855636},
{"x":33,"s1":-0.0037992189360047755,"s2":-0.08022889387771145,"s3":-0.012320489206878261},
{"x":34,"s1":0.024095405792699007,"s2":0.1754752415406968,"s3":0.00407403601917012},
{"x":35,"s1":0.0001615225152678563,"s2":0.029260543921700688,"s3":-0.025783401065724302},
{"x":36,"s1":-0.004280659736693972,"s2":-0.17011377245184858,"s3":-0.02197133949364504},
{"x":37,"s1":0.03970221207016394,"s2":0.24861974610062887,"s3":0.015309299301027812},
{"x":38,"s1":-0.01690439186682794,"s2":0.2150049497749616,"s3":0.005528367379948031},
{"x":39,"s1":0.02633470761642837,"s2":0.14881812157574462,"s3":0.028473950946394464},
{"x":40,"s1":0.06304209523396524,"s2":-0.06444907121735398,"s3":0.005031943518030933},
{"x":41,"s1":0.11796365470040324,"s2":0.18460225127538998,"s3":0.0010577641308960946},
{"x":42,"s1":0.1295604639458734,"s2":-0.0008063002874389068,"s3":-0.025131399282574286},
{"x":43,"s1":0.12534131928268188,"s2":-0.016118370960189737,"s3":-0.0056009330638941614},
{"x":44,"s1":0.14233470296732406,"s2":0.0701675139712129,"s3":-0.008880874400981918},
{"x":45,"s1":0.11113158042345966,"s2":0.10508326206173593,"s3":-0.012594040933509937},
{"x":46,"s1":0.07130956988931472,"s2":-0.15856511796064002,"s3":-0.009124033695114163},
{"x":47,"s1":0.005999603527734058,"s2":0.1922840311322517,"s3":0.005336502850936113},
{"x":48,"s1":-0.044434232591677766,"s2":0.03448240014320962,"s3":0.01357173095641563},
{"x":49,"s1":-0.03603538787375267,"s2":-0.07215871935868981,"s3":0.011813797981737675},
{"x":50,"s1":-0.02656295689055075,"s2":0.13276253674112254,"s3":-0.0025800499674090887},
{"x":51,"s1":-0.055702295930272115,"s2":0.05919939174720304,"s3":0.0001223193504240884},
{"x":52,"s1":0.004606027201286747,"s2":0.0995189061538072,"s3":-0.0005056060578115511},
{"x":53,"s1":-0.003528530944890098,"s2":0.010315529738557936,"s3":-0.0031677470079251938},
{"x":54,"s1":0.049369323074668015,"s2":0.24097912674137975,"s3":0.013270738548450175},
{"x":55,"s1":0.0696483945770855,"s2":-0.06128081924822544,"s3":-0.004748434846036171},
{"x":56,"s1":0.013104979459851857,"s2":0.0978477485650812,"s3":-0.00733362231654626},
{"x":57,"s1":-0.017202106802968655,"s2":0.015712451002610643,"s3":0.005108733899896292},
{"x":58,"s1":-0.054163947280696,"s2":0.05265773391477387,"s3":0.005125267856325236},
{"x":59,"s1":-0.05752018211393961,"s2":0.26480191562922,"s3":-0.003662698233928303},
{"x":60,"s1":-0.03208143736788909,"s2":0.236507485976684,"s3":-0.0008070276434494605},
{"x":61,"s1":-0.07294783356771004,"s2":-0.020375575248664585,"s3":-0.0030575808742857313},
{"x":62,"s1":0.016396194742132202,"s2":-0.11515353494650293,"s3":0.0023763418462710182},
{"x":63,"s1":-0.035535400606305105,"s2":0.03650254584199236,"s3":0.002651849095768974},
{"x":64,"s1":-0.03340137872565833,"s2":-0.2651848639948145,"s3":0.002205231258536763},
{"x":65,"s1":-0.01483868349742586,"s2":0.11107356883012755,"s3":0.007384098896800806},
{"x":66,"s1":-0.0280520561248755,"s2":0.036128079507572644,"s3":-0.004457042443758246},
{"x":67,"s1":-0.02093006763338885,"s2":-0.06586336124221576,"s3":-0.009587592896198623},
{"x":68,"s1":-0.021762555525149656,"s2":-0.17619602296999687,"s3":0.0015775544778266059},
{"x":69,"s1":0.008806042134281601,"s2":-0.09832730374325803,"s3":-0.006859764153685078},
{"x":70,"s1":-0.010006445264756402,"s2":0.11570230258138557,"s3":-0.002076884385434263},
{"x":71,"s1":0.05229285291564822,"s2":-0.05645223979567841,"s3":0.007778358790684198},
{"x":72,"s1":0.02074861887335467,"s2":-0.11264969461041886,"s3":-0.00447995319562482},
{"x":73,"s1":0.02397473973061951,"s2":-0.11416090803199405,"s3":-0.006194861316947408},
{"x":74,"s1":0.04637494838782379,"s2":-0.14440270738210373,"s3":0.0016467288494271177},
{"x":75,"s1":-0.002685057759568378,"s2":-0.09243679269428964,"s3":-0.0012591800896173894},
{"x":76,"s1":-0.017952941978640183,"s2":0.12263371299046809,"s3":-0.0010618018722568959},
{"x":77,"s1":-0.016628259986278027,"s2":-0.195147579993183,"s3":0.015394808858117334},
{"x":78,"s1":-0.036308341443253046,"s2":-0.05769980803953999,"s3":-0.0023728818470983093},
{"x":79,"s1":-0.028319079407923196,"s2":0.13261072255199177,"s3":-0.0006726746332858203},
{"x":80,"s1":0.004169818380261867,"s2":0.012806849655614846,"s3":-0.013357699647402863},
{"x":81,"s1":-0.058133048800425635,"s2":-0.03899239127840386,"s3":0.0007444083689477297},
{"x":82,"s1":-0.03709264755688937,"s2":-0.061572927696779994,"s3":0.0022845434634772895},
{"x":83,"s1":-0.05474866548133577,"s2":-0.24120062482216081,"s3":-0.0004317415500156139},
{"x":84,"s1":-0.05636037818596582,"s2":0.05521668425613339,"s3":0.0047626620279233485},
{"x":85,"s1":-0.026377411126383397,"s2":0.02941245017503557,"s3":0.0005839290117745055},
{"x":86,"s1":-0.04664411865879731,"s2":-0.053391783642849786,"s3":0.0036548703316205806},
{"x":87,"s1":-0.018982985868700897,"s2":-0.08624909707693687,"s3":0.008851050950994433},
{"x":88,"s1":-0.05557089500350137,"s2":-0.03544378232659374,"s3":-0.0053663546837715015},
{"x":89,"s1":-0.050275562724364585,"s2":-0.13584553530420904,"s3":-0.010259934000052299},
{"x":90,"s1":-0.07963537691548966,"s2":-0.015495025404042358,"s3":-0.001250629720713733},
{"x":91,"s1":-0.04388321204959801,"s2":0.15328532314110346,"s3":-0.005783143141153651},
{"x":92,"s1":-0.018516479976627993,"s2":-0.18113072041756217,"s3":0.003266168337019833},
{"x":93,"s1":0.0011224628583041906,"s2":0.0004282938698250153,"s3":0.0020682112088577804},
{"x":94,"s1":0.028471016567894927,"s2":0.3749925406269099,"s3":0.00015541073766467292},
{"x":95,"s1":0.0007398839814254472,"s2":-0.20790502118420756,"s3":0.010784105131665224},
{"x":96,"s1":0.010629376748058555,"s2":-0.0024408968278051358,"s3":-0.004569511994263929},
{"x":97,"s1":0.029179325746394112,"s2":0.0743851463100782,"s3":5.449586722276959e-5},
{"x":98,"s1":-0.057341693436673766,"s2":0.06816760989320976,"s3":-0.007206948534620328},
{"x":99,"s1":-0.021563917317473966,"s2":-0.07454239317569818,"s3":-0.000274721586298659},
{"x":100,"s1":-0.007390809476162646,"s2":-0.08642923109453801,"s3":-0.002560991509875517},
{"x":101,"s1":-0.02780177725622325,"s2":0.1252239445320178,"s3":0.006196800642740196},
{"x":102,"s1":-0.00573257640834307,"s2":0.013387508042665313,"s3":-0.00403596371648672},
{"x":103,"s1":0.05240435724137206,"s2":-0.05058693455169253,"s3":0.0018015452276131817},
{"x":104,"s1":-0.07109432750893516,"s2":-0.04150142013596229,"s3":0.016214715561764462},
{"x":105,"s1":0.021734453280710893,"s2":-0.01595642402365318,"s3":-0.0021590613405317784},
{"x":106,"s1":-0.07113123872479019,"s2":0.16765312879434935,"s3":0.007097077846694108},
{"x":107,"s1":-0.052488065127034494,"s2":0.05668692865862357,"s3":-0.0005798956155485948},
{"x":108,"s1":-0.07937973208201918,"s2":-0.20331790493655177,"s3":-0.013683395065554358},
{"x":109,"s1":-0.02973222934492828,"s2":0.23655045662029273,"s3":-0.0031992593596208724},
{"x":110,"s1":-0.0641349086637563,"s2":-0.32622268130911425,"s3":-0.0060234421114913565},
{"x":111,"s1":-0.038383813629633654,"s2":0.14749279583880373,"s3":-0.005490014293614121},
{"x":112,"s1":-0.023505135686259827,"s2":0.01702462418944508,"s3":0.010099479412305061},
{"x":113,"s1":-0.059004558914378745,"s2":0.25921548045038023,"s3":0.003408046379438063},
{"x":114,"s1":-0.05843615431467774,"s2":0.058605107535541684,"s3":0.0034500146945352235},
{"x":115,"s1":-0.02621526628640973,"s2":-0.06944062919624536,"s3":-0.0007251366019784736},
{"x":116,"s1":-0.1049733021820831,"s2":0.014808549844860741,"s3":-0.006216279747435735},
{"x":117,"s1":-0.06737030637428171,"s2":0.0724572743859921,"s3":-0.0014680000963886945},
{"x":118,"s1":-0.05250407413224027,"s2":-0.036183867457838755,"s3":-0.007693090494615456},
{"x":119,"s1":-0.06946582135376284,"s2":-0.1199457259960911,"s3":-0.006969484734851646},
{"x":120,"s1":-0.04476132479908119,"s2":0.15459645749055306,"s3":-0.006216164776188533},
{"x":121,"s1":-0.07629684346730856,"s2":-0.02900011611079961,"s3":0.008915927493384523},
{"x":122,"s1":-0.08706441831581867,"s2":-0.012994679397427924,"s3":0.003678065628516027},
{"x":123,"s1":-0.1069113080300683,"s2":0.19868643404965855,"s3":0.011843841895675205},
{"x":124,"s1":-0.10649553247082083,"s2":-0.09324890474788934,"s3":0.003363405133971304},
{"x":125,"s1":-0.10368358040949956,"s2":0.010034996908883678,"s3":-0.002732448584126367},
{"x":126,"s1":-0.08212509671364908,"s2":0.18998298808814634,"s3":-0.004238923459240584},
{"x":127,"s1":-0.0717485081425154,"s2":-0.017641671779143085,"s3":-0.006990852163087913},
{"x":128,"s1":-0.036832617234171666,"s2":0.04372923483920519,"s3":-0.003277649689780904},
{"x":129,"s1":-0.02238332142106514,"s2":0.13171482334855164,"s3":-0.005712534012234304},
{"x":130,"s1":-0.024094897480227178,"s2":-0.3722252788146013,"s3":-6.085578992137472e-5},
{"x":131,"s1":-0.03027151613150964,"s2":0.1268616393687459,"s3":0.007028844678014109},
{"x":132,"s1":0.025748597033525965,"s2":0.0649872012226348,"s3":0.012883169659088114},
{"x":133,"s1":0.04574765094574254,"s2":-0.04189320677286168,"s3":-0.00023547625763210763},
{"x":134,"s1":-0.08944205357270198,"s2":0.0877230011253004,"s3":0.005338020362649972},
{"x":135,"s1":0.018986416329593907,"s2":0.08578911634606863,"s3":-0.0011565647604147153},
{"x":136,"s1":-0.07942627419311798,"s2":-0.010341733947957588,"s3":-0.006613023943676188},
{"x":137,"s1":-0.011519614805659426,"s2":-0.08774741988569806,"s3":0.002886002606605636},
{"x":138,"s1":-0.03375669876557017,"s2":0.043485874281263395,"s3":-0.006110207600445671},
{"x":139,"s1":-0.02418595941047905,"s2":-0.0779246488255789,"s3":0.005729576151304864},
{"x":140,"s1":-0.037265110691075506,"s2":0.13869575601234815,"s3":0.0021883225939753883},
{"x":141,"s1":-0.032265411293237116,"s2":-0.15573074258805217,"s3":-0.00838487820346358},
{"x":142,"s1":-0.01312704648197198,"s2":0.12178273003235801,"s3":-0.005036715635139056},
{"x":143,"s1":-0.04239624200893141,"s2":-0.07864224111912534,"s3":0.024657451043304312},
{"x":144,"s1":0.010392089118549212,"s2":0.10468286209274488,"s3":-0.011455983296047224},
{"x":145,"s1":-0.04310606977617311,"s2":0.047067070246618894,"s3":-0.0003420325551986392},
{"x":146,"s1":-0.0038528400597283236,"s2":-0.09929864616896493,"s3":0.006770454143940843},
{"x":147,"s1":0.01635628291167216,"s2":-0.0026720435958659545,"s3":-0.010065271400559081},
{"x":148,"s1":-0.06394221706714477,"s2":-0.04793232740159598,"s3":0.01549351238398742},
{"x":149,"s1":-0.01429673411608086,"s2":0.020269085857490213,"s3":-0.002353383826162202},
{"x":150,"s1":-0.0748803413871974,"s2":-0.012953606904487327,"s3":-0.008547083793067742},
{"x":151,"s1":-0.006071125352426339,"s2":0.01541819683011017,"s3":-0.005728103562436745},
{"x":152,"s1":-0.03403322144503594,"s2":0.14030785593769327,"s3":-0.002655666577410609},
{"x":153,"s1":-0.011398555798957178,"s2":-0.09388216206936689,"s3":0.008899685783571632},
{"x":154,"s1":-0.027920310704135136,"s2":-0.18631814615164058,"s3":0.017857424771022673},
{"x":155,"s1":-0.021542846148383813,"s2":0.24615080964104008,"s3":-0.020988995577408923},
{"x":156,"s1":-0.00796823273099603,"s2":0.014482563709893212,"s3":-0.002895363063650078},
{"x":157,"s1":0.034586401704786,"s2":-0.03439839902952814,"s3":0.0034309652399891646},
{"x":158,"s1":0.028632323200998674,"s2":0.08068880602080657,"s3":-0.005702161306558485},
{"x":159,"s1":0.014693061364016876,"s2":-0.20885813070543502,"s3":-0.0022159627433345143},
{"x":160,"s1":0.06966955784824751,"s2":-0.08460120889197241,"s3":0.01855061895897205},
{"x":161,"s1":0.022997450657142614,"s2":-0.002288566758463063,"s3":-0.017089915983432437},
{"x":162,"s1":0.06913935139750639,"s2":-0.06854050840249297,"s3":0.0030201249202337667},
{"x":163,"s1":0.09665923878173753,"s2":0.20957662967445279,"s3":-0.0026169005409429455},
{"x":164,"s1":0.09722721450787483,"s2":-0.10589977815972113,"s3":0.012291531567093493},
{"x":165,"s1":0.1051875115887326,"s2":0.0026001976209908424,"s3":-0.004168741294476703},
{"x":166,"s1":0.10053228180557088,"s2":0.004507706915303233,"s3":-0.001421020805626459},
{"x":167,"s1":0.11674845794780105,"s2":-0.20743489682365382,"s3":-0.005694593208900525},
{"x":168,"s1":0.10957099178693994,"s2":0.08353314770242005,"s3":0.01051482842588733},
{"x":169,"s1":0.12505398915444232,"s2":-0.01973607551698453,"s3":-0.001698945722211155},
{"x":170,"s1":0.103941705827238,"s2":0.21323982886701148,"s3":-0.013562566779001563},
{"x":171,"s1":0.11792100447908278,"s2":-0.005987932357756493,"s3":-0.008314104206079542},
{"x":172,"s1":0.0949028635586174,"s2":0.1995400286033901,"s3":0.009176075753239605},
{"x":173,"s1":0.10052340776631753,"s2":0.12057164912762885,"s3":-0.017476088978699046},
{"x":174,"s1":0.07744777343503663,"s2":0.11379293152377198,"s3":0.012378262956438629},
{"x":175,"s1":0.019900457430950008,"s2":-0.011704582810370968,"s3":-0.00457690670533195},
{"x":176,"s1":0.019014834851260754,"s2":-0.029931228186560587,"s3":0.014535361250546856},
{"x":177,"s1":-0.03321821562300385,"s2":0.02236126227551744,"s3":0.01447592126273346},
{"x":178,"s1":-0.03596628989238557,"s2":0.2241437915448319,"s3":0.015441466262800975},
{"x":179,"s1":-0.033818089221750926,"s2":-0.07161177179740287,"s3":0.009048828934400248},
{"x":180,"s1":-0.06558140236408982,"s2":0.08131287350729222,"s3":-0.012112503227955287},
{"x":181,"s1":-0.020558624476317525,"s2":0.03485331419969306,"s3":-0.01067572180812846},
{"x":182,"s1":-0.001376060906276252,"s2":-0.08988568448147254,"s3":-0.005119286697003781},
{"x":183,"s1":-0.00160047195751523,"s2":0.007200311906296168,"s3":-0.0019808720335338674},
{"x":184,"s1":0.03854963227659775,"s2":-0.03655336945400896,"s3":0.0016227050926583832},
{"x":185,"s1":-0.002115100518341043,"s2":0.20144357647267436,"s3":0.004290491960913925},
{"x":186,"s1":0.05983819510784956,"s2":0.049608617402766036,"s3":-0.005827844595368839},
{"x":187,"s1":-0.026035027342624965,"s2":-0.1656882627058501,"s3":-0.0046577420362779575},
{"x":188,"s1":0.0214787720173773,"s2":0.06814853909997436,"s3":0.013991656797895945},
{"x":189,"s1":0.0229679801264369,"s2":-0.03279752696012288,"s3":0.013448514748933075},
{"x":190,"s1":0.0646476668751135,"s2":0.04745456337261394,"s3":-0.008483262332480677},
{"x":191,"s1":0.051759477143991005,"s2":0.0873996988232364,"s3":-0.03554020805198061},
{"x":192,"s1":0.05501225251433378,"s2":0.1662619315360981,"s3":-0.017655216135184698},
{"x":193,"s1":0.0025831397562148424,"s2":-0.09818742860524689,"s3":-0.0007767432357205077},
{"x":194,"s1":0.02829003088946549,"s2":-0.15184211437319647,"s3":0.027171051398977426},
{"x":195,"s1":-0.025579305033896143,"s2":-0.0012534430052599144,"s3":0.03045171595440311},
{"x":196,"s1":0.012313070671306325,"s2":-0.11949052016371267,"s3":0.010796417407653752},
{"x":197,"s1":-0.025952301552624228,"s2":-0.14679999628976018,"s3":-0.02362873424236866},
{"x":198,"s1":0.008095236777349808,"s2":-0.09406763055127026,"s3":-0.010408638310832231},
{"x":199,"s1":0.00252608136721786,"s2":0.005808965077848996,"s3":-0.004716078529819763},
{"x":200,"s1":-0.020761227142550475,"s2":-0.08800477616881631,"s3":0.012384971226613377},
{"x":201,"s1":0.053477866384747615,"s2":0.14603591635175517,"s3":0.0041051851787444705},
{"x":202,"s1":-0.002916005242759465,"s2":-0.19294512624422333,"s3":-0.0005199005977702798},
{"x":203,"s1":-0.00070252720804548,"s2":0.014635498813362149,"s3":-0.010314003690069604},
{"x":204,"s1":0.06425576090154583,"s2":-0.07011189836257196,"s3":0.00947510537627324},
{"x":205,"s1":-0.015273467132884359,"s2":-0.08297092078144064,"s3":0.001863355829572519},
{"x":206,"s1":0.031026270413152337,"s2":-0.12091869683988825,"s3":-0.006488605658016654},
{"x":207,"s1":0.024587854242578436,"s2":-0.010806949669006576,"s3":-0.010161936658324777},
{"x":208,"s1":-0.032296282281297835,"s2":0.1353275009169758,"s3":0.000587749279568803},
{"x":209,"s1":-0.0016976998569845358,"s2":-0.10654233880971936,"s3":0.011859006581951362},
{"x":210,"s1":-0.04774419372851259,"s2":0.03923709766188895,"s3":0.012126063981870761},
{"x":211,"s1":-0.03140007581335924,"s2":-0.0494263287977065,"s3":-0.01555462747368766},
{"x":212,"s1":-0.0525400459780191,"s2":0.17447086697014158,"s3":-0.018311853076874888},
{"x":213,"s1":-0.006808051404524625,"s2":-0.1938773222793397,"s3":0.0043043415991111025},
{"x":214,"s1":-0.018826456158945307,"s2":0.01946705970675234,"s3":0.002978364367440061},
{"x":215,"s1":0.000519884193408409,"s2":-0.11137622987436291,"s3":0.014475313596201002},
{"x":216,"s1":0.0011140350652330156,"s2":-0.08544463057845647,"s3":-0.012050436571529112},
{"x":217,"s1":0.03290697480844102,"s2":-0.02013855595309965,"s3":-0.009149450940094325},
{"x":218,"s1":0.009802584129784155,"s2":-0.12289137954358538,"s3":0.016707763329048636},
{"x":219,"s1":0.16626826512824236,"s2":-0.07943420009742895,"s3":0.016784902884433066},
{"x":220,"s1":0.0035163694673686083,"s2":-0.05366369545260812,"s3":0.053766293900486546},
{"x":221,"s1":0.02699889683099632,"s2":0.004063828463951211,"s3":-0.027443757379700427},
{"x":222,"s1":-0.018127555112883515,"s2":-0.027134666007663844,"s3":-0.051118810964205216},
{"x":223,"s1":-0.008625535724625072,"s2":-0.1543285323086042,"s3":-0.03342696405152387},
{"x":224,"s1":-0.023247704066437273,"s2":0.12640868619831672,"s3":0.00045798578336715695},
{"x":225,"s1":-0.006225754202718128,"s2":-0.09297293634578872,"s3":0.00281765846375438},
{"x":226,"s1":0.00378185715282596,"s2":-0.028854982758164473,"s3":0.02869209352058559},
{"x":227,"s1":0.014079414707028268,"s2":-0.12428741079025228,"s3":0.01382696399847051},
{"x":228,"s1":-0.0035221813435082003,"s2":0.011045435630757468,"s3":-0.003904286372002179},
{"x":229,"s1":0.036771517598010235,"s2":0.06294248758294654,"s3":0.0039049627342908344},
{"x":230,"s1":0.00567873170976325,"s2":-0.012217662091702755,"s3":0.010157898297186595},
{"x":231,"s1":0.03452381392974033,"s2":-0.22723156905772837,"s3":-0.003673276956765057},
{"x":232,"s1":0.03560579871128808,"s2":-0.09116415676644164,"s3":-0.04082267402959896},
{"x":233,"s1":0.043087532567073046,"s2":0.08388338155127747,"s3":-0.02335194620310373},
{"x":234,"s1":-0.022546667187312196,"s2":-0.06937894469608351,"s3":-0.0044554202013568},
{"x":235,"s1":0.034023065912670604,"s2":0.1341680810331889,"s3":0.03542782096938696},
{"x":236,"s1":-0.05685950245942003,"s2":-0.05884198524396327,"s3":0.019320455618630796},
{"x":237,"s1":0.00661486534630711,"s2":-0.13045984651696266,"s3":0.027463949085903022},
{"x":238,"s1":-0.03417348896987379,"s2":0.13406865999472614,"s3":0.0037237968903942515},
{"x":239,"s1":-0.011921790127956921,"s2":-0.07751722253633113,"s3":-0.006942019420464498},
{"x":240,"s1":0.01309306676623035,"s2":0.18986675112445958,"s3":0.0006591500245563905},
{"x":241,"s1":0.018304025297265214,"s2":0.10047067775806208,"s3":-0.015155735140079682},
{"x":242,"s1":0.01680356101210974,"s2":-0.09975971591474304,"s3":-0.013424877182120131},
{"x":243,"s1":0.01687289732796857,"s2":0.09818022472658487,"s3":-0.011434154139305862},
{"x":244,"s1":0.031121247523452772,"s2":-0.04200279068065246,"s3":0.014500511072446749},
{"x":245,"s1":-0.0067293284379830835,"s2":0.008371614671862862,"s3":0.0019766816813673225},
{"x":246,"s1":0.018596979490545205,"s2":0.2517837731215438,"s3":0.033238215303158125}];
    const series = [{"name":"INDPRO","color":"#1f77b4","key":"s1","dash":""},{"name":"UNRATE","color":"#ff7f0e","key":"s2","dash":""},{"name":"CPI","color":"#2ca02c","key":"s3","dash":""}];
    const mode = 'stacked';

    const container = d3.select('#hd_bar_51');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    const keys = series.map(s => s.key);
    const x = d3.scaleBand().domain(data.map(d=>d.x)).range([0,w]).padding(0.15);

    let yMin = 0, yMax = 0;
    if(mode === 'stacked') {
        const stack = d3.stack().keys(keys).order(d3.stackOrderNone).offset(d3.stackOffsetDiverging);
        const stacked = stack(data);
        stacked.forEach(layer => layer.forEach(d => {
            yMin = Math.min(yMin, d[0], d[1]);
            yMax = Math.max(yMax, d[0], d[1]);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.layer').data(stacked).join('g').attr('class','layer')
            .attr('fill', (d,i) => series[i].color)
            .selectAll('rect').data(d => d).join('rect')
            .attr('x', d => x(d.data.x))
            .attr('y', d => y(Math.max(d[0], d[1])))
            .attr('height', d => Math.abs(y(d[0]) - y(d[1])))
            .attr('width', x.bandwidth());

        // Zero line
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    } else {
        // Grouped
        data.forEach(d => keys.forEach(k => {
            yMin = Math.min(yMin, d[k]||0);
            yMax = Math.max(yMax, d[k]||0);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);
        const x1 = d3.scaleBand().domain(keys).range([0, x.bandwidth()]).padding(0.05);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.group').data(data).join('g').attr('class','group')
            .attr('transform', d => 'translate('+x(d.x)+',0)')
            .selectAll('rect').data(d => keys.map(k => ({key:k, val:d[k]||0})))
            .join('rect')
            .attr('x', d => x1(d.key))
            .attr('y', d => y(Math.max(0, d.val)))
            .attr('height', d => Math.abs(y(0) - y(d.val)))
            .attr('width', x1.bandwidth())
            .attr('fill', d => series.find(s=>s.key===d.key).color);

        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    }

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Contribution') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Contribution');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*90)+',0)');
            gi.append('rect').attr('width',12).attr('height',12).attr('y',-6).attr('fill',s.color);
            gi.append('text').attr('x',16).attr('y',4).attr('font-size','10px').attr('fill','#555').text(s.name);
        });
    }

    // Tooltip
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const bands = x.domain();
            const idx = Math.min(Math.floor(mx / (w / bands.length)), bands.length-1);
            const d = data[Math.max(0,idx)];
            if(!d) return;
            let html = '<b>'+d.x+'</b>';
            series.forEach(s => { if(d[s.key]!==undefined) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":2,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":3,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":4,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":5,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":6,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":7,"actual":0.0,"recon":0.0},
{"x":8,"actual":0.0,"recon":0.0},
{"x":9,"actual":0.0,"recon":0.0},
{"x":10,"actual":-0.2999999999999998,"recon":-0.2999999999999998},
{"x":11,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":12,"actual":-0.1999999999999993,"recon":-0.1999999999999993},
{"x":13,"actual":0.0,"recon":0.0},
{"x":14,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":15,"actual":-0.1999999999999993,"recon":-0.1999999999999993},
{"x":16,"actual":0.0,"recon":0.0},
{"x":17,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":18,"actual":0.0,"recon":0.0},
{"x":19,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":20,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":21,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":22,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":23,"actual":0.0,"recon":0.0},
{"x":24,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":25,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":26,"actual":0.0,"recon":0.0},
{"x":27,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":28,"actual":0.0,"recon":0.0},
{"x":29,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":30,"actual":0.0,"recon":0.0},
{"x":31,"actual":0.0,"recon":0.0},
{"x":32,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":33,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":34,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":35,"actual":0.0,"recon":0.0},
{"x":36,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":37,"actual":0.2999999999999998,"recon":0.2999999999999998},
{"x":38,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":39,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":40,"actual":0.0,"recon":0.0},
{"x":41,"actual":0.2999999999999998,"recon":0.2999999999999998},
{"x":42,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":43,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":44,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":45,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":46,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":47,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":48,"actual":0.0,"recon":0.0},
{"x":49,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":50,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":51,"actual":0.0,"recon":0.0},
{"x":52,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":53,"actual":0.0,"recon":0.0},
{"x":54,"actual":0.2999999999999998,"recon":0.2999999999999998},
{"x":55,"actual":0.0,"recon":0.0},
{"x":56,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":57,"actual":0.0,"recon":0.0},
{"x":58,"actual":0.0,"recon":0.0},
{"x":59,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":60,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":61,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":62,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":63,"actual":0.0,"recon":0.0},
{"x":64,"actual":-0.2999999999999998,"recon":-0.2999999999999998},
{"x":65,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":66,"actual":0.0,"recon":0.0},
{"x":67,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":68,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":69,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":70,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":71,"actual":0.0,"recon":0.0},
{"x":72,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":73,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":74,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":75,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":76,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":77,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":78,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":79,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":80,"actual":0.0,"recon":0.0},
{"x":81,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":82,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":83,"actual":-0.3000000000000007,"recon":-0.3000000000000007},
{"x":84,"actual":0.0,"recon":0.0},
{"x":85,"actual":0.0,"recon":0.0},
{"x":86,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":87,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":88,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":89,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":90,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":91,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":92,"actual":-0.1999999999999993,"recon":-0.1999999999999993},
{"x":93,"actual":0.0,"recon":0.0},
{"x":94,"actual":0.39999999999999947,"recon":0.39999999999999947},
{"x":95,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":96,"actual":0.0,"recon":0.0},
{"x":97,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":98,"actual":0.0,"recon":0.0},
{"x":99,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":100,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":101,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":102,"actual":0.0,"recon":0.0},
{"x":103,"actual":0.0,"recon":0.0},
{"x":104,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":105,"actual":0.0,"recon":0.0},
{"x":106,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":107,"actual":0.0,"recon":0.0},
{"x":108,"actual":-0.2999999999999998,"recon":-0.2999999999999998},
{"x":109,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":110,"actual":-0.40000000000000036,"recon":-0.40000000000000036},
{"x":111,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":112,"actual":0.0,"recon":0.0},
{"x":113,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":114,"actual":0.0,"recon":0.0},
{"x":115,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":116,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":117,"actual":0.0,"recon":0.0},
{"x":118,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":119,"actual":-0.1999999999999993,"recon":-0.1999999999999993},
{"x":120,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":121,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":122,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":123,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":124,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":125,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":126,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":127,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":128,"actual":0.0,"recon":0.0},
{"x":129,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":130,"actual":-0.40000000000000036,"recon":-0.40000000000000036},
{"x":131,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":132,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":133,"actual":0.0,"recon":0.0},
{"x":134,"actual":0.0,"recon":0.0},
{"x":135,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":136,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":137,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":138,"actual":0.0,"recon":0.0},
{"x":139,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":140,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":141,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":142,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":143,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":144,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":145,"actual":0.0,"recon":0.0},
{"x":146,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":147,"actual":0.0,"recon":0.0},
{"x":148,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":149,"actual":0.0,"recon":0.0},
{"x":150,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":151,"actual":0.0,"recon":0.0},
{"x":152,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":153,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":154,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":155,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":156,"actual":0.0,"recon":0.0},
{"x":157,"actual":0.0,"recon":0.0},
{"x":158,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":159,"actual":-0.19999999999999973,"recon":-0.19999999999999973},
{"x":160,"actual":0.0,"recon":0.0},
{"x":161,"actual":0.0,"recon":0.0},
{"x":162,"actual":0.0,"recon":0.0},
{"x":163,"actual":0.30000000000000027,"recon":0.30000000000000027},
{"x":164,"actual":0.0,"recon":0.0},
{"x":165,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":166,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":167,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":168,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":169,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":170,"actual":0.3000000000000007,"recon":0.3000000000000007},
{"x":171,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":172,"actual":0.2999999999999998,"recon":0.2999999999999998},
{"x":173,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":174,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":175,"actual":0.0,"recon":0.0},
{"x":176,"actual":0.0,"recon":0.0},
{"x":177,"actual":0.0,"recon":0.0},
{"x":178,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":179,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":180,"actual":0.0,"recon":0.0},
{"x":181,"actual":0.0,"recon":0.0},
{"x":182,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":183,"actual":0.0,"recon":0.0},
{"x":184,"actual":0.0,"recon":0.0},
{"x":185,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":186,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":187,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":188,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":189,"actual":0.0,"recon":0.0},
{"x":190,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":191,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":192,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":193,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":194,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":195,"actual":0.0,"recon":0.0},
{"x":196,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":197,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":198,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":199,"actual":0.0,"recon":0.0},
{"x":200,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":201,"actual":0.20000000000000018,"recon":0.20000000000000018},
{"x":202,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":203,"actual":0.0,"recon":0.0},
{"x":204,"actual":0.0,"recon":0.0},
{"x":205,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":206,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":207,"actual":0.0,"recon":0.0},
{"x":208,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":209,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":210,"actual":0.0,"recon":0.0},
{"x":211,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":212,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":213,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":214,"actual":0.0,"recon":0.0},
{"x":215,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":216,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":217,"actual":0.0,"recon":0.0},
{"x":218,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":219,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":220,"actual":0.0,"recon":0.0},
{"x":221,"actual":0.0,"recon":0.0},
{"x":222,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":223,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":224,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":225,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":226,"actual":0.0,"recon":0.0},
{"x":227,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":228,"actual":0.0,"recon":0.0},
{"x":229,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":230,"actual":0.0,"recon":0.0},
{"x":231,"actual":-0.20000000000000018,"recon":-0.20000000000000018},
{"x":232,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":233,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":234,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":235,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":236,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":237,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":238,"actual":0.09999999999999964,"recon":0.09999999999999964},
{"x":239,"actual":-0.09999999999999964,"recon":-0.09999999999999964},
{"x":240,"actual":0.1999999999999993,"recon":0.1999999999999993},
{"x":241,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":242,"actual":-0.10000000000000053,"recon":-0.10000000000000053},
{"x":243,"actual":0.10000000000000053,"recon":0.10000000000000053},
{"x":244,"actual":0.0,"recon":0.0},
{"x":245,"actual":0.0,"recon":0.0},
{"x":246,"actual":0.2999999999999998,"recon":0.2999999999999998}];
    const series = [{"name":"Actual","color":"#1f77b4","key":"actual","dash":""},{"name":"Reconstructed","color":"#ff7f0e","key":"recon","dash":"6,3"}];
    const bands = [];
    const refLines = [];

    const container = d3.select('#hd_line_52');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Value') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Value');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"s1":-5.408511097385918e-5,"s2":-5.93606763812455e-6,"s3":-0.002177936298840113},
{"x":2,"s1":9.255896843311833e-6,"s2":-1.3249689091919383e-5,"s3":0.0023573641700378586},
{"x":3,"s1":0.0002089554519105881,"s2":-2.9652305065746766e-6,"s3":-0.0010181679595571268},
{"x":4,"s1":-0.00017977006781861788,"s2":0.00012378455975401513,"s3":-0.000837758988931012},
{"x":5,"s1":0.0002585638290289832,"s2":8.139320306764943e-5,"s3":0.00027396581253624644},
{"x":6,"s1":0.00026238622028848985,"s2":-0.0002983530100572661,"s3":-0.0018027574527854273},
{"x":7,"s1":1.114122014850131e-5,"s2":-0.00011807195322983899,"s3":0.0019436217865343663},
{"x":8,"s1":-0.0004534489122367744,"s2":0.0003052751014346993,"s3":-0.0015162044449733582},
{"x":9,"s1":0.0001565700235039385,"s2":5.886365037633668e-5,"s3":0.0005842716212837573},
{"x":10,"s1":0.00013546434096218805,"s2":-0.0003205399769130707,"s3":0.003536537398503473},
{"x":11,"s1":0.00042495778428007595,"s2":-9.523002016739498e-5,"s3":-0.003762186503144387},
{"x":12,"s1":-0.0004390677955706221,"s2":0.00032342263501379135,"s3":0.0018368020300576539},
{"x":13,"s1":-5.578099912654517e-5,"s2":0.00010887580450217066,"s3":-5.958954891909985e-5},
{"x":14,"s1":-0.0001695190371924567,"s2":-3.0059896236795842e-5,"s3":0.0001657518757779097},
{"x":15,"s1":0.000440953450150099,"s2":8.365681684635083e-5,"s3":-0.000553586006175084},
{"x":16,"s1":-0.0002087515420896815,"s2":-0.00027618373969423414,"s3":-0.0003592661729347721},
{"x":17,"s1":-0.0001818727768144862,"s2":-6.019672349206204e-5,"s3":0.00024206109943478447},
{"x":18,"s1":7.2152243036035674e-6,"s2":0.0004007764012115992,"s3":-0.0004160757421119854},
{"x":19,"s1":0.000256652582061786,"s2":0.00015817319455107808,"s3":0.0003974089536432183},
{"x":20,"s1":0.0002069501354021568,"s2":-0.00013240193627823488,"s3":-0.0009126186247136089},
{"x":21,"s1":-0.0005070940155003766,"s2":-0.0003686798797422984,"s3":0.0025084061353288687},
{"x":22,"s1":-0.00018722879531940973,"s2":0.00012757990746256235,"s3":0.0024809803383137805},
{"x":23,"s1":0.0003527013621585938,"s2":0.0006965854823490372,"s3":-0.003522057205970436},
{"x":24,"s1":-0.00010572304765231831,"s2":-6.961108689949295e-6,"s3":-0.0015189288899349481},
{"x":25,"s1":-0.00017546674155786393,"s2":-0.0004484071426088278,"s3":0.000616952816983429},
{"x":26,"s1":-0.0007597437907858643,"s2":-8.429177809743522e-5,"s3":-0.002369547308132569},
{"x":27,"s1":0.0005080700084871152,"s2":0.00035272418982607083,"s3":0.0015500819652328943},
{"x":28,"s1":0.00035285242366559,"s2":0.0003334589927889284,"s3":0.0017066263306478942},
{"x":29,"s1":-0.000285496321613583,"s2":-0.0001355771486574442,"s3":-0.0003922948153161276},
{"x":30,"s1":-0.0006529480849775298,"s2":-0.00022541043927908855,"s3":7.501736536160926e-5},
{"x":31,"s1":0.0007296649462561081,"s2":-2.6513022398291696e-5,"s3":0.005585154587468704},
{"x":32,"s1":-0.0002553694155380433,"s2":-3.595019883100714e-5,"s3":-0.0052472010067742625},
{"x":33,"s1":-0.00020985219962457938,"s2":0.00010239613680469515,"s3":0.0008738794322319857},
{"x":34,"s1":0.00040632705997484795,"s2":0.0002429633054865141,"s3":-0.0029919210051988373},
{"x":35,"s1":3.0723387941523554e-5,"s2":0.00016108753775414544,"s3":-0.0009675946402718593},
{"x":36,"s1":-0.0006059251657759691,"s2":-0.00028834419509310796,"s3":0.005525454826526209},
{"x":37,"s1":0.00031341267690465066,"s2":-0.00026462558020411576,"s3":-0.0016142112249328956},
{"x":38,"s1":7.208253352065132e-5,"s2":0.00042370903427052845,"s3":0.0032935705122548163},
{"x":39,"s1":3.225863679223567e-5,"s2":0.00015396805194008655,"s3":-0.0017604965092084344},
{"x":40,"s1":7.609374690285866e-5,"s2":-0.0006435617903416538,"s3":0.0005252514345411601},
{"x":41,"s1":-7.376216892942368e-5,"s2":-0.0004011325077677274,"s3":-0.004044322263328876},
{"x":42,"s1":-0.0007618535100607184,"s2":0.00022074399104210921,"s3":0.002031405908803363},
{"x":43,"s1":-0.0003273293319681129,"s2":9.180273221396566e-5,"s3":0.0002255487536350484},
{"x":44,"s1":0.00045323412342723377,"s2":-0.0001390153403305941,"s3":-0.00328705074617071},
{"x":45,"s1":5.2881791415573095e-5,"s2":9.022614282159396e-6,"s3":-0.0008001020660009492},
{"x":46,"s1":-0.0005795984814096971,"s2":-6.339260891432575e-5,"s3":0.002869952969447609},
{"x":47,"s1":-0.000357094536978113,"s2":-0.0001527151366076206,"s3":0.0019848057002241283},
{"x":48,"s1":0.000533141613925694,"s2":0.00021952511669716602,"s3":-0.001497374716922033},
{"x":49,"s1":0.0007144384128401877,"s2":-1.7536153873031185e-5,"s3":-0.00216898972667784},
{"x":50,"s1":-0.00018111072792517132,"s2":-0.00028579141994955666,"s3":0.0019338633411665705},
{"x":51,"s1":-0.0008996309007194722,"s2":0.00011216189077367626,"s3":0.0007828091694382259},
{"x":52,"s1":0.0002944082862982936,"s2":0.0001091785546836191,"s3":-0.0018648618911030262},
{"x":53,"s1":0.000566440110173405,"s2":-0.00021750029494040579,"s3":0.002559828559844672},
{"x":54,"s1":4.8211960727844376e-5,"s2":-7.22364042867703e-5,"s3":-0.0014371508833124272},
{"x":55,"s1":-0.0006461093372209085,"s2":-1.3339099190127409e-5,"s3":-0.001511861667368444},
{"x":56,"s1":-0.0005370028515842382,"s2":-0.00021000477820882466,"s3":0.002194443413440312},
{"x":57,"s1":0.00033651536132329655,"s2":-8.286222688356514e-5,"s3":0.0011844258777558296},
{"x":58,"s1":0.000794232052294269,"s2":7.114078370748881e-5,"s3":-0.002308070527865912},
{"x":59,"s1":0.0002446369883910754,"s2":6.866635008142789e-5,"s3":-0.00031401955792393667},
{"x":60,"s1":-0.0004456252180090438,"s2":6.271786135599799e-5,"s3":0.0010962417303333881},
{"x":61,"s1":-0.0005817852277745766,"s2":-0.0003018160925396898,"s3":0.0008793648262369856},
{"x":62,"s1":0.000691842498588617,"s2":-0.000647931016387376,"s3":-0.0007580768131121984},
{"x":63,"s1":7.89036486029058e-5,"s2":-5.333302311978868e-5,"s3":-2.619523686023752e-5},
{"x":64,"s1":-0.0002983087908348985,"s2":0.00038927497955302794,"s3":0.0020278217510823144},
{"x":65,"s1":6.357107777545045e-5,"s2":0.00015686590261209605,"s3":-0.001640921186770759},
{"x":66,"s1":0.00040021491778484934,"s2":0.00016637067798834458,"s3":-0.0019750888016351518},
{"x":67,"s1":-0.0001451262580303066,"s2":-3.17610302368176e-6,"s3":0.0022532923911033564},
{"x":68,"s1":-0.00024217416962793212,"s2":-0.0003700275320214314,"s3":-0.0007927912221721251},
{"x":69,"s1":0.00027814552068629436,"s2":-4.6125731250175636e-5,"s3":-0.0009300929399733422},
{"x":70,"s1":-6.738535717336435e-5,"s2":0.0004831958520175104,"s3":0.0016745669161964188},
{"x":71,"s1":0.00013220811761755795,"s2":0.00030595785573811723,"s3":-0.001139581635515795},
{"x":72,"s1":-0.00037994395206446626,"s2":-0.00026533846786059293,"s3":-0.0014353409851810377},
{"x":73,"s1":-0.0001242753253213557,"s2":-0.0003448505450098641,"s3":0.0011648419479835287},
{"x":74,"s1":0.00032554126847932584,"s2":0.00016411791045021023,"s3":0.00020318668216931122},
{"x":75,"s1":-4.921791605192381e-5,"s2":0.0003469807741462776,"s3":-0.0009875575550745714},
{"x":76,"s1":-0.00029397886531046057,"s2":0.0002761917026925874,"s3":0.002770833268523812},
{"x":77,"s1":0.0002445754272505408,"s2":4.04293195633425e-5,"s3":-0.0016669969090535807},
{"x":78,"s1":0.0002826404423671916,"s2":-0.0003325321252469809,"s3":-0.0006369927101237824},
{"x":79,"s1":-0.00014864952653535722,"s2":7.08225957656585e-5,"s3":-0.0019709441520024264},
{"x":80,"s1":-2.491664864188929e-5,"s2":0.0004541912514722967,"s3":0.002305017754634422},
{"x":81,"s1":-0.00033200743573878484,"s2":-0.00011222530832080155,"s3":0.0004407133143308369},
{"x":82,"s1":0.00027870599110615675,"s2":-0.00039404422949963997,"s3":-0.0019241102976335057},
{"x":83,"s1":0.00043679274097293885,"s2":-6.340368855480985e-5,"s3":0.0009869169805515835},
{"x":84,"s1":6.338859393667608e-5,"s2":0.00020410392262640517,"s3":0.0004086471704189567},
{"x":85,"s1":-0.0002442050645659657,"s2":0.00045864862738157093,"s3":0.00045623875195945464},
{"x":86,"s1":-0.00016721916893352315,"s2":0.00010443699159138311,"s3":0.0007267116081822964},
{"x":87,"s1":0.00026593713052591137,"s2":-0.0004086031824027778,"s3":-0.0018769953253237558},
{"x":88,"s1":1.563346651679058e-5,"s2":-0.00011175108081126787,"s3":-0.0012417975964860036},
{"x":89,"s1":0.00014284630179110992,"s2":0.0002602206526886651,"s3":0.0016050785116615927},
{"x":90,"s1":-2.9865473100147206e-5,"s2":0.0001621856955696523,"s3":-0.0008015358152743425},
{"x":91,"s1":0.0003827353093500702,"s2":0.00017824756595951862,"s3":0.00010361035323544445},
{"x":92,"s1":4.1574642380698695e-5,"s2":-7.6285809284474455e-6,"s3":-3.709479073799076e-5},
{"x":93,"s1":-0.00034164914117694104,"s2":-0.00033372786731261276,"s3":1.11086306065037e-5},
{"x":94,"s1":-0.00020149657771975182,"s2":0.00018442518812038548,"s3":0.001995289869421623},
{"x":95,"s1":2.431158254804016e-5,"s2":0.0003593516094815959,"s3":-0.002365814869054062},
{"x":96,"s1":0.00033665362507948,"s2":-0.0005445960881238261,"s3":0.00020796738199147966},
{"x":97,"s1":0.00019747975584495257,"s2":-0.00027959511792965123,"s3":-0.0005729377920330559},
{"x":98,"s1":-0.0006722134653138229,"s2":0.0004852318850176479,"s3":0.0008434153025175273},
{"x":99,"s1":0.00016961154088699533,"s2":3.290449043910972e-5,"s3":-0.0008554051519935496},
{"x":100,"s1":0.0007339735723950294,"s2":-0.0003469402680302494,"s3":0.000918956565998435},
{"x":101,"s1":-0.00020346414970987922,"s2":2.5212898570965545e-5,"s3":-0.0011250143598011},
{"x":102,"s1":-0.0006483280269470554,"s2":0.0002672708123611235,"s3":0.0003832792329464834},
{"x":103,"s1":0.00043748294865348644,"s2":-2.9395872284368827e-6,"s3":0.003453698307854158},
{"x":104,"s1":-0.0003713290507070596,"s2":-0.00027240101493892463,"s3":-0.002599712092937951},
{"x":105,"s1":0.00046393202506735955,"s2":-7.287737348559877e-6,"s3":0.0008305263074726131},
{"x":106,"s1":-1.1190516194166453e-5,"s2":0.00026127248509460994,"s3":0.000384314468532862},
{"x":107,"s1":0.00011720404723258217,"s2":0.00015767727414205894,"s3":-0.0022020613982706647},
{"x":108,"s1":-0.00023802508092928302,"s2":-0.00032243368027334125,"s3":0.0005606946575200051},
{"x":109,"s1":0.000617827571809906,"s2":-0.00031113883211733904,"s3":-0.0003064387687465753},
{"x":110,"s1":-0.0003202669775018533,"s2":0.0002264283911311681,"s3":-0.0005418275177859302},
{"x":111,"s1":-0.00014017579208627017,"s2":9.754490407365321e-5,"s3":0.0019490854504787237},
{"x":112,"s1":0.00027778550299107225,"s2":0.00011016366324902956,"s3":-0.0003940865401875093},
{"x":113,"s1":4.740377502312972e-5,"s2":0.0002272465281056953,"s3":-0.0002807242335022885},
{"x":114,"s1":-6.163729927206921e-5,"s2":-0.00018067438803161397,"s3":-0.0003920374647505993},
{"x":115,"s1":0.00037442002287642486,"s2":-0.00045795623004923496,"s3":-0.0005460253564525878},
{"x":116,"s1":-0.0002980586347480296,"s2":-0.00020687983061603722,"s3":0.0005053115532202546},
{"x":117,"s1":0.00012820691639186182,"s2":0.0002124688345638269,"s3":-0.0015910712692219866},
{"x":118,"s1":0.0005177401690663234,"s2":0.00027126529965338693,"s3":-0.0007854818368147499},
{"x":119,"s1":-8.004077966399916e-5,"s2":-0.00024674349974413985,"s3":-0.00029488699294793596},
{"x":120,"s1":-0.0003826184679728005,"s2":-0.00012460591049405232,"s3":0.0023855544081958524},
{"x":121,"s1":6.113738733850103e-5,"s2":0.0002599137385001623,"s3":-0.0009438898866561656},
{"x":122,"s1":0.0004589159941937671,"s2":6.118306972225422e-6,"s3":0.0007818814485089359},
{"x":123,"s1":0.00019728538339922112,"s2":-0.00012218019823732597,"s3":-7.737793457402688e-5},
{"x":124,"s1":0.00010875665928414141,"s2":3.6116220213717166e-5,"s3":-0.0007661183815975034},
{"x":125,"s1":-3.098730349982238e-5,"s2":-0.00020126227648108432,"s3":-0.0003855238544746701},
{"x":126,"s1":0.0001456474500589518,"s2":-2.484032837393465e-5,"s3":-0.0007362777653256679},
{"x":127,"s1":7.594067394497716e-5,"s2":0.00026078179461699977,"s3":0.0002842853334773514},
{"x":128,"s1":0.00010373281535552271,"s2":-0.00021068344164873538,"s3":-0.0011244647463205192},
{"x":129,"s1":-3.670327589111426e-5,"s2":-0.00021506868858736633,"s3":0.0002556871998567194},
{"x":130,"s1":-0.0001273239883320592,"s2":-4.035731035309606e-5,"s3":0.0014054029829924056},
{"x":131,"s1":2.4723944671635517e-5,"s2":-0.00015797811626955672,"s3":0.0013664183904450419},
{"x":132,"s1":0.0005265252995914933,"s2":0.00041872402076781215,"s3":-0.002175133062649128},
{"x":133,"s1":-8.94542400433407e-5,"s2":0.0003355478845227373,"s3":0.000982554097735037},
{"x":134,"s1":-0.0013196753214683218,"s2":-0.0003986935485202834,"s3":0.0004930350396970573},
{"x":135,"s1":0.000969993948528387,"s2":-0.00013787851873831708,"s3":-0.001441132178902576},
{"x":136,"s1":0.0007658251161288316,"s2":0.00011650120929327215,"s3":0.0009532764110265729},
{"x":137,"s1":-1.6040951684530822e-5,"s2":-0.00017898909690867377,"s3":-0.0010250377822431807},
{"x":138,"s1":-0.0010791332035050756,"s2":-2.7704876483454213e-5,"s3":0.00171772549514023},
{"x":139,"s1":0.0002042793626982833,"s2":0.00013965059926822357,"s3":-0.00034334469110839},
{"x":140,"s1":0.00044001932026764144,"s2":7.578750679893199e-5,"s3":-0.002335046153202935},
{"x":141,"s1":0.0003676800841237025,"s2":-1.6745806234053206e-5,"s3":0.000259961249265565},
{"x":142,"s1":-0.00016165083994110555,"s2":-0.00011738768628865609,"s3":0.006328553190858541},
{"x":143,"s1":-0.0004923257528394983,"s2":2.250575835114785e-5,"s3":-0.0055762533310163035},
{"x":144,"s1":0.0003661715341484077,"s2":9.478706342076775e-5,"s3":-0.0010596345223355364},
{"x":145,"s1":7.377584529485386e-6,"s2":2.7404697113284725e-5,"s3":0.004177134353940082},
{"x":146,"s1":0.00015242544280043326,"s2":-0.0001243841640036349,"s3":-0.001835481599023074},
{"x":147,"s1":1.657714964365453e-5,"s2":-0.00018354611489794208,"s3":0.001954596787790348},
{"x":148,"s1":-0.0004991667004300071,"s2":6.187785548125133e-5,"s3":-0.001952907969967163},
{"x":149,"s1":0.00030337266537372584,"s2":0.00023675211920714804,"s3":-0.000539394537010344},
{"x":150,"s1":0.0003503842752748508,"s2":2.1258181398409188e-5,"s3":0.00022169173867987033},
{"x":151,"s1":0.00041796053467025457,"s2":-6.406588877829706e-5,"s3":0.00023524721308800675},
{"x":152,"s1":-0.0006894938725244915,"s2":5.4945552424152045e-6,"s3":0.0018563554866001832},
{"x":153,"s1":-0.00013907610203924415,"s2":-1.2442240156416167e-6,"s3":0.0018832071026588387},
{"x":154,"s1":0.00017196316324752378,"s2":-0.0002420487312279146,"s3":-0.006376085030154178},
{"x":155,"s1":0.0004986408313570965,"s2":1.086278221989698e-5,"s3":0.0018332515890116547},
{"x":156,"s1":-1.1495981818873235e-5,"s2":0.0004896820891004452,"s3":0.003595983827989424},
{"x":157,"s1":-0.00017810638313576436,"s2":-9.236306757645e-5,"s3":-0.0026503504408956395},
{"x":158,"s1":-0.0003974058757482598,"s2":-0.00046234873360414934,"s3":-0.002035723314271793},
{"x":159,"s1":-0.00014818093995204999,"s2":-2.2975731732349578e-5,"s3":0.005372888980680198},
{"x":160,"s1":0.0006313052716754503,"s2":4.07338706722619e-5,"s3":-0.004139321846599709},
{"x":161,"s1":-0.00015749762127997643,"s2":0.00019395927119165353,"s3":-3.552249035565806e-5},
{"x":162,"s1":-0.0003136719494498859,"s2":0.00032711851418828586,"s3":0.0005604045995737946},
{"x":163,"s1":-6.606020959421683e-5,"s2":1.619458326687695e-6,"s3":0.0034858147950617025},
{"x":164,"s1":-5.2904178909570854e-5,"s2":-9.133207669254377e-5,"s3":-0.0032875724673996297},
{"x":165,"s1":-0.00035092226125701156,"s2":-0.00020776599697126504,"s3":-0.0011446898795198412},
{"x":166,"s1":-4.986896476212858e-5,"s2":-8.65733046771325e-5,"s3":0.0012744651113398332},
{"x":167,"s1":0.00020530930103349496,"s2":0.00015978980736400155,"s3":0.0030257575639214846},
{"x":168,"s1":-0.00024644997477474046,"s2":3.492767531907548e-5,"s3":-0.0026201098921943863},
{"x":169,"s1":-0.0003094484891652607,"s2":0.00015897696872974943,"s3":-0.0037888006097568892},
{"x":170,"s1":-0.0002862208918116713,"s2":0.00019024512945463597,"s3":0.0017895562828625419},
{"x":171,"s1":0.0001543172756445804,"s2":-0.00014181137979203245,"s3":0.003929529759663334},
{"x":172,"s1":-9.261540915901892e-5,"s2":-0.00022057427266492844,"s3":-0.006432375240482205},
{"x":173,"s1":-0.00015992003874891627,"s2":-6.159183319693061e-5,"s3":0.002473565202271816},
{"x":174,"s1":-0.0002737246254694651,"s2":-5.205422365658967e-5,"s3":0.00032937668711148705},
{"x":175,"s1":-0.00019519247115176348,"s2":-0.00021376464807111605,"s3":0.002666076679720232},
{"x":176,"s1":0.0003505667254839909,"s2":-0.00024232929236342948,"s3":-0.00010717235139052075},
{"x":177,"s1":0.00013161293712302458,"s2":3.583063650072429e-5,"s3":0.0009547074578837368},
{"x":178,"s1":-4.9103797664986296e-5,"s2":0.0002523931571699031,"s3":0.001467354339658788},
{"x":179,"s1":-6.759424800317277e-5,"s2":7.993613099371055e-5,"s3":-0.0033653787217599496},
{"x":180,"s1":-4.427861313085216e-5,"s2":-0.00037990225928578,"s3":-0.00012978326968498757},
{"x":181,"s1":0.0003072021301919271,"s2":-0.00016971081326805387,"s3":0.001534171000799111},
{"x":182,"s1":0.00014982618016896515,"s2":0.00011788307570064593,"s3":0.0002854378401232516},
{"x":183,"s1":-0.00037755636648751305,"s2":-1.572035136960354e-5,"s3":-0.0007160647443497461},
{"x":184,"s1":-0.00014131101472249905,"s2":4.2314634597223086e-5,"s3":0.0006521870811657109},
{"x":185,"s1":2.2220521011835235e-5,"s2":0.00016793761465334024,"s3":-0.0007419284550637396},
{"x":186,"s1":0.0004701934148947741,"s2":3.677701788446703e-5,"s3":-0.0005057872549536314},
{"x":187,"s1":-0.0005464162711163671,"s2":-0.00029218889321150777,"s3":0.003581778778723012},
{"x":188,"s1":0.0001275334996644723,"s2":-0.0003047880754929726,"s3":0.0012518934192383663},
{"x":189,"s1":0.0002474144184451956,"s2":0.00026178892415833834,"s3":-0.00433414470886152},
{"x":190,"s1":0.00014222289137934843,"s2":0.00028821933484589297,"s3":-0.005872859784977974},
{"x":191,"s1":-0.0008127510802906098,"s2":-8.22131821726442e-5,"s3":0.00307366202487679},
{"x":192,"s1":-0.00017289431577400624,"s2":-6.004554802994147e-5,"s3":0.0029686482260368693},
{"x":193,"s1":0.00027190476002168963,"s2":-0.000166859514789774,"s3":0.002077514247117447},
{"x":194,"s1":0.0006250017647675205,"s2":-0.0003423875522097299,"s3":0.0007952317417062939},
{"x":195,"s1":-0.00037042101561750947,"s2":4.128917735064174e-5,"s3":-0.0007656680869858692},
{"x":196,"s1":-0.0001978586309225478,"s2":0.0003851174820907123,"s3":-0.004511180901033688},
{"x":197,"s1":-0.00015416289862733553,"s2":8.55996848098233e-5,"s3":0.0016942463208145858},
{"x":198,"s1":0.0004450933208914653,"s2":-0.00011768735513317363,"s3":0.0018348795535395842},
{"x":199,"s1":-3.9852730309361485e-5,"s2":0.00018653289558941315,"s3":0.001461573660986346},
{"x":200,"s1":-0.0003305384327736038,"s2":0.00022374521156623553,"s3":-0.0020479141633341163},
{"x":201,"s1":0.00031678357697894786,"s2":4.9223617347221106e-5,"s3":-0.00036668216671381074},
{"x":202,"s1":-0.00018257085968263713,"s2":-4.819827776552502e-5,"s3":-0.0003033618352639857},
{"x":203,"s1":-0.00024611507844922236,"s2":-0.00019789758741266787,"s3":0.0031056487239209184},
{"x":204,"s1":0.0004534752842832268,"s2":4.874095162313946e-5,"s3":-0.0010456109913016911},
{"x":205,"s1":-0.00022249258015532056,"s2":0.0002311593754334607,"s3":-0.002659097759136885},
{"x":206,"s1":-0.00022315871804536735,"s2":-5.3916996693812164e-6,"s3":-0.00029705455048877543},
{"x":207,"s1":0.0001249373473003008,"s2":6.208232994670669e-7,"s3":0.002515905669462824},
{"x":208,"s1":-2.4638121966771467e-5,"s2":0.00026417370869980905,"s3":0.0018530229289538734},
{"x":209,"s1":5.949650026141128e-5,"s2":6.901584451982879e-5,"s3":-0.0006735789103495305},
{"x":210,"s1":8.396070159580306e-5,"s2":-0.0002440278907422296,"s3":-0.004541908612887584},
{"x":211,"s1":0.0001461614602073972,"s2":-9.662433757187527e-5,"s3":-0.0005674064020961412},
{"x":212,"s1":-0.00019490645642210137,"s2":0.00021225853722511493,"s3":0.004675020364260261},
{"x":213,"s1":0.0003303444887782186,"s2":4.486612846654924e-5,"s3":-0.0009063168738500022},
{"x":214,"s1":-0.00016663125865580634,"s2":-0.00025877911308885615,"s3":-9.99446172579664e-5},
{"x":215,"s1":-0.00012249079885589124,"s2":-2.7633144374125584e-5,"s3":-0.003464737370346998},
{"x":216,"s1":1.663669438932281e-6,"s2":0.00018705079238591057,"s3":0.0008479919145003001},
{"x":217,"s1":0.0003196657375266417,"s2":0.00013454273147624755,"s3":0.005209347296466177},
{"x":218,"s1":-0.00027891925413787495,"s2":6.704563929652874e-5,"s3":0.00017787943844097638},
{"x":219,"s1":0.0004349708496289674,"s2":-1.7372177467025625e-5,"s3":0.007122750894604031},
{"x":220,"s1":-0.001318746573560503,"s2":1.3354080209247076e-5,"s3":-0.010857336443766862},
{"x":221,"s1":-9.903955390971945e-5,"s2":0.0002293776106942265,"s3":-0.0066695970347288806},
{"x":222,"s1":0.0010201202669553103,"s2":0.0001044740380877153,"s3":0.003914578295980804},
{"x":223,"s1":0.000927706810330106,"s2":-0.00013008069900600117,"s3":0.005245562638297744},
{"x":224,"s1":-0.0011685500489802977,"s2":-3.4106342705283926e-5,"s3":-0.004331071578190908},
{"x":225,"s1":-0.0006148589274985478,"s2":0.00021625075989825616,"s3":0.0014042759880212943},
{"x":226,"s1":0.0005604722125059875,"s2":1.0019209721901399e-5,"s3":0.0029250562996414476},
{"x":227,"s1":0.0005417827583606492,"s2":-0.00017531719708527258,"s3":-0.0023724888629657885},
{"x":228,"s1":-0.000415284426665491,"s2":7.378717307095561e-5,"s3":-0.0001588890807184993},
{"x":229,"s1":-0.00017916681525392857,"s2":0.00025587333267749525,"s3":0.0028825723564518124},
{"x":230,"s1":-2.4728318261471147e-5,"s2":8.962806262575001e-5,"s3":-0.001071249464390273},
{"x":231,"s1":0.00024228798950763563,"s2":-0.0002633833804661564,"s3":-0.00931971240211503},
{"x":232,"s1":-8.753387657676181e-5,"s2":-0.0002485787792817011,"s3":0.0008111305645964087},
{"x":233,"s1":-0.00016328213502884883,"s2":0.0003928842644309845,"s3":0.0047172315866256444},
{"x":234,"s1":-0.00046501960539353944,"s2":0.00045266053053792486,"s3":0.004951873412954762},
{"x":235,"s1":0.0006869207642402416,"s2":-0.00011074095299276143,"s3":-0.004345129704770749},
{"x":236,"s1":-6.800224331927058e-5,"s2":-0.0002455543126474644,"s3":0.0025304148686519953},
{"x":237,"s1":9.049812250237417e-5,"s2":-0.0001705198812447265,"s3":0.0013997353537807118},
{"x":238,"s1":-0.00034126274859336465,"s2":4.646266770153691e-5,"s3":-0.001891762694930907},
{"x":239,"s1":0.00019849744614138044,"s2":0.00034881060442326574,"s3":0.000584914359738667},
{"x":240,"s1":0.00012121467552911448,"s2":4.7111148039507644e-5,"s3":-0.0019748150656551003},
{"x":241,"s1":-2.4874184020883563e-5,"s2":-0.0001640789668895088,"s3":-0.0003421913264893709},
{"x":242,"s1":-0.0003610869522249504,"s2":-0.00018367552688930856,"s3":-0.0009221015520701902},
{"x":243,"s1":1.3089066731725192e-5,"s2":-0.00024902299280352423,"s3":0.004160216206770322},
{"x":244,"s1":0.00039091782237292373,"s2":0.00013233433360028133,"s3":-0.0016694427649344614},
{"x":245,"s1":-0.0002461465182709779,"s2":0.00016118992200249833,"s3":0.004838541513421095},
{"x":246,"s1":-7.120819425093925e-5,"s2":-2.4279851382218868e-5,"s3":-0.0048349373989133105}];
    const series = [{"name":"INDPRO","color":"#1f77b4","key":"s1","dash":""},{"name":"UNRATE","color":"#ff7f0e","key":"s2","dash":""},{"name":"CPI","color":"#2ca02c","key":"s3","dash":""}];
    const mode = 'stacked';

    const container = d3.select('#hd_bar_53');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    const keys = series.map(s => s.key);
    const x = d3.scaleBand().domain(data.map(d=>d.x)).range([0,w]).padding(0.15);

    let yMin = 0, yMax = 0;
    if(mode === 'stacked') {
        const stack = d3.stack().keys(keys).order(d3.stackOrderNone).offset(d3.stackOffsetDiverging);
        const stacked = stack(data);
        stacked.forEach(layer => layer.forEach(d => {
            yMin = Math.min(yMin, d[0], d[1]);
            yMax = Math.max(yMax, d[0], d[1]);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.layer').data(stacked).join('g').attr('class','layer')
            .attr('fill', (d,i) => series[i].color)
            .selectAll('rect').data(d => d).join('rect')
            .attr('x', d => x(d.data.x))
            .attr('y', d => y(Math.max(d[0], d[1])))
            .attr('height', d => Math.abs(y(d[0]) - y(d[1])))
            .attr('width', x.bandwidth());

        // Zero line
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    } else {
        // Grouped
        data.forEach(d => keys.forEach(k => {
            yMin = Math.min(yMin, d[k]||0);
            yMax = Math.max(yMax, d[k]||0);
        }));
        const yPad = (yMax - yMin) * 0.08 || 1;
        const y = d3.scaleLinear().domain([yMin - yPad, yMax + yPad]).range([h, 0]);
        const x1 = d3.scaleBand().domain(keys).range([0, x.bandwidth()]).padding(0.05);

        g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));
        g.selectAll('.group').data(data).join('g').attr('class','group')
            .attr('transform', d => 'translate('+x(d.x)+',0)')
            .selectAll('rect').data(d => keys.map(k => ({key:k, val:d[k]||0})))
            .join('rect')
            .attr('x', d => x1(d.key))
            .attr('y', d => y(Math.max(0, d.val)))
            .attr('height', d => Math.abs(y(0) - y(d.val)))
            .attr('width', x1.bandwidth())
            .attr('fill', d => series.find(s=>s.key===d.key).color);

        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(0)).attr('y2',y(0))
            .attr('stroke','#333').attr('stroke-width',0.8);

        g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
            .call(d3.axisBottom(x).tickValues(x.domain().filter((d,i) =>
                i % Math.max(1,Math.floor(data.length/8)) === 0)));
        g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));
    }

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Contribution') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Contribution');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*90)+',0)');
            gi.append('rect').attr('width',12).attr('height',12).attr('y',-6).attr('fill',s.color);
            gi.append('text').attr('x',16).attr('y',4).attr('font-size','10px').attr('fill','#555').text(s.name);
        });
    }

    // Tooltip
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const bands = x.domain();
            const idx = Math.min(Math.floor(mx / (w / bands.length)), bands.length-1);
            const d = data[Math.max(0,idx)];
            if(!d) return;
            let html = '<b>'+d.x+'</b>';
            series.forEach(s => { if(d[s.key]!==undefined) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

(function() {
    const data = [{"x":1,"actual":-0.0017753334383439068,"recon":-0.0017753334383439068},
{"x":2,"actual":0.0017443643377621498,"recon":0.0017443643377621498},
{"x":3,"actual":-0.0008905957739751003,"recon":-0.0008905957739751003},
{"x":4,"actual":-0.0008813491066348433,"recon":-0.0008813491066348433},
{"x":5,"actual":0.0008601214828241055,"recon":0.0008601214828241055},
{"x":6,"actual":-0.0017406235464711983,"recon":-0.0017406235464711983},
{"x":7,"actual":0.0017226327038093459,"recon":0.0017226327038093459},
{"x":8,"actual":-0.001731581556640549,"recon":-0.001731581556640549},
{"x":9,"actual":0.0008557752764977167,"recon":0.0008557752764977167},
{"x":10,"actual":0.0034121755492124706,"recon":0.0034121755492124706},
{"x":11,"actual":-0.003434147695855927,"recon":-0.003434147695855927},
{"x":12,"actual":0.0016898344401505838,"recon":0.0016898344401505838},
{"x":13,"actual":-1.795477193056172e-5,"recon":-1.795477193056172e-5},
{"x":14,"actual":-1.7803573177488374e-5,"recon":-1.7803573177488374e-5},
{"x":15,"actual":-1.7654276307510486e-5,"recon":-1.7654276307510486e-5},
{"x":16,"actual":-0.0008511875981334072,"recon":-0.0008511875981334072},
{"x":17,"actual":-1.1129714737379004e-5,"recon":-1.1129714737379004e-5},
{"x":18,"actual":-1.1055824312933282e-5,"recon":-1.1055824312933282e-5},
{"x":19,"actual":0.0008144404088756829,"recon":0.0008144404088756829},
{"x":20,"actual":-0.000839049634874911,"recon":-0.000839049634874911},
{"x":21,"actual":0.0016271813085753095,"recon":0.0016271813085753095},
{"x":22,"actual":0.0024159092474844712,"recon":0.0024159092474844712},
{"x":23,"actual":-0.0024757402448782884,"recon":-0.0024757402448782884},
{"x":24,"actual":-0.001633833395915829,"recon":-0.001633833395915829},
{"x":25,"actual":-1.0389117917952717e-5,"recon":-1.0389117917952717e-5},
{"x":26,"actual":-0.0032180236942007667,"recon":-0.0032180236942007667},
{"x":27,"actual":0.002406740030565402,"recon":0.002406740030565402},
{"x":28,"actual":0.0023894322329276463,"recon":0.0023894322329276463},
{"x":29,"actual":-0.0008168594120121497,"recon":-0.0008168594120121497},
{"x":30,"actual":-0.0008072245453369931,"recon":-0.0008072245453369931},
{"x":31,"actual":0.006284246935892135,"recon":0.006284246935892135},
{"x":32,"actual":-0.005542435920900424,"recon":-0.005542435920900424},
{"x":33,"actual":0.0007626485627660884,"recon":0.0007626485627660884},
{"x":34,"actual":-0.002346449742278267,"recon":-0.002346449742278267},
{"x":35,"actual":-0.0007797102341688955,"recon":-0.0007797102341688955},
{"x":36,"actual":0.004627237916502658,"recon":0.004627237916502658},
{"x":37,"actual":-0.0015693227377626684,"recon":-0.0015693227377626684},
{"x":38,"actual":0.0037854890422739373,"recon":0.0037854890422739373},
{"x":39,"actual":-0.0015781655934086203,"recon":-0.0015781655934086203},
{"x":40,"actual":-4.613847981271846e-5,"recon":-4.613847981271846e-5},
{"x":41,"actual":-0.004523137428873447,"recon":-0.004523137428873447},
{"x":42,"actual":0.001486389803310395,"recon":0.001486389803310395},
{"x":43,"actual":-1.3881550946948096e-5,"recon":-1.3881550946948096e-5},
{"x":44,"actual":-0.0029767438168493143,"recon":-0.0029767438168493143},
{"x":45,"actual":-0.0007421150618878158,"recon":-0.0007421150618878158},
{"x":46,"actual":0.0022230464879466894,"recon":0.0022230464879466894},
{"x":47,"actual":0.001471084052194982,"recon":0.001471084052194982},
{"x":48,"actual":-0.0007486203103841405,"recon":-0.0007486203103841405},
{"x":49,"actual":-0.001476002250398345,"recon":-0.001476002250398345},
{"x":50,"actual":0.0014630454419188865,"recon":0.0014630454419188865},
{"x":51,"actual":-8.574729842614204e-6,"recon":-8.574729842614204e-6},
{"x":52,"actual":-0.0014651892277761647,"recon":-0.0014651892277761647},
{"x":53,"actual":0.0029048538241145394,"recon":0.0029048538241145394},
{"x":54,"actual":-0.0014650905337623144,"recon":-0.0014650905337623144},
{"x":55,"actual":-0.0021752254168685425,"recon":-0.0021752254168685425},
{"x":56,"actual":0.001443520747947069,"recon":0.001443520747947069},
{"x":57,"actual":0.001434164088504275,"recon":0.001434164088504275},
{"x":58,"actual":-0.0014466127765677683,"recon":-0.0014466127765677683},
{"x":59,"actual":-4.63146053419905e-6,"recon":-4.63146053419905e-6},
{"x":60,"actual":0.0007094191435532693,"recon":0.0007094191435532693},
{"x":61,"actual":-8.151649206311617e-6,"recon":-8.151649206311617e-6},
{"x":62,"actual":-0.0007180804806976582,"recon":-0.0007180804806976582},
{"x":63,"actual":-4.539815315673934e-6,"recon":-4.539815315673934e-6},
{"x":64,"actual":0.002114872703040227,"recon":0.002114872703040227},
{"x":65,"actual":-0.0014243994314462327,"recon":-0.0014243994314462327},
{"x":66,"actual":-0.0014124184136683482,"recon":-0.0014124184136683482},
{"x":67,"actual":0.0021010748169265625,"recon":0.0021010748169265625},
{"x":68,"actual":-0.0014089081527579594,"recon":-0.0014089081527579594},
{"x":69,"actual":-0.0007019883851988595,"recon":-0.0007019883851988595},
{"x":70,"actual":0.0020864621810989803,"recon":0.0020864621810989803},
{"x":71,"actual":-0.0007053308889179988,"recon":-0.0007053308889179988},
{"x":72,"actual":-0.00208453863492597,"recon":-0.00208453863492597},
{"x":73,"actual":0.000691800843685364,"recon":0.000691800843685364},
{"x":74,"actual":0.0006889306264676875,"recon":0.0006889306264676875},
{"x":75,"actual":-0.0006937099301715932,"recon":-0.0006937099301715932},
{"x":76,"actual":0.002749130873053396,"recon":0.002749130873053396},
{"x":77,"actual":-0.0013859073962603219,"recon":-0.0013859073962603219},
{"x":78,"actual":-0.0006907996280087758,"recon":-0.0006907996280087758},
{"x":79,"actual":-0.002052686317742136,"recon":-0.002052686317742136},
{"x":80,"actual":0.002730377122857064,"recon":0.002730377122857064},
{"x":81,"actual":-7.434664400562951e-6,"recon":-7.434664400562951e-6},
{"x":82,"actual":-0.002043363771072393,"recon":-0.002043363771072393},
{"x":83,"actual":0.0013563907977145462,"recon":0.0013563907977145462},
{"x":84,"actual":0.0006722244517805009,"recon":0.0006722244517805009},
{"x":85,"actual":0.0006667670796467462,"recon":0.0006667670796467462},
{"x":86,"actual":0.0006600141956534245,"recon":0.0006600141956534245},
{"x":87,"actual":-0.0020235766124940824,"recon":-0.0020235766124940824},
{"x":88,"actual":-0.0013418304461128017,"recon":-0.0013418304461128017},
{"x":89,"actual":0.002004230230830295,"recon":0.002004230230830295},
{"x":90,"actual":-0.000673130828106494,"recon":-0.000673130828106494},
{"x":91,"actual":0.0006606779932178952,"recon":0.0006606779932178952},
{"x":92,"actual":-7.063964640785514e-6,"recon":-7.063964640785514e-6},
{"x":93,"actual":-0.0006681836132438335,"recon":-0.0006681836132438335},
{"x":94,"actual":0.001974303244467457,"recon":0.001974303244467457},
{"x":95,"actual":-0.0019860669123801244,"recon":-0.0019860669123801244},
{"x":96,"actual":-3.890316417454187e-6,"recon":-3.890316417454187e-6},
{"x":97,"actual":-0.0006589683894890896,"recon":-0.0006589683894890896},
{"x":98,"actual":0.0006525184868495515,"recon":0.0006525184868495515},
{"x":99,"actual":-0.0006568043560379877,"recon":-0.0006568043560379877},
{"x":100,"actual":0.0013020746349914347,"recon":0.0013020746349914347},
{"x":101,"actual":-0.0013071808463145373,"recon":-0.0013071808463145373},
{"x":102,"actual":-1.6932170154859705e-6,"recon":-1.6932170154859705e-6},
{"x":103,"actual":0.00388432643390324,"recon":0.00388432643390324},
{"x":104,"actual":-0.00324735739395976,"recon":-0.00324735739395976},
{"x":105,"actual":0.0012832553598149943,"recon":0.0012832553598149943},
{"x":106,"actual":0.0006304812020561101,"recon":0.0006304812020561101},
{"x":107,"actual":-0.0019310953122735341,"recon":-0.0019310953122735341},
{"x":108,"actual":-3.6793390600919906e-6,"recon":-3.6793390600919906e-6},
{"x":109,"actual":-3.665264431518267e-6,"recon":-3.665264431518267e-6},
{"x":110,"actual":-0.0006395813395343453,"recon":-0.0006395813395343453},
{"x":111,"actual":0.0019025393270881708,"recon":0.0019025393270881708},
{"x":112,"actual":-1.0052609325406081e-5,"recon":-1.0052609325406081e-5},
{"x":113,"actual":-9.989165751456142e-6,"recon":-9.989165751456142e-6},
{"x":114,"actual":-0.000638264387432308,"recon":-0.000638264387432308},
{"x":115,"actual":-0.0006334767990034962,"recon":-0.0006334767990034962},
{"x":116,"actual":-3.5421475219621357e-6,"recon":-3.5421475219621357e-6},
{"x":117,"actual":-0.0012543107536444609,"recon":-0.0012543107536444609},
{"x":118,"actual":-3.916034732043272e-7,"recon":-3.916034732043272e-7},
{"x":119,"actual":-0.0006255865077342548,"recon":-0.0006255865077342548},
{"x":120,"actual":0.0018744147943507983,"recon":0.0018744147943507983},
{"x":121,"actual":-0.0006267539961957169,"recon":-0.0006267539961957169},
{"x":122,"actual":0.0012430005142967104,"recon":0.0012430005142967104},
{"x":123,"actual":-6.187984790351209e-6,"recon":-6.187984790351209e-6},
{"x":124,"actual":-0.00062516073747787,"recon":-0.00062516073747787},
{"x":125,"actual":-0.0006216886698338087,"recon":-0.0006216886698338087},
{"x":126,"actual":-0.0006193858790188855,"recon":-0.0006193858790188855},
{"x":127,"actual":0.0006170925666610927,"recon":0.0006170925666610927},
{"x":128,"actual":-0.001235330607991969,"recon":-0.001235330607991969},
{"x":129,"actual":0.0,"recon":0.0},
{"x":130,"actual":0.001233806448929009,"recon":0.001233806448929009},
{"x":131,"actual":0.001229248983468878,"recon":0.001229248983468878},
{"x":132,"actual":-0.0012337989776680658,"recon":-0.0012337989776680658},
{"x":133,"actual":0.0012247325068361903,"recon":0.0012247325068361903},
{"x":134,"actual":-0.0012292490656697908,"recon":-0.0012292490656697908},
{"x":135,"actual":-0.0006129319844907499,"recon":-0.0006129319844907499},
{"x":136,"actual":0.0018316875010704337,"recon":0.0018316875010704337},
{"x":137,"actual":-0.001223983066214629,"recon":-0.001223983066214629},
{"x":138,"actual":0.0006069721797734573,"recon":0.0006069721797734573},
{"x":139,"actual":-3.3299645201267936e-6,"recon":-3.3299645201267936e-6},
{"x":140,"actual":-0.001823154561514606,"recon":-0.001823154561514606},
{"x":141,"actual":0.0006069802917769707,"recon":0.0006069802917769707},
{"x":142,"actual":0.006045599429250537,"recon":0.006045599429250537},
{"x":143,"actual":-0.006049988560882902,"recon":-0.006049988560882902},
{"x":144,"actual":-0.0006025911601446055,"recon":-0.0006025911601446055},
{"x":145,"actual":0.0042080014002046084,"recon":0.0042080014002046084},
{"x":146,"actual":-0.0018113555556045213,"recon":-0.0018113555556045213},
{"x":147,"actual":0.0017837125871578152,"recon":0.0017837125871578152},
{"x":148,"actual":-0.0023941120502941615,"recon":-0.0023941120502941615},
{"x":149,"actual":-3.1849878077139238e-6,"recon":-3.1849878077139238e-6},
{"x":150,"actual":0.0005894189599748856,"recon":0.0005894189599748856},
{"x":151,"actual":0.0005852266236017201,"recon":0.0005852266236017201},
{"x":152,"actual":0.0011684409339398627,"recon":0.0011684409339398627},
{"x":153,"actual":0.001738971541225709,"recon":0.001738971541225709},
{"x":154,"actual":-0.006450085833512809,"recon":-0.006450085833512809},
{"x":155,"actual":0.0023388399672104043,"recon":0.0023388399672104043},
{"x":156,"actual":0.00407025469989275,"recon":0.00407025469989275},
{"x":157,"actual":-0.0029247351269861,"recon":-0.0029247351269861},
{"x":158,"actual":-0.00289939315900245,"recon":-0.00289939315900245},
{"x":159,"actual":0.00519781707361755,"recon":0.00519781707361755},
{"x":160,"actual":-0.003471197939630244,"recon":-0.003471197939630244},
{"x":161,"actual":-2.976075822225255e-6,"recon":-2.976075822225255e-6},
{"x":162,"actual":0.0005699359289339512,"recon":0.0005699359289339512},
{"x":163,"actual":0.0034174588084159296,"recon":0.0034174588084159296},
{"x":164,"actual":-0.003435723958379988,"recon":-0.003435723958379988},
{"x":165,"actual":-0.0017072933731263618,"recon":-0.0017072933731263618},
{"x":166,"actual":0.0011341076065223277,"recon":0.0011341076065223277},
{"x":167,"actual":0.003386941436940738,"recon":0.003386941436940738},
{"x":168,"actual":-0.0028355474270282954,"recon":-0.0028355474270282954},
{"x":169,"actual":-0.003943187365570644,"recon":-0.003943187365570644},
{"x":170,"actual":0.001689665285127262,"recon":0.001689665285127262},
{"x":171,"actual":0.003938120420137636,"recon":0.003938120420137636},
{"x":172,"actual":-0.0067494801576843955,"recon":-0.0067494801576843955},
{"x":173,"actual":0.002248138094947727,"recon":0.002248138094947727},
{"x":174,"actual":-3.1739739281277934e-7,"recon":-3.1739739281277934e-7},
{"x":175,"actual":0.002253204325119107,"recon":0.002253204325119107},
{"x":176,"actual":-2.850153648203957e-6,"recon":-2.850153648203957e-6},
{"x":177,"actual":0.001118235796129241,"recon":0.001118235796129241},
{"x":178,"actual":0.0016667284637854607,"recon":0.0016667284637854607},
{"x":179,"actual":-0.0033569520741476566,"recon":-0.0033569520741476566},
{"x":180,"actual":-0.000557879377479864,"recon":-0.000557879377479864},
{"x":181,"actual":0.0016677470823447393,"recon":0.0016677470823447393},
{"x":182,"actual":0.0005492318606146185,"recon":0.0005492318606146185},
{"x":183,"actual":-0.0011132566975851077,"recon":-0.0011132566975851077},
{"x":184,"actual":0.0005492754656621912,"recon":0.0005492754656621912},
{"x":185,"actual":-0.000555685554776808,"recon":-0.000555685554776808},
{"x":186,"actual":-2.7320575526346147e-6,"recon":-2.7320575526346147e-6},
{"x":187,"actual":0.0027392583790168956,"recon":0.0027392583790168956},
{"x":188,"actual":0.0010707236080316207,"recon":0.0010707236080316207},
{"x":189,"actual":-0.0038288566016362324,"recon":-0.0038288566016362324},
{"x":190,"actual":-0.005446332794130981,"recon":-0.005446332794130981},
{"x":191,"actual":0.0021747825270352905,"recon":0.0021747825270352905},
{"x":192,"actual":0.002731793126854676,"recon":0.002731793126854676},
{"x":193,"actual":0.0021786442569711184,"recon":0.0021786442569711184},
{"x":194,"actual":0.0010739307188858405,"recon":0.0010739307188858405},
{"x":195,"actual":-0.0010987151606309808,"recon":-0.0010987151606309808},
{"x":196,"actual":-0.004327837285243774,"recon":-0.004327837285243774},
{"x":197,"actual":0.0016217678716188288,"recon":0.0016217678716188288},
{"x":198,"actual":0.0021583702839196306,"recon":0.0021583702839196306},
{"x":199,"actual":0.0016043385908881547,"recon":0.0016043385908881547},
{"x":200,"actual":-0.0021586226199197256,"recon":-0.0021586226199197256},
{"x":201,"actual":-4.590207765886589e-6,"recon":-4.590207765886589e-6},
{"x":202,"actual":-0.0005380462080903925,"recon":-0.0005380462080903925},
{"x":203,"actual":0.002657720822680787,"recon":0.002657720822680787},
{"x":204,"actual":-0.0005473099907735701,"recon":-0.0005473099907735701},
{"x":205,"actual":-0.00265434619923699,"recon":-0.00265434619923699},
{"x":206,"actual":-0.0005295202035817681,"recon":-0.0005295202035817681},
{"x":207,"actual":0.0026375486046843477,"recon":0.0026375486046843477},
{"x":208,"actual":0.0020886432803086663,"recon":0.0020886432803086663},
{"x":209,"actual":-0.0005489818009465353,"recon":-0.0005489818009465353},
{"x":210,"actual":-0.0047058910374122576,"recon":-0.0047058910374122576},
{"x":211,"actual":-0.0005217845148388633,"recon":-0.0005217845148388633},
{"x":212,"actual":0.004688457209685026,"recon":0.004688457209685026},
{"x":213,"actual":-0.0005350214919834784,"recon":-0.0005350214919834784},
{"x":214,"actual":-0.0005292702243808733,"recon":-0.0005292702243808733},
{"x":215,"actual":-0.0036187765489552604,"recon":-0.0036187765489552604},
{"x":216,"actual":0.0010327911409468982,"recon":0.0010327911409468982},
{"x":217,"actual":0.005659640530090826,"recon":0.005659640530090826},
{"x":218,"actual":-3.7909411778613844e-5,"recon":-3.7909411778613844e-5},
{"x":219,"actual":0.007536434331387731,"recon":0.007536434331387731},
{"x":220,"actual":-0.012166644172496355,"recon":-0.012166644172496355},
{"x":221,"actual":-0.006543174213322622,"recon":-0.006543174213322622},
{"x":222,"actual":0.005035257365645585,"recon":0.005035257365645585},
{"x":223,"actual":0.006039273514243604,"recon":0.006039273514243604},
{"x":224,"actual":-0.005537643205254739,"recon":-0.005537643205254739},
{"x":225,"actual":0.0010017525850427589,"recon":0.0010017525850427589},
{"x":226,"actual":0.003491632486491092,"recon":0.003491632486491092},
{"x":227,"actual":-0.0020099385370686562,"recon":-0.0020099385370686562},
{"x":228,"actual":-0.0005043015696912789,"recon":-0.0005043015696912789},
{"x":229,"actual":0.0029553636384971327,"recon":0.0029553636384971327},
{"x":230,"actual":-0.0010102649554042387,"recon":-0.0010102649554042387},
{"x":231,"actual":-0.009344723028451796,"recon":-0.009344723028451796},
{"x":232,"actual":0.00047110267335970235,"recon":0.00047110267335970235},
{"x":233,"actual":0.0049429184806495385,"recon":0.0049429184806495385},
{"x":234,"actual":0.0049355991027209,"recon":0.0049355991027209},
{"x":235,"actual":-0.0037728651289015147,"recon":-0.0037728651289015147},
{"x":236,"actual":0.002212943077307017,"recon":0.002212943077307017},
{"x":237,"actual":0.0013157983596601142,"recon":0.0013157983596601142},
{"x":238,"actual":-0.0021904780112009803,"recon":-0.0021904780112009803},
{"x":239,"actual":0.0011283071749250695,"recon":0.0011283071749250695},
{"x":240,"actual":-0.001810404477464722,"recon":-0.001810404477464722},
{"x":241,"actual":-0.0005350597127780077,"recon":-0.0005350597127780077},
{"x":242,"actual":-0.001470779266562694,"recon":-0.001470779266562694},
{"x":243,"actual":0.003920367045320283,"recon":0.003920367045320283},
{"x":244,"actual":-0.0011501058443394996,"recon":-0.0011501058443394996},
{"x":245,"actual":0.004749669681774371,"recon":0.004749669681774371},
{"x":246,"actual":-0.004934340679924709,"recon":-0.004934340679924709}];
    const series = [{"name":"Actual","color":"#1f77b4","key":"actual","dash":""},{"name":"Reconstructed","color":"#ff7f0e","key":"recon","dash":"6,3"}];
    const bands = [];
    const refLines = [];

    const container = d3.select('#hd_line_54');
    const W = Math.max(container.node().clientWidth - 24, 280);
    const margin = {top:10, right:15, bottom:35, left:55};
    const w = W - margin.left - margin.right;
    const h = Math.min(w * 0.6, 250);

    const svg = container.append('svg').attr('width', W).attr('height', h + margin.top + margin.bottom);
    const g = svg.append('g').attr('transform', 'translate('+margin.left+','+margin.top+')');

    // Compute domains
    const xVals = data.map(d => d.x);
    const allYVals = [];
    series.forEach(s => data.forEach(d => { if(d[s.key]!==null) allYVals.push(d[s.key]); }));
    bands.forEach(b => data.forEach(d => {
        if(d[b.lo_key]!==null) allYVals.push(d[b.lo_key]);
        if(d[b.hi_key]!==null) allYVals.push(d[b.hi_key]);
    }));
    refLines.forEach(r => allYVals.push(r.value));

    const x = d3.scaleLinear().domain(d3.extent(xVals)).range([0,w]);
    const yExt = d3.extent(allYVals);
    const yPad = (yExt[1]-yExt[0])*0.08 || 1;
    const y = d3.scaleLinear().domain([yExt[0]-yPad, yExt[1]+yPad]).range([h,0]);

    // Grid
    g.append('g').attr('class','grid').call(d3.axisLeft(y).tickSize(-w).tickFormat(''));

    // Bands
    bands.forEach(b => {
        const area = d3.area()
            .x(d => x(d.x))
            .y0(d => y(d[b.lo_key]!==null ? d[b.lo_key] : 0))
            .y1(d => y(d[b.hi_key]!==null ? d[b.hi_key] : 0))
            .defined(d => d[b.lo_key]!==null && d[b.hi_key]!==null);
        g.append('path').datum(data).attr('d',area)
            .attr('fill',b.color).attr('opacity',b.alpha||0.15);
    });

    // Reference lines
    refLines.forEach(r => {
        g.append('line').attr('x1',0).attr('x2',w)
            .attr('y1',y(r.value)).attr('y2',y(r.value))
            .attr('stroke',r.color||'#999').attr('stroke-width',1)
            .attr('stroke-dasharray',r.dash||'4,3');
    });

    // Lines
    series.forEach(s => {
        const line = d3.line().x(d=>x(d.x)).y(d=>y(d[s.key]))
            .defined(d=>d[s.key]!==null);
        g.append('path').datum(data).attr('d',line)
            .attr('fill','none').attr('stroke',s.color).attr('stroke-width',1.8)
            .attr('stroke-dasharray',s.dash||'');
    });

    // Axes
    g.append('g').attr('class','axis').attr('transform','translate(0,'+h+')')
        .call(d3.axisBottom(x).ticks(Math.min(xVals.length,8)));
    g.append('g').attr('class','axis').call(d3.axisLeft(y).ticks(6));

    if('Period') g.append('text').attr('x',w/2).attr('y',h+30).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Period');
    if('Value') g.append('text').attr('transform','rotate(-90)')
        .attr('x',-h/2).attr('y',-42).attr('text-anchor','middle')
        .attr('font-size','11px').attr('fill','#666').text('Value');

    // Legend
    if(series.length > 1) {
        const leg = g.append('g').attr('class','legend').attr('transform','translate(5,-5)');
        series.forEach((s,i) => {
            const gi = leg.append('g').attr('transform','translate('+(i*100)+',0)');
            gi.append('line').attr('x1',0).attr('x2',16).attr('y1',0).attr('y2',0)
                .attr('stroke',s.color).attr('stroke-width',2)
                .attr('stroke-dasharray',s.dash||'');
            gi.append('text').attr('x',20).attr('y',4).attr('font-size','10px')
                .attr('fill','#555').text(s.name);
        });
    }

    // Tooltip overlay
    svg.append('rect').attr('width',W).attr('height',h+margin.top+margin.bottom)
        .attr('fill','none').attr('pointer-events','all')
        .on('mousemove', function(evt) {
            const [mx] = d3.pointer(evt, g.node());
            const x0 = x.invert(mx);
            const idx = d3.minIndex(data, d => Math.abs(d.x - x0));
            const d = data[idx];
            let html = '<b>x='+fmt(d.x)+'</b>';
            series.forEach(s => { if(d[s.key]!==null) html += '<br>'+s.name+': '+fmt(d[s.key]); });
            showTip(evt, html);
        })
        .on('mouseout', hideTip);
})();

</script>
</body>
</html>